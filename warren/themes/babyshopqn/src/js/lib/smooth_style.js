var mzOptions,mzMobileOptions;"vi"===document.querySelector("html").getAttribute("lang")&&(mzOptions=mzMobileOptions={textHoverZoomHint:"Rê chuột lên hình để phóng to",textClickZoomHint:"Click chuột lên hình để phóng to",textExpandHint:"Click để phóng to",textBtnClose:"Đóng",textBtnNext:"Xem hình sau",textBtnPrev:"Xem hình trước",zoomCaption:"top",hint:"off",rightClick:"true",expand:"fullscreen",expandZoomOn:"always",closeOnClickOutside:!1}),window.productZoom=function(){var u,e=u=function(){var e,t={version:"v3.3.1",UUID:0,storage:{},$uuid:function(t){return t.$J_UUID||(t.$J_UUID=++a.UUID)},getStorage:function(t){return a.storage[t]||(a.storage[t]={})},$F:function(){},$false:function(){return!1},$true:function(){return!0},stylesId:"mjs-"+Math.floor(Math.random()*(new Date).getTime()),defined:function(t){return null!=t},ifndef:function(t,e){return null!=t?t:e},exists:function(t){return!!t},jTypeOf:function(t){if(!a.defined(t))return!1;if(t.$J_TYPE)return t.$J_TYPE;if(t.nodeType){if(1==t.nodeType)return"element";if(3==t.nodeType)return"textnode"}if(t.length&&t.item)return"collection";if(t.length&&t.callee)return"arguments";if((t instanceof window.Object||t instanceof window.Function)&&t.constructor===a.Class)return"class";if(t instanceof window.Array)return"array";if(t instanceof window.Function)return"function";if(t instanceof window.String)return"string";if(a.browser.trident){if(a.defined(t.cancelBubble))return"event"}else if(t===window.event||t.constructor==window.Event||t.constructor==window.MouseEvent||t.constructor==window.UIEvent||t.constructor==window.KeyboardEvent||t.constructor==window.KeyEvent)return"event";return t instanceof window.Date?"date":t instanceof window.RegExp?"regexp":t===window?"window":t===document?"document":typeof t},extend:function(t,e){if(t instanceof window.Array||(t=[t]),!e)return t[0];for(var i=0,n=t.length;i<n;i++)if(a.defined(t))for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o))try{t[i][o]=e[o]}catch(t){}return t[0]},implement:function(t,e){t instanceof window.Array||(t=[t]);for(var i=0,n=t.length;i<n;i++)if(a.defined(t[i])&&t[i].prototype)for(var o in e||{})t[i].prototype[o]||(t[i].prototype[o]=e[o]);return t[0]},nativize:function(t,e){if(!a.defined(t))return t;for(var i in e||{})t[i]||(t[i]=e[i]);return t},$try:function(){for(var t=0,e=arguments.length;t<e;t++)try{return arguments[t]()}catch(t){}return null},$A:function(t){if(!a.defined(t))return a.$([]);if(t.toArray)return a.$(t.toArray());if(t.item){for(var e=t.length||0,i=new Array(e);e--;)i[e]=t[e];return a.$(i)}return a.$(Array.prototype.slice.call(t))},now:function(){return(new Date).getTime()},detach:function(t){var e;switch(a.jTypeOf(t)){case"object":for(var i in e={},t)e[i]=a.detach(t[i]);break;case"array":e=[];for(var n=0,o=t.length;n<o;n++)e[n]=a.detach(t[n]);break;default:return t}return a.$(e)},$:function(t){var e=!0;if(!a.defined(t))return null;if(t.$J_EXT)return t;switch(a.jTypeOf(t)){case"array":return(t=a.nativize(t,a.extend(a.Array,{$J_EXT:a.$F}))).jEach=t.forEach,t.contains=a.Array.contains,t;case"string":var i=document.getElementById(t);return a.defined(i)?a.$(i):null;case"window":case"document":a.$uuid(t),t=a.extend(t,a.Doc);break;case"element":a.$uuid(t),t=a.extend(t,a.Element);break;case"event":t=a.extend(t,a.Event);break;case"textnode":case"function":case"array":case"date":default:e=!1}return e?a.extend(t,{$J_EXT:a.$F}):t},$new:function(t,e,i){return a.$(a.doc.createElement(t)).setProps(e||{}).jSetCss(i||{})},addCSS:function(t,e,i){var n,o=[],s=-1;if(i=i||a.stylesId,n=(i=a.$(i)||a.$new("style",{id:i,type:"text/css"}).jAppendTo(document.head||document.body,"top")).sheet||i.styleSheet,"string"!=a.jTypeOf(e)){for(var r in e)o.push(r+":"+e[r]);e=o.join(";")}if(n.insertRule)s=n.insertRule(t+" {"+e+"}",n.cssRules.length);else try{s=n.addRule(t,e,n.rules.length)}catch(t){}return s},removeCSS:function(t,e){var t=a.$(t);"element"===a.jTypeOf(t)&&((t=t.sheet||t.styleSheet).deleteRule?t.deleteRule(e):t.removeRule&&t.removeRule(e))},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}).toUpperCase()},getAbsoluteURL:function(t){return(e=e||document.createElement("a")).setAttribute("href",t),("!!"+e.href).replace("!!","")},getHashCode:function(t){for(var e=0,i=t.length,n=0;n<i;++n)e=31*e+t.charCodeAt(n),e%=4294967296;return e}},a=t;t.$;window.magicJS||(window.magicJS=t,window.$mjs=t.$),a.Array={$J_TYPE:"array",indexOf:function(t,e){this.length;for(var i=this.length,n=e<0?Math.max(0,i+e):e||0;n<i;n++)if(this[n]===t)return n;return-1},contains:function(t,e){return-1!=this.indexOf(t,e)},forEach:function(t,e){for(var i=0,n=this.length;i<n;i++)i in this&&t.call(e,this[i],i,this)},filter:function(t,e){for(var i,n=[],o=0,s=this.length;o<s;o++)o in this&&(i=this[o],t.call(e,this[o],o,this)&&n.push(i));return n},map:function(t,e){for(var i=[],n=0,o=this.length;n<o;n++)n in this&&(i[n]=t.call(e,this[n],n,this));return i}},a.implement(String,{$J_TYPE:"string",jTrim:function(){return this.replace(/^\s+|\s+$/g,"")},eq:function(t,e){return e?this.toString()===t.toString():this.toLowerCase().toString()===t.toLowerCase().toString()},jCamelize:function(){return this.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()})},dashize:function(){return this.replace(/[A-Z]/g,function(t){return"-"+t.charAt(0).toLowerCase()})},jToInt:function(t){return parseInt(this,t||10)},toFloat:function(){return parseFloat(this)},jToBool:function(){return!this.replace(/true/i,"").jTrim()},has:function(t,e){return-1<((e=e||"")+this+e).indexOf(e+t+e)}}),t.implement(Function,{$J_TYPE:"function",jBind:function(){var t=a.$A(arguments),e=this,i=t.shift();return function(){return e.apply(i||null,t.concat(a.$A(arguments)))}},jBindAsEvent:function(){var e=a.$A(arguments),i=this,n=e.shift();return function(t){return i.apply(n||null,a.$([t||(a.browser.ieMode?window.event:null)]).concat(e))}},jDelay:function(){var t=a.$A(arguments),e=this,i=t.shift();return window.setTimeout(function(){return e.apply(e,t)},i||0)},jDefer:function(){var t=a.$A(arguments),e=this;return function(){return e.jDelay.apply(e,t)}},interval:function(){var t=a.$A(arguments),e=this,i=t.shift();return window.setInterval(function(){return e.apply(e,t)},i||0)}});var h={},i=navigator.userAgent.toLowerCase(),n=i.match(/(webkit|gecko|trident|presto)\/(\d+\.?\d*)/i),o=i.match(/(edge|opr)\/(\d+\.?\d*)/i)||i.match(/(crios|chrome|safari|firefox|opera|opr)\/(\d+\.?\d*)/i),s=i.match(/version\/(\d+\.?\d*)/i),r=document.documentElement.style;function d(t){var e=t.charAt(0).toUpperCase()+t.slice(1);return t in r||"Webkit"+e in r||"Moz"+e in r||"ms"+e in r||"O"+e in r}a.browser={features:{xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector,fullScreen:!!(document.fullscreenEnabled||document.msFullscreenEnabled||document.exitFullscreen||document.cancelFullScreen||document.webkitexitFullscreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.oCancelFullScreen||document.msCancelFullScreen),xhr2:!!window.ProgressEvent&&!!window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,transition:d("transition"),transform:d("transform"),perspective:d("perspective"),animation:d("animation"),requestAnimationFrame:!1,multibackground:!1,cssFilters:!1,canvas:!1,svg:document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},touchScreen:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,mobile:!!i.match(/(android|bb\d+|meego).+|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/),engine:n&&n[1]?n[1].toLowerCase():window.opera?"presto":window.ActiveXObject?"trident":void 0!==document.getBoxObjectFor||null!==window.mozInnerScreenY?"gecko":null===window.WebKitPoint&&navigator.taintEnabled?"unknown":"webkit",version:n&&n[2]?parseFloat(n[2]):0,uaName:o&&o[1]?o[1].toLowerCase():"",uaVersion:o&&o[2]?parseFloat(o[2]):0,cssPrefix:"",cssDomPrefix:"",domPrefix:"",ieMode:0,platform:i.match(/ip(?:ad|od|hone)/)?"ios":(i.match(/(?:webos|android)/)||navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),backCompat:document.compatMode&&"backcompat"===document.compatMode.toLowerCase(),scrollbarsWidth:0,getDoc:function(){return document.compatMode&&"backcompat"===document.compatMode.toLowerCase()?document.body:document.documentElement},requestAnimationFrame:window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||void 0,cancelAnimationFrame:window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||void 0,ready:!1,onready:function(){if(!a.browser.ready){var t,e,i;a.browser.ready=!0,a.body=a.$(document.body),a.win=a.$(window);try{var n=a.$new("div").jSetCss({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).jAppendTo(document.body);a.browser.scrollbarsWidth=n.offsetWidth-n.clientWidth,n.jRemove()}catch(t){}try{(e=(t=a.$new("div")).style).cssText="background:url(https://),url(https://),red url(https://)",a.browser.features.multibackground=/(url\s*\(.*?){3}/.test(e.background),t=e=null}catch(t){}a.browser.cssTransformProp||(a.browser.cssTransformProp=a.normalizeCSS("transform").dashize());try{(t=a.$new("div")).style.cssText=a.normalizeCSS("filter").dashize()+":blur(2px);",a.browser.features.cssFilters=!!t.style.length&&(!a.browser.ieMode||9<a.browser.ieMode),t=null}catch(t){}a.browser.features.cssFilters||a.$(document.documentElement).jAddClass("no-cssfilters-magic");try{a.browser.features.canvas=!(!(i=a.$new("canvas")).getContext||!i.getContext("2d"))}catch(t){}void 0===window.TransitionEvent&&void 0!==window.WebKitTransitionEvent&&(h.transitionend="webkitTransitionEnd"),a.Doc.jCallEvent.call(a.$(document),"domready")}}},function(){var t,e,i=[];switch(a.browser.engine){case"trident":a.browser.version||(a.browser.version=window.XMLHttpRequest?3:2);break;case"gecko":a.browser.version=o&&o[2]?parseFloat(o[2]):0}if(a.browser[a.browser.engine]=!0,o&&"crios"===o[1]&&(a.browser.uaName="chrome"),window.chrome&&(a.browser.chrome=!0),o&&"opr"===o[1]&&(a.browser.uaName="opera",a.browser.opera=!0),"safari"===a.browser.uaName&&s&&s[1]&&(a.browser.uaVersion=parseFloat(s[1])),"android"===a.browser.platform&&a.browser.webkit&&s&&s[1]&&(a.browser.androidBrowser=!0),e={gecko:["-moz-","Moz","moz"],webkit:["-webkit-","Webkit","webkit"],trident:["-ms-","ms","ms"],presto:["-o-","O","o"]}[a.browser.engine]||["","",""],a.browser.cssPrefix=e[0],a.browser.cssDomPrefix=e[1],a.browser.domPrefix=e[2],a.browser.ieMode=a.browser.trident?document.documentMode||function(){var t=0;if(a.browser.backCompat)return 5;switch(a.browser.version){case 2:t=6;break;case 3:t=7}return t}():void 0,i.push(a.browser.platform+"-magic"),a.browser.mobile&&i.push("mobile-magic"),a.browser.androidBrowser&&i.push("android-browser-magic"),a.browser.ieMode)for(a.browser.uaName="ie",a.browser.uaVersion=a.browser.ieMode,i.push("ie"+a.browser.ieMode+"-magic"),t=11;t>a.browser.ieMode;t--)i.push("lt-ie"+t+"-magic");a.browser.webkit&&a.browser.version<536&&(a.browser.features.fullScreen=!1),a.browser.requestAnimationFrame&&a.browser.requestAnimationFrame.call(window,function(){a.browser.features.requestAnimationFrame=!0}),a.browser.features.svg?i.push("svg-magic"):i.push("no-svg-magic"),e=(document.documentElement.className||"").match(/\S+/g)||[],document.documentElement.className=a.$(e).concat(i).join(" ");try{document.documentElement.setAttribute("data-magic-ua",a.browser.uaName),document.documentElement.setAttribute("data-magic-ua-ver",a.browser.uaVersion)}catch(t){}a.browser.ieMode&&a.browser.ieMode<9&&(document.createElement("figure"),document.createElement("figcaption")),window.navigator.pointerEnabled||a.$(["Down","Up","Move","Over","Out"]).jEach(function(t){h["pointer"+t.toLowerCase()]=window.navigator.msPointerEnabled?"MSPointer"+t:-1})}(),a.browser.fullScreen={capable:a.browser.features.fullScreen,enabled:function(){return!!(document.fullscreenElement||document[a.browser.domPrefix+"FullscreenElement"]||document.fullScreen||document.webkitIsFullScreen||document[a.browser.domPrefix+"FullScreen"])},request:function(t,e){e=e||{},this.capable?(a.$(document).jAddEvent(this.changeEventName,this.onchange=function(t){this.enabled()?e.onEnter&&e.onEnter():(a.$(document).jRemoveEvent(this.changeEventName,this.onchange),e.onExit&&e.onExit())}.jBindAsEvent(this)),a.$(document).jAddEvent(this.errorEventName,this.onerror=function(t){e.fallback&&e.fallback(),a.$(document).jRemoveEvent(this.errorEventName,this.onerror)}.jBindAsEvent(this)),(t.requestFullscreen||t[a.browser.domPrefix+"RequestFullscreen"]||t[a.browser.domPrefix+"RequestFullScreen"]||function(){}).call(t)):e.fallback&&e.fallback()},cancel:(document.exitFullscreen||document.cancelFullScreen||document[a.browser.domPrefix+"ExitFullscreen"]||document[a.browser.domPrefix+"CancelFullScreen"]||function(){}).jBind(document),changeEventName:document.msExitFullscreen?"MSFullscreenChange":(document.exitFullscreen?"":a.browser.domPrefix)+"fullscreenchange",errorEventName:document.msExitFullscreen?"MSFullscreenError":(document.exitFullscreen?"":a.browser.domPrefix)+"fullscreenerror",prefix:a.browser.domPrefix,activeElement:null};var l,u,c,m,p,f,g,v,x,w,b,y,z,j,_=/\S+/g,C=/^(border(Top|Bottom|Left|Right)Width)|((padding|margin)(Top|Bottom|Left|Right))$/,T={float:void 0===r.styleFloat?"cssFloat":"styleFloat"},S={fontWeight:!0,lineHeight:!0,opacity:!0,zIndex:!0,zoom:!0},E=window.getComputedStyle?function(t,e){t=window.getComputedStyle(t,null);return t?t.getPropertyValue(e)||t[e]:null}:function(t,e){var i=t.currentStyle,n=null;return null==(n=i?i[e]:null)&&t.style&&t.style[e]&&(n=t.style[e]),n};function B(t){var e;return!((!a.browser.webkit||"filter"!=t)&&t in r)&&(e=a.browser.cssDomPrefix+t.charAt(0).toUpperCase()+t.slice(1))in r?e:t}function A(t,e){var i=e.x-t.x,t=e.y-t.y;return Math.sqrt(i*i+t*t)}function M(t,e){var i;return t.targetTouches&&t.changedTouches?(i=t.targetTouches||t.changedTouches,i=Array.prototype.slice.call(i)):(i=[],e&&e.forEach(function(t){i.push(t)})),i}function k(t,e,i){var n=!1;return!t.pointerId||"touch"!==t.pointerType||i&&!e.has(t.pointerId)||(e.set(t.pointerId,t),n=!0),n}function O(t){t=t.pointerId&&"touch"===t.pointerType?t.pointerId:t.identifier;return t}function R(t,e){for(var i,n=!1,o=0;o<t.length&&2!==e.length;o++)i=O(t[o]),e.contains(i)||(e.push(i),n=!0);return n}function P(t,e){var i,n,o,s=!1;if(e)for(t=t,o=w([]),t.forEach(function(t){o.push(O(t))}),n=o,i=0;i<e.length;i++)if(!n.contains(e[i])){e.splice(i,1),s=!0;break}return s}function F(t,e){for(var i=w([]),n=0;n<t.length&&(!e.contains(O(t[n]))||(i.push(t[n]),2!==i.length));n++);return i}function D(){z=null}return a.normalizeCSS=B,a.Element={jHasClass:function(t){return!(t||"").has(" ")&&(this.className||"").has(t," ")},jAddClass:function(t){for(var e=(this.className||"").match(_)||[],i=(t||"").match(_)||[],n=i.length,o=0;o<n;o++)a.$(e).contains(i[o])||e.push(i[o]);return this.className=e.join(" "),this},jRemoveClass:function(t){for(var e,i=(this.className||"").match(_)||[],n=(t||"").match(_)||[],o=n.length,s=0;s<o;s++)-1<(e=a.$(i).indexOf(n[s]))&&i.splice(e,1);return this.className=t?i.join(" "):"",this},jToggleClass:function(t){return this.jHasClass(t)?this.jRemoveClass(t):this.jAddClass(t)},jGetCss:function(t){var e=t.jCamelize(),i=null;if(t=T[e]||(T[e]=B(e)),"auto"===(i=E(this,t))&&(i=null),null!==i){if("opacity"==t)return a.defined(i)?parseFloat(i):1;C.test(t)&&(i=parseInt(i,10)?i:"0px")}return i},jSetCssProp:function(t,e){var i=t.jCamelize();try{if("opacity"==t)return this.jSetOpacity(e),this;t=T[i]||(T[i]=B(i)),this.style[t]=e+("number"!=a.jTypeOf(e)||S[i]?"":"px")}catch(t){}return this},jSetCss:function(t){for(var e in t)this.jSetCssProp(e,t[e]);return this},jGetStyles:function(){var e={};return a.$A(arguments).jEach(function(t){e[t]=this.jGetCss(t)},this),e},jSetOpacity:function(t,e){return e=e||!1,this.style.opacity=t,t=parseInt(100*parseFloat(t)),e&&(0===t?"hidden"!=this.style.visibility&&(this.style.visibility="hidden"):"visible"!=this.style.visibility&&(this.style.visibility="visible")),a.browser.ieMode&&a.browser.ieMode<9&&(isNaN(t)?(this.style.filter=this.style.filter.replace(/progid:DXImageTransform.Microsoft.Alpha\(Opacity=\d*\)/i,"").jTrim(),""===this.style.filter&&this.style.removeAttribute("filter")):~this.style.filter.indexOf("Alpha")?this.style.filter=this.style.filter.replace(/Opacity=\d*/i,"Opacity="+t):this.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+t+")"),this},setProps:function(t){for(var e in t)"class"===e?this.jAddClass(""+t[e]):this.setAttribute(e,""+t[e]);return this},jGetTransitionDuration:function(){var t=0,e=0,t=this.jGetCss("transition-duration"),e=this.jGetCss("transition-delay");return(t=-1<t.indexOf("ms")?parseFloat(t):-1<t.indexOf("s")?1e3*parseFloat(t):0)+(e=-1<e.indexOf("ms")?parseFloat(e):-1<e.indexOf("s")?1e3*parseFloat(e):0)},hide:function(){return this.jSetCss({display:"none",visibility:"hidden"})},show:function(){return this.jSetCss({display:"",visibility:"visible"})},jGetSize:function(){return{width:this.offsetWidth,height:this.offsetHeight}},getInnerSize:function(t){var e=this.jGetSize();return e.width-=parseFloat(this.jGetCss("border-left-width")||0)+parseFloat(this.jGetCss("border-right-width")||0),e.height-=parseFloat(this.jGetCss("border-top-width")||0)+parseFloat(this.jGetCss("border-bottom-width")||0),t||(e.width-=parseFloat(this.jGetCss("padding-left")||0)+parseFloat(this.jGetCss("padding-right")||0),e.height-=parseFloat(this.jGetCss("padding-top")||0)+parseFloat(this.jGetCss("padding-bottom")||0)),e},jGetScroll:function(){return{top:this.scrollTop,left:this.scrollLeft}},jGetFullScroll:function(){for(var t=this,e={top:0,left:0};e.left+=t.scrollLeft||0,e.top+=t.scrollTop||0,t=t.parentNode,t;);return e},jGetPosition:function(){var t=this,e=0,i=0;if(a.defined(document.documentElement.getBoundingClientRect)){var n=this.getBoundingClientRect(),o=a.$(document).jGetScroll(),s=a.browser.getDoc();return{top:n.top+o.y-s.clientTop,left:n.left+o.x-s.clientLeft}}for(;e+=t.offsetLeft||0,i+=t.offsetTop||0,t=t.offsetParent,t&&!/^(?:body|html)$/i.test(t.tagName););return{top:i,left:e}},jGetRect:function(){var t=this.jGetPosition(),e=this.jGetSize();return{top:t.top,bottom:t.top+e.height,left:t.left,right:t.left+e.width}},changeContent:function(e){try{this.innerHTML=e}catch(t){this.innerText=e}return this},jRemove:function(){return this.parentNode?this.parentNode.removeChild(this):this},kill:function(){return a.$A(this.childNodes).jEach(function(t){3!=t.nodeType&&8!=t.nodeType&&a.$(t).kill()}),this.jRemove(),this.jClearEvents(),this.$J_UUID&&(a.storage[this.$J_UUID]=null,delete a.storage[this.$J_UUID]),null},append:function(t,e){e=e||"bottom";var i=this.firstChild;return"top"==e&&i?this.insertBefore(t,i):this.appendChild(t),this},jAppendTo:function(t,e){a.$(t).append(this,e);return this},enclose:function(t){return this.append(t.parentNode.replaceChild(this,t)),this},hasChild:function(t){return"element"===a.jTypeOf("string"==a.jTypeOf(t)?t=document.getElementById(t):t)&&(this!=t&&(this.contains&&!a.browser.webkit419?this.contains(t):this.compareDocumentPosition?!!(16&this.compareDocumentPosition(t)):a.$A(this.byTag(t.tagName)).contains(t)))}},a.Element.jGetStyle=a.Element.jGetCss,a.Element.jSetStyle=a.Element.jSetCss,window.Element||(window.Element=a.$F,a.browser.engine.webkit&&window.document.createElement("iframe"),window.Element.prototype=a.browser.engine.webkit?window["[[DOMElement.prototype]]"]:{}),a.implement(window.Element,{$J_TYPE:"element"}),a.Doc={jGetSize:function(){return a.browser.touchScreen||a.browser.presto925||a.browser.webkit419?{width:window.innerWidth,height:window.innerHeight}:{width:a.browser.getDoc().clientWidth,height:a.browser.getDoc().clientHeight}},jGetScroll:function(){return{x:window.pageXOffset||a.browser.getDoc().scrollLeft,y:window.pageYOffset||a.browser.getDoc().scrollTop}},jGetFullSize:function(){var t=this.jGetSize();return{width:Math.max(a.browser.getDoc().scrollWidth,t.width),height:Math.max(a.browser.getDoc().scrollHeight,t.height)}}},a.extend(document,{$J_TYPE:"document"}),a.extend(window,{$J_TYPE:"window"}),a.extend([a.Element,a.Doc],{jFetch:function(t,e){var i=a.getStorage(this.$J_UUID),n=i[t];return void 0!==e&&void 0===n&&(n=i[t]=e),a.defined(n)?n:null},jStore:function(t,e){return a.getStorage(this.$J_UUID)[t]=e,this},jDel:function(t){return delete a.getStorage(this.$J_UUID)[t],this}}),window.HTMLElement&&window.HTMLElement.prototype&&window.HTMLElement.prototype.getElementsByClassName||a.extend([a.Element,a.Doc],{getElementsByClassName:function(e){return a.$A(this.getElementsByTagName("*")).filter(function(t){try{return 1==t.nodeType&&t.className.has(e," ")}catch(t){}})}}),a.extend([a.Element,a.Doc],{byClass:function(){return this.getElementsByClassName(arguments[0])},byTag:function(){return this.getElementsByTagName(arguments[0])}}),a.browser.fullScreen.capable&&!document.requestFullScreen&&(a.Element.requestFullScreen=function(){a.browser.fullScreen.request(this)}),a.Event={$J_TYPE:"event",isQueueStopped:a.$false,stop:function(){return this.stopDistribution().stopDefaults()},stopDistribution:function(){return this.stopPropagation?this.stopPropagation():this.cancelBubble=!0,this},stopDefaults:function(){return this.preventDefault?this.preventDefault():this.returnValue=!1,this},stopQueue:function(){return this.isQueueStopped=a.$true,this},getClientXY:function(){var t=/touch/i.test(this.type)?this.changedTouches[0]:this;return a.defined(t)?{x:t.clientX,y:t.clientY}:{x:0,y:0}},jGetPageXY:function(){var t=/touch/i.test(this.type)?this.changedTouches[0]:this;return a.defined(t)?{x:t.pageX||t.clientX+a.browser.getDoc().scrollLeft,y:t.pageY||t.clientY+a.browser.getDoc().scrollTop}:{x:0,y:0}},getTarget:function(){for(var t=this.target||this.srcElement;t&&3===t.nodeType;)t=t.parentNode;return t},getRelated:function(){var e=null;switch(this.type){case"mouseover":case"pointerover":case"MSPointerOver":e=this.relatedTarget||this.fromElement;break;case"mouseout":case"pointerout":case"MSPointerOut":e=this.relatedTarget||this.toElement;break;default:return e}try{for(;e&&3===e.nodeType;)e=e.parentNode}catch(t){e=null}return e},getButton:function(){return this.which||void 0===this.button?this.which:1&this.button?1:2&this.button?3:4&this.button?2:0},isTouchEvent:function(){return this.pointerType&&("touch"===this.pointerType||this.pointerType===this.MSPOINTER_TYPE_TOUCH)||/touch/i.test(this.type)},isPrimaryTouch:function(){return this.pointerType?("touch"===this.pointerType||this.MSPOINTER_TYPE_TOUCH===this.pointerType)&&this.isPrimary:this instanceof window.TouchEvent&&(1===this.changedTouches.length&&(!this.targetTouches.length||1===this.targetTouches.length&&this.targetTouches[0].identifier===this.changedTouches[0].identifier))},getPrimaryTouch:function(){return this.pointerType?!this.isPrimary||"touch"!==this.pointerType&&this.MSPOINTER_TYPE_TOUCH!==this.pointerType?null:this:this instanceof window.TouchEvent?this.changedTouches[0]:null},getPrimaryTouchId:function(){return this.pointerType?!this.isPrimary||"touch"!==this.pointerType&&this.MSPOINTER_TYPE_TOUCH!==this.pointerType?null:this.pointerId:this instanceof window.TouchEvent?this.changedTouches[0].identifier:null}},a._event_add_="addEventListener",a._event_del_="removeEventListener",a._event_prefix_="",document.addEventListener||(a._event_add_="attachEvent",a._event_del_="detachEvent",a._event_prefix_="on"),a.Event.Custom={type:"",x:null,y:null,timeStamp:null,button:null,target:null,relatedTarget:null,$J_TYPE:"event.custom",isQueueStopped:a.$false,events:a.$([]),pushToEvents:function(t){this.events.push(t)},stop:function(){return this.stopDistribution().stopDefaults()},stopDistribution:function(){return this.events.jEach(function(t){try{t.stopDistribution()}catch(t){}}),this},stopDefaults:function(){return this.events.jEach(function(t){try{t.stopDefaults()}catch(t){}}),this},stopQueue:function(){return this.isQueueStopped=a.$true,this},getClientXY:function(){return{x:this.clientX,y:this.clientY}},jGetPageXY:function(){return{x:this.x,y:this.y}},getTarget:function(){return this.target},getRelated:function(){return this.relatedTarget},getButton:function(){return this.button},getOriginalTarget:function(){return 0<this.events.length?this.events[0].getTarget():void 0},isTouchEvent:function(){return this.pointerType&&("touch"===this.pointerType||this.pointerType===this.MSPOINTER_TYPE_TOUCH)||/touch/i.test(this.type)},isPrimaryTouch:function(){return this.pointerType?("touch"===this.pointerType||this.MSPOINTER_TYPE_TOUCH===this.pointerType)&&this.isPrimary:this instanceof window.TouchEvent&&(1===this.changedTouches.length&&(!this.targetTouches.length||this.targetTouches[0].identifier===this.changedTouches[0].identifier))},getPrimaryTouch:function(){return this.pointerType?!this.isPrimary||"touch"!==this.pointerType&&this.MSPOINTER_TYPE_TOUCH!==this.pointerType?null:this:this instanceof window.TouchEvent?this.changedTouches[0]:null},getPrimaryTouchId:function(){return this.pointerType?!this.isPrimary||"touch"!==this.pointerType&&this.MSPOINTER_TYPE_TOUCH!==this.pointerType?null:this.pointerId:this instanceof window.TouchEvent?this.changedTouches[0].identifier:null}},a.extend([a.Element,a.Doc],{jAddEvent:function(e,t,i,n){var o,s,r;return"string"===a.jTypeOf(e)&&1<(r=e.split(" ")).length&&(e=r),"array"===a.jTypeOf(e)?a.$(e).jEach(this.jAddEvent.jBindAsEvent(this,t,i,n)):(e=h[e]||e)&&t&&"string"===a.jTypeOf(e)&&"function"===a.jTypeOf(t)&&("domready"===e&&a.browser.ready?t.call(this):(i=parseInt(i||50,10),t.$J_EUID||(t.$J_EUID=Math.floor(Math.random()*a.now())),(r=(o=a.Doc.jFetch.call(this,"_EVENTS_",{}))[e])||(o[e]=r=a.$([]),s=this,a.Event.Custom[e]?a.Event.Custom[e].handler.add.call(this,n):(r.handle=function(t){t=a.extend(t||window.e,{$J_TYPE:"event"}),a.Doc.jCallEvent.call(s,e,a.$(t))},this[a._event_add_](a._event_prefix_+e,r.handle,!1))),t={type:e,fn:t,priority:i,euid:t.$J_EUID},r.push(t),r.sort(function(t,e){return t.priority-e.priority}))),this},jRemoveEvent:function(t){var e,i,n,o,s=a.Doc.jFetch.call(this,"_EVENTS_",{}),r=1<arguments.length?arguments[1]:-100;if("string"===a.jTypeOf(t)&&1<(o=t.split(" ")).length&&(t=o),"array"===a.jTypeOf(t))return a.$(t).jEach(this.jRemoveEvent.jBindAsEvent(this,r)),this;if(!(t=h[t]||t)||"string"!==a.jTypeOf(t)||!s||!s[t])return this;for(e=s[t]||[],n=0;n<e.length;n++)i=e[n],(-100===r||r&&r.$J_EUID===i.euid)&&e.splice(n--,1);return 0===e.length&&(a.Event.Custom[t]?a.Event.Custom[t].handler.jRemove.call(this):this[a._event_del_](a._event_prefix_+t,e.handle,!1),delete s[t]),this},jCallEvent:function(t,e){var i,n,o=a.Doc.jFetch.call(this,"_EVENTS_",{});if(!(t=h[t]||t)||"string"!==a.jTypeOf(t)||!o||!o[t])return this;try{e=a.extend(e||{},{type:t})}catch(t){}for(void 0===e.timeStamp&&(e.timeStamp=a.now()),i=o[t]||[],n=0;n<i.length&&(!e.isQueueStopped||!e.isQueueStopped());n++)i[n].fn.call(this,e)},jRaiseEvent:function(t,e){var i,n="domready"!==t,o=this;return t=h[t]||t,n?(o===document&&document.createEvent&&!o.dispatchEvent&&(o=document.documentElement),document.createEvent?(i=document.createEvent(t)).initEvent(e,!0,!0):(i=document.createEventObject()).eventType=t,document.createEvent?o.dispatchEvent(i):o.fireEvent("on"+e,i),i):(a.Doc.jCallEvent.call(this,t),this)},jClearEvents:function(){var t,e=a.Doc.jFetch.call(this,"_EVENTS_");if(!e)return this;for(t in e)a.Doc.jRemoveEvent.call(this,t);return a.Doc.jDel.call(this,"_EVENTS_"),this}}),l=t,"complete"===document.readyState?l.browser.onready.jDelay(1):l.browser.webkit&&l.browser.version<420?function(){l.$(["loaded","complete"]).contains(document.readyState)?l.browser.onready():arguments.callee.jDelay(50)}():l.browser.trident&&l.browser.ieMode<9&&window===top?function(){l.$try(function(){return l.browser.getDoc().doScroll("left"),!0})?l.browser.onready():arguments.callee.jDelay(50)}():(l.Doc.jAddEvent.call(l.$(document),"DOMContentLoaded",l.browser.onready),l.Doc.jAddEvent.call(l.$(window),"load",l.browser.onready)),a.Class=function(){var t=null,e=a.$A(arguments);"class"==a.jTypeOf(e[0])&&(t=e.shift());function i(){for(var t in this)this[t]=a.detach(this[t]);if(this.constructor.$parent){this.$parent={};var e,i=this.constructor.$parent;for(e in i){var n=i[e];switch(a.jTypeOf(n)){case"function":this.$parent[e]=a.Class.wrap(this,n);break;case"object":case"array":this.$parent[e]=a.detach(n)}}}var o=this.init?this.init.apply(this,arguments):this;return delete this.caller,o}if(i.prototype.init||(i.prototype.init=a.$F),t){function n(){}for(var o in n.prototype=t.prototype,i.prototype=new n,i.$parent={},t.prototype)i.$parent[o]=t.prototype[o]}else i.$parent=null;return i.constructor=a.Class,i.prototype.constructor=i,a.extend(i.prototype,e[0]),a.extend(i,{$J_TYPE:"class"}),i},t.Class.wrap=function(t,e){return function(){this.caller;return e.apply(t,arguments)}},(u=t).$,u.Event.Custom.btnclick=new u.Class(u.extend(u.Event.Custom,{type:"btnclick",init:function(t,e){var i=e.jGetPageXY();this.x=i.x,this.y=i.y,this.clientX=e.clientX,this.clientY=e.clientY,this.timeStamp=e.timeStamp,this.button=e.getButton(),this.target=t,this.pushToEvents(e)}})),u.Event.Custom.btnclick.handler={options:{threshold:300,button:1},add:function(t){this.jStore("event:btnclick:options",u.extend(u.detach(u.Event.Custom.btnclick.handler.options),t||{})),this.jAddEvent("mousedown",u.Event.Custom.btnclick.handler.handle,1),this.jAddEvent("mouseup",u.Event.Custom.btnclick.handler.handle,1),this.jAddEvent("click",u.Event.Custom.btnclick.handler.onclick,1),u.browser.trident&&u.browser.ieMode<9&&this.jAddEvent("dblclick",u.Event.Custom.btnclick.handler.handle,1)},jRemove:function(){this.jRemoveEvent("mousedown",u.Event.Custom.btnclick.handler.handle),this.jRemoveEvent("mouseup",u.Event.Custom.btnclick.handler.handle),this.jRemoveEvent("click",u.Event.Custom.btnclick.handler.onclick),u.browser.trident&&u.browser.ieMode<9&&this.jRemoveEvent("dblclick",u.Event.Custom.btnclick.handler.handle)},onclick:function(t){t.stopDefaults()},handle:function(t){var e,i,n=this.jFetch("event:btnclick:options");"dblclick"!=t.type&&t.getButton()!=n.button||(this.jFetch("event:btnclick:ignore")?this.jDel("event:btnclick:ignore"):"mousedown"==t.type?(e=new u.Event.Custom.btnclick(this,t),this.jStore("event:btnclick:btnclickEvent",e)):"mouseup"==t.type?(e=this.jFetch("event:btnclick:btnclickEvent"))&&(i=t.jGetPageXY(),this.jDel("event:btnclick:btnclickEvent"),e.pushToEvents(t),t.timeStamp-e.timeStamp<=n.threshold&&Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))<=5&&this.jCallEvent("btnclick",e),document.jCallEvent("mouseup",t)):"dblclick"==t.type&&(e=new u.Event.Custom.btnclick(this,t),this.jCallEvent("btnclick",e)))}},m=(c=t).$,c.Event.Custom.mousedrag=new c.Class(c.extend(c.Event.Custom,{type:"mousedrag",state:"dragstart",dragged:!1,init:function(t,e,i){var n=e.jGetPageXY();this.x=n.x,this.y=n.y,this.clientX=e.clientX,this.clientY=e.clientY,this.timeStamp=e.timeStamp,this.button=e.getButton(),this.target=t,this.pushToEvents(e),this.state=i}})),c.Event.Custom.mousedrag.handler={add:function(){var t=c.Event.Custom.mousedrag.handler.handleMouseMove.jBindAsEvent(this),e=c.Event.Custom.mousedrag.handler.handleMouseUp.jBindAsEvent(this);this.jAddEvent("mousedown",c.Event.Custom.mousedrag.handler.handleMouseDown,1),this.jAddEvent("mouseup",c.Event.Custom.mousedrag.handler.handleMouseUp,1),document.jAddEvent("mousemove",t,1),document.jAddEvent("mouseup",e,1),this.jStore("event:mousedrag:listeners:document:move",t),this.jStore("event:mousedrag:listeners:document:end",e)},jRemove:function(){this.jRemoveEvent("mousedown",c.Event.Custom.mousedrag.handler.handleMouseDown),this.jRemoveEvent("mouseup",c.Event.Custom.mousedrag.handler.handleMouseUp),m(document).jRemoveEvent("mousemove",this.jFetch("event:mousedrag:listeners:document:move")||c.$F),m(document).jRemoveEvent("mouseup",this.jFetch("event:mousedrag:listeners:document:end")||c.$F),this.jDel("event:mousedrag:listeners:document:move"),this.jDel("event:mousedrag:listeners:document:end")},handleMouseDown:function(t){1==t.getButton()&&(t=new c.Event.Custom.mousedrag(this,t,"dragstart"),this.jStore("event:mousedrag:dragstart",t))},handleMouseUp:function(t){var e=this.jFetch("event:mousedrag:dragstart");e&&(t.stopDefaults(),e=new c.Event.Custom.mousedrag(this,t,"dragend"),this.jDel("event:mousedrag:dragstart"),this.jCallEvent("mousedrag",e))},handleMouseMove:function(t){var e=this.jFetch("event:mousedrag:dragstart");e&&(t.stopDefaults(),e.dragged||(e.dragged=!0,this.jCallEvent("mousedrag",e)),e=new c.Event.Custom.mousedrag(this,t,"dragmove"),this.jCallEvent("mousedrag",e))}},(p=t).$,p.Event.Custom.dblbtnclick=new p.Class(p.extend(p.Event.Custom,{type:"dblbtnclick",timedout:!1,tm:null,init:function(t,e){var i=e.jGetPageXY();this.x=i.x,this.y=i.y,this.clientX=e.clientX,this.clientY=e.clientY,this.timeStamp=e.timeStamp,this.button=e.getButton(),this.target=t,this.pushToEvents(e)}})),p.Event.Custom.dblbtnclick.handler={options:{threshold:200},add:function(t){this.jStore("event:dblbtnclick:options",p.extend(p.detach(p.Event.Custom.dblbtnclick.handler.options),t||{})),this.jAddEvent("btnclick",p.Event.Custom.dblbtnclick.handler.handle,1)},jRemove:function(){this.jRemoveEvent("btnclick",p.Event.Custom.dblbtnclick.handler.handle)},handle:function(t){var e=this.jFetch("event:dblbtnclick:event"),i=this.jFetch("event:dblbtnclick:options");e?(clearTimeout(e.tm),this.jDel("event:dblbtnclick:event"),e.timedout||(e.pushToEvents(t),t.stopQueue().stop(),this.jCallEvent("dblbtnclick",e))):((e=new p.Event.Custom.dblbtnclick(this,t)).tm=setTimeout(function(){e.timedout=!0,t.isQueueStopped=p.$false,this.jCallEvent("btnclick",t),this.jDel("event:dblbtnclick:event")}.jBind(this),i.threshold+10),this.jStore("event:dblbtnclick:event",e),t.stopQueue())}},(f=t).$,f.Event.Custom.tap=new f.Class(f.extend(f.Event.Custom,{type:"tap",id:null,init:function(t,e){var i=e.getPrimaryTouch();this.id=i.pointerId||i.identifier,this.x=i.pageX,this.y=i.pageY,this.pageX=i.pageX,this.pageY=i.pageY,this.clientX=i.clientX,this.clientY=i.clientY,this.timeStamp=e.timeStamp,this.button=0,this.target=t,this.pushToEvents(e)}})),f.Event.Custom.tap.handler={add:function(t){this.jAddEvent(["touchstart","pointerdown"],f.Event.Custom.tap.handler.onTouchStart,1),this.jAddEvent(["touchend","pointerup"],f.Event.Custom.tap.handler.onTouchEnd,1),this.jAddEvent("click",f.Event.Custom.tap.handler.onClick,1)},jRemove:function(){this.jRemoveEvent(["touchstart","pointerdown"],f.Event.Custom.tap.handler.onTouchStart),this.jRemoveEvent(["touchend","pointerup"],f.Event.Custom.tap.handler.onTouchEnd),this.jRemoveEvent("click",f.Event.Custom.tap.handler.onClick)},onClick:function(t){t.stopDefaults()},onTouchStart:function(t){t.isPrimaryTouch()?(this.jStore("event:tap:event",new f.Event.Custom.tap(this,t)),this.jStore("event:btnclick:ignore",!0)):this.jDel("event:tap:event")},onTouchEnd:function(t){f.now();var e=this.jFetch("event:tap:event");this.jFetch("event:tap:options");e&&t.isPrimaryTouch()&&(this.jDel("event:tap:event"),e.id===t.getPrimaryTouchId()&&t.timeStamp-e.timeStamp<=200&&Math.sqrt(Math.pow(t.getPrimaryTouch().pageX-e.x,2)+Math.pow(t.getPrimaryTouch().pageY-e.y,2))<=10&&(this.jDel("event:btnclick:btnclickEvent"),t.stop(),e.pushToEvents(t),this.jCallEvent("tap",e)))}},a.Event.Custom.dbltap=new a.Class(a.extend(a.Event.Custom,{type:"dbltap",timedout:!1,tm:null,init:function(t,e){this.x=e.x,this.y=e.y,this.clientX=e.clientX,this.clientY=e.clientY,this.timeStamp=e.timeStamp,this.button=0,this.target=t,this.pushToEvents(e)}})),a.Event.Custom.dbltap.handler={options:{threshold:300},add:function(t){this.jStore("event:dbltap:options",a.extend(a.detach(a.Event.Custom.dbltap.handler.options),t||{})),this.jAddEvent("tap",a.Event.Custom.dbltap.handler.handle,1)},jRemove:function(){this.jRemoveEvent("tap",a.Event.Custom.dbltap.handler.handle)},handle:function(t){var e=this.jFetch("event:dbltap:event"),i=this.jFetch("event:dbltap:options");e?(clearTimeout(e.tm),this.jDel("event:dbltap:event"),e.timedout||(e.pushToEvents(t),t.stopQueue().stop(),this.jCallEvent("dbltap",e))):((e=new a.Event.Custom.dbltap(this,t)).tm=setTimeout(function(){e.timedout=!0,t.isQueueStopped=a.$false,this.jCallEvent("tap",t)}.jBind(this),i.threshold+10),this.jStore("event:dbltap:event",e),t.stopQueue())}},v=(g=t).$,g.Event.Custom.touchdrag=new g.Class(g.extend(g.Event.Custom,{type:"touchdrag",state:"dragstart",id:null,dragged:!1,init:function(t,e,i){var n=e.getPrimaryTouch();this.id=n.pointerId||n.identifier,this.clientX=n.clientX,this.clientY=n.clientY,this.pageX=n.pageX,this.pageY=n.pageY,this.x=n.pageX,this.y=n.pageY,this.timeStamp=e.timeStamp,this.button=0,this.target=t,this.pushToEvents(e),this.state=i}})),g.Event.Custom.touchdrag.handler={add:function(){var t=g.Event.Custom.touchdrag.handler.onTouchMove.jBind(this),e=g.Event.Custom.touchdrag.handler.onTouchEnd.jBind(this);this.jAddEvent(["touchstart","pointerdown"],g.Event.Custom.touchdrag.handler.onTouchStart,1),this.jAddEvent(["touchend","pointerup"],g.Event.Custom.touchdrag.handler.onTouchEnd,1),this.jAddEvent(["touchmove","pointermove"],g.Event.Custom.touchdrag.handler.onTouchMove,1),this.jStore("event:touchdrag:listeners:document:move",t),this.jStore("event:touchdrag:listeners:document:end",e),v(document).jAddEvent("pointermove",t,1),v(document).jAddEvent("pointerup",e,1)},jRemove:function(){this.jRemoveEvent(["touchstart","pointerdown"],g.Event.Custom.touchdrag.handler.onTouchStart),this.jRemoveEvent(["touchend","pointerup"],g.Event.Custom.touchdrag.handler.onTouchEnd),this.jRemoveEvent(["touchmove","pointermove"],g.Event.Custom.touchdrag.handler.onTouchMove),v(document).jRemoveEvent("pointermove",this.jFetch("event:touchdrag:listeners:document:move")||g.$F,1),v(document).jRemoveEvent("pointerup",this.jFetch("event:touchdrag:listeners:document:end")||g.$F,1),this.jDel("event:touchdrag:listeners:document:move"),this.jDel("event:touchdrag:listeners:document:end")},onTouchStart:function(t){t.isPrimaryTouch()&&(t=new g.Event.Custom.touchdrag(this,t,"dragstart"),this.jStore("event:touchdrag:dragstart",t))},onTouchEnd:function(t){var e=this.jFetch("event:touchdrag:dragstart");e&&e.dragged&&e.id===t.getPrimaryTouchId()&&(e=new g.Event.Custom.touchdrag(this,t,"dragend"),this.jDel("event:touchdrag:dragstart"),this.jCallEvent("touchdrag",e))},onTouchMove:function(t){var e=this.jFetch("event:touchdrag:dragstart");e&&t.isPrimaryTouch()&&(e.id===t.getPrimaryTouchId()?(!e.dragged&&10<Math.sqrt(Math.pow(t.getPrimaryTouch().pageX-e.x,2)+Math.pow(t.getPrimaryTouch().pageY-e.y,2))&&(e.dragged=!0,this.jCallEvent("touchdrag",e)),e.dragged&&(e=new g.Event.Custom.touchdrag(this,t,"dragmove"),this.jCallEvent("touchdrag",e))):this.jDel("event:touchdrag:dragstart"))}},w=(x=t).$,b=null,x.Event.Custom.pinch=new x.Class(x.extend(x.Event.Custom,{type:"pinch",state:"pinchstart",init:function(t,e,i,n){this.target=t,this.state=i,this.x=n.x,this.y=n.y,this.timeStamp=e.timeStamp,this.scale=n.scale,this.space=n.space,this.zoom=n.zoom,this.state=i,this.centerPoint=n.centerPoint,this.points=n.points,this.pushToEvents(e)}})),x.Event.Custom.pinch.handler={variables:{x:0,y:0,space:0,scale:1,zoom:0,startSpace:0,startScale:1,started:!1,dragged:!1,points:[],centerPoint:{x:0,y:0}},add:function(t){b||((i=w(window).jGetSize()).width=Math.min(i.width,i.height),i.height=i.width,b=Math.pow(A({x:0,y:0},{x:i.width,y:i.height}),2));var e=x.Event.Custom.pinch.handler.onTouchMove.jBind(this),i=x.Event.Custom.pinch.handler.onTouchEnd.jBind(this);this.jAddEvent(["click","tap"],x.Event.Custom.pinch.handler.onClick,1),this.jAddEvent(["touchstart","pointerdown"],x.Event.Custom.pinch.handler.onTouchStart,1),this.jAddEvent(["touchmove","pointermove"],x.Event.Custom.pinch.handler.onTouchMove,1),this.jStore("event:pinch:listeners:touchmove",e),this.jStore("event:pinch:listeners:touchend",i),x.doc.jAddEvent("pointermove",e,1),x.doc.jAddEvent("pointerup",i,1)},jRemove:function(){this.jRemoveEvent(["click","tap"],x.Event.Custom.pinch.handler.onClick),this.jRemoveEvent(["touchstart","pointerdown"],x.Event.Custom.pinch.handler.onTouchStart),this.jRemoveEvent(["touchend","pointerup"],x.Event.Custom.pinch.handler.onTouchEnd),this.jRemoveEvent(["touchmove","pointermove"],x.Event.Custom.pinch.handler.onTouchMove),x.doc.jRemoveEvent("pointermove",this.jFetch("event:pinch:listeners:touchmove")),x.doc.jRemoveEvent("pointerup",this.jFetch("event:pinch:listeners:touchend")),this.jDel("event:pinch:listeners:touchmove"),this.jDel("event:pinch:listeners:touchend"),this.jDel("event:pinch:pinchstart"),this.jDel("event:pinch:variables"),this.jDel("event:pinch:activepoints");var t=this.jFetch("event:pinch:cache");t&&t.clear(),this.jDel("event:pinch:cache")},onClick:function(t){t.stop()},setVariables:function(t,e){var i,n,o,s,r,a=e.space;1<t.length?(e.space=(i=t,n=e,o=Array.prototype.slice.call(i),s=Math.abs(o[1].pageX-o[0].pageX),r=Math.abs(o[1].pageY-o[0].pageY),i=Math.min(o[1].pageX,o[0].pageX)+s/2,s=Math.min(o[1].pageY,o[0].pageY)+r/2,n.points=[o[0],o[1]],r=Math.pow(A({x:o[0].pageX,y:o[0].pageY},{x:o[1].pageX,y:o[1].pageY}),2),n.centerPoint={x:i,y:s},n.x=n.centerPoint.x,n.y=n.centerPoint.y,r),e.startSpace||(e.startSpace=e.space),a>e.space?e.zoom=-1:a<e.space?e.zoom=1:e.zoom=0,e.scale=e.space/b):e.points=Array.prototype.slice.call(t,0,2)},onTouchMove:function(t){var e=this.jFetch("event:pinch:cache"),i=this.jFetch("event:pinch:variables")||x.extend({},x.Event.Custom.pinch.handler.variables),n=this.jFetch("event:pinch:activepoints");i.started&&(t.pointerId&&!k(t,e,!0)||(t.stop(),x.Event.Custom.pinch.handler.setVariables(F(M(t,e),n),i),i=new x.Event.Custom.pinch(this,t,"pinchmove",i),this.jCallEvent("pinch",i)))},onTouchStart:function(t){var e,i,n=this.jFetch("event:pinch:cache"),o=this.jFetch("event:pinch:activepoints");"mouse"!==t.pointerType&&(o||(o=w([]),this.jStore("event:pinch:activepoints",o)),o.length||w(t.target).jAddEvent(["touchend","pointerup"],this.jFetch("event:pinch:listeners:touchend"),1),n||(n=new Map,this.jStore("event:pinch:cache",n)),k(t,n),R(i=M(t,n),o),2===i.length&&(e=this.jFetch("event:pinch:pinchstart"),n=this.jFetch("event:pinch:variables")||x.extend({},x.Event.Custom.pinch.handler.variables),x.Event.Custom.pinch.handler.setVariables(F(i,o),n),e||(e=new x.Event.Custom.pinch(this,t,"pinchstart",n),this.jStore("event:pinch:pinchstart",e),this.jStore("event:pinch:variables",n),b=n.space,this.jCallEvent("pinch",e),n.started=!0)))},onTouchEnd:function(t){var e,i,n,o,s,r,a=this.jFetch("event:pinch:cache");"mouse"!==t.pointerType&&(!t.pointerId||a&&a.has(t.pointerId))&&(n=this.jFetch("event:pinch:pinchstart"),o=this.jFetch("event:pinch:variables"),s=this.jFetch("event:pinch:activepoints"),r=M(t,a),i=a,(e=t).pointerId&&"touch"===e.pointerType&&i&&i.has(e.pointerId)&&i.delete(e.pointerId),e=P(r,s),n&&o&&o.started&&e&&s&&(e&&R(r,s),e="pinchend",1<r.length?e="pinchresize":(t.target.jRemoveEvent(["touchend","pointerup"],this.jFetch("event:pinch:listeners:touchend")),a&&a.clear(),this.jDel("event:pinch:pinchstart"),this.jDel("event:pinch:variables"),this.jDel("event:pinch:cache"),this.jDel("event:pinch:activepoints")),x.Event.Custom.pinch.handler.setVariables(F(r,s),o),n=new x.Event.Custom.pinch(this,t,e,o),this.jCallEvent("pinch",n)))}},(y=t).$,y.Event.Custom.mousescroll=new y.Class(y.extend(y.Event.Custom,{type:"mousescroll",init:function(t,e,i,n,o,s,r){var a=e.jGetPageXY();this.x=a.x,this.y=a.y,this.timeStamp=e.timeStamp,this.target=t,this.delta=i||0,this.deltaX=n||0,this.deltaY=o||0,this.deltaZ=s||0,this.deltaFactor=r||0,this.deltaMode=e.deltaMode||0,this.isMouse=!1,this.pushToEvents(e)}})),y.Event.Custom.mousescroll.handler={eventType:"onwheel"in document||8<y.browser.ieMode?"wheel":"mousewheel",add:function(){this.jAddEvent(y.Event.Custom.mousescroll.handler.eventType,y.Event.Custom.mousescroll.handler.handle,1)},jRemove:function(){this.jRemoveEvent(y.Event.Custom.mousescroll.handler.eventType,y.Event.Custom.mousescroll.handler.handle,1)},handle:function(t){var e=0,i=0,n=0,o=0;t.detail&&(n=-1*t.detail),void 0!==t.wheelDelta&&(n=t.wheelDelta),void 0!==t.wheelDeltaY&&(n=t.wheelDeltaY),void 0!==t.wheelDeltaX&&(i=-1*t.wheelDeltaX),t.deltaY&&(n=-1*t.deltaY),t.deltaX&&(i=t.deltaX),0===n&&0===i||(e=0===n?i:n,o=Math.max(Math.abs(n),Math.abs(i)),(!z||o<z)&&(z=o),o=0<e?"floor":"ceil",e=Math[o](e/z),i=Math[o](i/z),n=Math[o](n/z),j&&clearTimeout(j),j=setTimeout(D,200),(i=new y.Event.Custom.mousescroll(this,t,e,i,n,0,z)).isMouse=(n=z,t=t.deltaMode||0,50<n||1===t&&!("win"==y.browser.platform&&n<1)||0==n%12||0==n%4.000244140625),this.jCallEvent("mousescroll",i))}},a.win=a.$(window),a.doc=a.$(document),t}();(function(n){if(!n)throw"MagicJS not found";var o=n.$,s=window.URL||window.webkitURL||null;e.ImageLoader=new n.Class({img:null,ready:!1,options:{onprogress:n.$F,onload:n.$F,onabort:n.$F,onerror:n.$F,oncomplete:n.$F,onxhrerror:n.$F,xhr:!1,progressiveLoad:!0},size:null,_timer:null,loadedBytes:0,_handlers:{onprogress:function(t){t.target&&(200===t.target.status||304===t.target.status)&&t.lengthComputable&&(this.options.onprogress.jBind(null,(t.loaded-(this.options.progressiveLoad?this.loadedBytes:0))/t.total).jDelay(1),this.loadedBytes=t.loaded)},onload:function(t){t&&o(t).stop(),this._unbind(),this.ready||(this.ready=!0,this._cleanup(),this.options.xhr||this.options.onprogress.jBind(null,1).jDelay(1),this.options.onload.jBind(null,this).jDelay(1),this.options.oncomplete.jBind(null,this).jDelay(1))},onabort:function(t){t&&o(t).stop(),this._unbind(),this.ready=!1,this._cleanup(),this.options.onabort.jBind(null,this).jDelay(1),this.options.oncomplete.jBind(null,this).jDelay(1)},onerror:function(t){t&&o(t).stop(),this._unbind(),this.ready=!1,this._cleanup(),this.options.onerror.jBind(null,this).jDelay(1),this.options.oncomplete.jBind(null,this).jDelay(1)}},_bind:function(){o(["load","abort","error"]).jEach(function(t){this.img.jAddEvent(t,this._handlers["on"+t].jBindAsEvent(this).jDefer(1))},this)},_unbind:function(){if(this._timer){try{clearTimeout(this._timer)}catch(t){}this._timer=null}o(["load","abort","error"]).jEach(function(t){this.img.jRemoveEvent(t)},this)},_cleanup:function(){var t;this.jGetSize(),this.img.jFetch("new")&&(t=this.img.parentNode,this.img.jRemove().jDel("new").jSetCss({position:"static",top:"auto"}),t.kill())},loadBlob:function(t){var e,i=new XMLHttpRequest;o(["abort","progress"]).jEach(function(e){i["on"+e]=o(function(t){this._handlers["on"+e].call(this,t)}).jBind(this)},this),i.onerror=o(function(){this.options.onxhrerror.jBind(null,this).jDelay(1),this.options.xhr=!1,this._bind(),this.img.src=t}).jBind(this),i.onload=o(function(){200===i.status||304===i.status?(e=i.response,this._bind(),!s||n.browser.trident||"ios"===n.browser.platform&&n.browser.version<537?this.img.src=t:this.img.setAttribute("src",s.createObjectURL(e))):this._handlers.onerror.call(this)}).jBind(this),i.open("GET",t),i.responseType="blob",i.send()},init:function(t,e){var i;this.options=n.extend(this.options,e),this.img=o(t)||n.$new("img",{},{"max-width":"none","max-height":"none"}).jAppendTo(n.$new("div").jAddClass("magic-temporary-img").jSetCss({position:"absolute",top:-1e4,width:10,height:10,overflow:"hidden"}).jAppendTo(document.body)).jStore("new",!0),n.browser.features.xhr2&&this.options.xhr&&"string"==n.jTypeOf(t)?this.loadBlob(t):(i=function(){(this.isReady()?this._handlers.onload:this._handlers.onerror).call(this),i=null}.jBind(this),this._bind(),"string"==n.jTypeOf(t)?this.img.src=t:(n.browser.trident&&5==n.browser.version&&n.browser.ieMode<9&&(this.img.onreadystatechange=function(){/loaded|complete/.test(this.img.readyState)&&(this.img.onreadystatechange=null,i&&i())}.jBind(this)),this.img.src=t.getAttribute("src")),this.img&&this.img.complete&&i&&(this._timer=i.jDelay(100)))},destroy:function(){return this._unbind(),this._cleanup(),this.ready=!1,this},isReady:function(){var t=this.img;return t.naturalWidth?0<t.naturalWidth:t.readyState?"complete"==t.readyState:0<t.width},jGetSize:function(){return this.size||(this.size={width:this.img.naturalWidth||this.img.width,height:this.img.naturalHeight||this.img.height})}})})(e),function(o){if(!o)throw"MagicJS not found";var n;o.FX||(n=o.$,o.FX=new o.Class({init:function(t,e){this.el=o.$(t),this.options=o.extend(this.options,e),this.timer=!1,this.easeFn=this.cubicBezierAtTime,e=o.FX.Transition[this.options.transition]||this.options.transition,"function"===o.jTypeOf(e)?this.easeFn=e:this.cubicBezier=this.parseCubicBezier(e)||this.parseCubicBezier("ease"),"string"==o.jTypeOf(this.options.cycles)&&(this.options.cycles="infinite"===this.options.cycles?1/0:parseInt(this.options.cycles)||1)},options:{fps:60,duration:600,transition:"ease",cycles:1,direction:"normal",onStart:o.$F,onComplete:o.$F,onBeforeRender:o.$F,onAfterRender:o.$F,forceAnimation:!1,roundCss:!1},styles:null,cubicBezier:null,easeFn:null,setTransition:function(t){this.options.transition=t,t=o.FX.Transition[this.options.transition]||this.options.transition,"function"===o.jTypeOf(t)?this.easeFn=t:(this.easeFn=this.cubicBezierAtTime,this.cubicBezier=this.parseCubicBezier(t)||this.parseCubicBezier("ease"))},start:function(t){var e,i=/\%$/;for(e in this.styles=t||{},this.cycle=0,this.state=0,this.curFrame=0,this.pStyles={},this.alternate="alternate"===this.options.direction||"alternate-reverse"===this.options.direction,this.continuous="continuous"===this.options.direction||"continuous-reverse"===this.options.direction,this.styles)i.test(this.styles[e][0])&&(this.pStyles[e]=!0),"reverse"!==this.options.direction&&"alternate-reverse"!==this.options.direction&&"continuous-reverse"!==this.options.direction||this.styles[e].reverse();return this.startTime=o.now(),this.finishTime=this.startTime+this.options.duration,this.options.onStart.call(),0===this.options.duration?(this.render(1),this.options.onComplete.call()):(this.loopBind=this.loop.jBind(this),!this.options.forceAnimation&&o.browser.features.requestAnimationFrame?this.timer=o.browser.requestAnimationFrame.call(window,this.loopBind):this.timer=this.loopBind.interval(Math.round(1e3/this.options.fps))),this},stopAnimation:function(){this.timer&&(!this.options.forceAnimation&&o.browser.features.requestAnimationFrame&&o.browser.cancelAnimationFrame?o.browser.cancelAnimationFrame.call(window,this.timer):clearInterval(this.timer),this.timer=!1)},stop:function(t){return t=!!o.defined(t)&&t,this.stopAnimation(),t&&(this.render(1),this.options.onComplete.jDelay(10)),this},calc:function(t,e,i){return t=parseFloat(t),((e=parseFloat(e))-t)*i+t},loop:function(){var t=o.now(),e=(t-this.startTime)/this.options.duration,i=Math.floor(e);if(t>=this.finishTime&&i>=this.options.cycles)return this.stopAnimation(),this.render(1),this.options.onComplete.jDelay(10),this;if(this.alternate&&this.cycle<i)for(var n in this.styles)this.styles[n].reverse();this.cycle=i,!this.options.forceAnimation&&o.browser.features.requestAnimationFrame&&(this.timer=o.browser.requestAnimationFrame.call(window,this.loopBind)),this.render((this.continuous?i:0)+this.easeFn(e%1))},render:function(t){var e,i={};for(e in this.styles)"opacity"===e?i[e]=Math.round(100*this.calc(this.styles[e][0],this.styles[e][1],t))/100:(i[e]=this.calc(this.styles[e][0],this.styles[e][1],t),this.pStyles[e]&&(i[e]+="%"));this.options.onBeforeRender(i,this.el),this.set(i),this.options.onAfterRender(i,this.el)},set:function(t){return this.el.jSetCss(t)},parseCubicBezier:function(t){var e,i=null;if("string"!==o.jTypeOf(t))return null;switch(t){case"linear":i=n([0,0,1,1]);break;case"ease":i=n([.25,.1,.25,1]);break;case"ease-in":i=n([.42,0,1,1]);break;case"ease-out":i=n([0,0,.58,1]);break;case"ease-in-out":i=n([.42,0,.58,1]);break;case"easeInSine":i=n([.47,0,.745,.715]);break;case"easeOutSine":i=n([.39,.575,.565,1]);break;case"easeInOutSine":i=n([.445,.05,.55,.95]);break;case"easeInQuad":i=n([.55,.085,.68,.53]);break;case"easeOutQuad":i=n([.25,.46,.45,.94]);break;case"easeInOutQuad":i=n([.455,.03,.515,.955]);break;case"easeInCubic":i=n([.55,.055,.675,.19]);break;case"easeOutCubic":i=n([.215,.61,.355,1]);break;case"easeInOutCubic":i=n([.645,.045,.355,1]);break;case"easeInQuart":i=n([.895,.03,.685,.22]);break;case"easeOutQuart":i=n([.165,.84,.44,1]);break;case"easeInOutQuart":i=n([.77,0,.175,1]);break;case"easeInQuint":i=n([.755,.05,.855,.06]);break;case"easeOutQuint":i=n([.23,1,.32,1]);break;case"easeInOutQuint":i=n([.86,0,.07,1]);break;case"easeInExpo":i=n([.95,.05,.795,.035]);break;case"easeOutExpo":i=n([.19,1,.22,1]);break;case"easeInOutExpo":i=n([1,0,0,1]);break;case"easeInCirc":i=n([.6,.04,.98,.335]);break;case"easeOutCirc":i=n([.075,.82,.165,1]);break;case"easeInOutCirc":i=n([.785,.135,.15,.86]);break;case"easeInBack":i=n([.6,-.28,.735,.045]);break;case"easeOutBack":i=n([.175,.885,.32,1.275]);break;case"easeInOutBack":i=n([.68,-.55,.265,1.55]);break;default:if((t=t.replace(/\s/g,"")).match(/^cubic-bezier\((?:-?[0-9\.]{0,}[0-9]{1,},){3}(?:-?[0-9\.]{0,}[0-9]{1,})\)$/))for(e=(i=t.replace(/^cubic-bezier\s*\(|\)$/g,"").split(",")).length-1;0<=e;e--)i[e]=parseFloat(i[e])}return n(i)},cubicBezierAtTime:function(t){var e,d=0,l=0,u=0,i=0,n=0,o=0,s=this.options.duration;function c(t){return((d*t+l)*t+u)*t}return u=3*this.cubicBezier[0],l=3*(this.cubicBezier[2]-this.cubicBezier[0])-u,d=1-u-l,o=3*this.cubicBezier[1],n=3*(this.cubicBezier[3]-this.cubicBezier[1])-o,i=1-o-n,e=function(t,e){var i,n,o,s,r,a;function h(t){return 0<=t?t:0-t}for(o=t,a=0;a<8;a++){if(h(s=c(o)-t)<e)return o;if(h(r=function(t){return(3*d*t+2*l)*t+u}(o))<1e-6)break;o-=s/r}if(n=1,(o=t)<(i=0))return i;if(n<o)return n;for(;i<n;){if(h((s=c(o))-t)<e)return o;s<t?i=o:n=o,o=.5*(n-i)+i}return o}(t,e=1/(200*s)),((i*e+n)*e+o)*e}}),o.FX.Transition={linear:"linear",sineIn:"easeInSine",sineOut:"easeOutSine",expoIn:"easeInExpo",expoOut:"easeOutExpo",quadIn:"easeInQuad",quadOut:"easeOutQuad",cubicIn:"easeInCubic",cubicOut:"easeOutCubic",backIn:"easeInBack",backOut:"easeOutBack",elasticIn:function(t,e){return e=e||[],Math.pow(2,10*--t)*Math.cos(20*t*Math.PI*(e[0]||1)/3)},elasticOut:function(t,e){return 1-o.FX.Transition.elasticIn(1-t,e)},bounceIn:function(t){for(var e=0,i=1;;e+=i,i/=2)if((7-4*e)/11<=t)return i*i-Math.pow((11-6*e-11*t)/4,2)},bounceOut:function(t){return 1-o.FX.Transition.bounceIn(1-t)},none:function(t){return 0}})}(e),function(i){if(!i)throw"MagicJS not found";i.PFX||(i.$,i.PFX=new i.Class(i.FX,{init:function(t,e){this.el_arr=t,this.options=i.extend(this.options,e),this.timer=!1,this.$parent.init()},start:function(t){var e,i,n=/\%$/,o=t.length;for(this.styles_arr=t,this.pStyles_arr=new Array(o),i=0;i<o;i++)for(e in this.pStyles_arr[i]={},t[i])n.test(t[i][e][0])&&(this.pStyles_arr[i][e]=!0),"reverse"!==this.options.direction&&"alternate-reverse"!==this.options.direction&&"continuous-reverse"!==this.options.direction||this.styles_arr[i][e].reverse();return this.$parent.start({}),this},render:function(t){for(var e=0;e<this.el_arr.length;e++)this.el=i.$(this.el_arr[e]),this.styles=this.styles_arr[e],this.pStyles=this.pStyles_arr[e],this.$parent.render(t)}}))}(e),function(r){if(!r)throw"MagicJS not found";r.Tooltip||(r.$,r.Tooltip=function(t,e){var s=this.tooltip=r.$new("div",null,{position:"absolute","z-index":999}).jAddClass("MagicToolboxTooltip");r.$(t).jAddEvent("mouseover",function(){s.jAppendTo(document.body)}),r.$(t).jAddEvent("mouseout",function(){s.jRemove()}),r.$(t).jAddEvent("mousemove",function(t){var e=r.$(t).jGetPageXY(),i=s.jGetSize(),n=r.$(window).jGetSize(),t=r.$(window).jGetScroll();function o(t,e,i){return i<(t-e)/2?i:(t+e)/2<i?i-e:(t-e)/2}s.jSetCss({left:t.x+o(n.width,i.width+40,e.x-t.x)+20,top:t.y+o(n.height,i.height+40,e.y-t.y)+20})}),this.text(e)},r.Tooltip.prototype.text=function(t){this.tooltip.firstChild&&this.tooltip.removeChild(this.tooltip.firstChild),this.tooltip.append(document.createTextNode(t))})}(e),function(o){if(!o)throw"MagicJS not found";o.MessageBox||(o.$,o.Message=function(t,e,i,n){this.hideTimer=null,this.messageBox=o.$new("span",null,{position:"absolute","z-index":999,visibility:"hidden",opacity:.8}).jAddClass(n||"").jAppendTo(i||document.body),this.setMessage(t),this.show(e)},o.Message.prototype.show=function(t){this.messageBox.show(),this.hideTimer=this.hide.jBind(this).jDelay(o.ifndef(t,5e3))},o.Message.prototype.hide=function(t){clearTimeout(this.hideTimer),this.hideTimer=null,this.messageBox&&!this.hideFX&&(this.hideFX=new e.FX(this.messageBox,{duration:o.ifndef(t,500),onComplete:function(){this.messageBox.kill(),delete this.messageBox,this.hideFX=null}.jBind(this)}).start({opacity:[this.messageBox.jGetCss("opacity"),0]}))},o.Message.prototype.setMessage=function(t){this.messageBox.firstChild&&this.tooltip.removeChild(this.messageBox.firstChild),this.messageBox.append(document.createTextNode(t))})}(e),function(r){if(!r)throw"MagicJS not found";var o,s,a,h,d,t;r.Options||(o=r.$,s=null,a={boolean:1,array:2,number:3,function:4,string:100},h={boolean:function(t,e,i){if("boolean"!=r.jTypeOf(e)){if(i||"string"!=r.jTypeOf(e))return!1;if(!/^(true|false)$/.test(e))return!1;e=e.jToBool()}return!(t.hasOwnProperty("enum")&&!o(t.enum).contains(e))&&(s=e,!0)},string:function(t,e,i){return"string"===r.jTypeOf(e)&&(!(t.hasOwnProperty("enum")&&!o(t.enum).contains(e))&&(s=""+e,!0))},number:function(t,e,i){var n="string"==r.jTypeOf(e)&&/%$/.test(e);return(!i||0!=typeof e)&&(e=parseFloat(e),!isNaN(e)&&(isNaN(t.minimum)&&(t.minimum=Number.NEGATIVE_INFINITY),isNaN(t.maximum)&&(t.maximum=Number.POSITIVE_INFINITY),!(t.hasOwnProperty("enum")&&!o(t.enum).contains(e))&&(!(t.minimum>e||e>t.maximum)&&(s=n?e+"%":e,!0))))},array:function(t,e,i){if("string"===r.jTypeOf(e))try{e=window.JSON.parse(e)}catch(t){return!1}return"array"===r.jTypeOf(e)&&(s=e,!0)},function:function(t,e,i){return"function"===r.jTypeOf(e)&&(s=e,!0)}},d=function(t,e,i){var n=t.hasOwnProperty("oneOf")?t.oneOf:[t];if("array"!=r.jTypeOf(n))return!1;for(var o=0,s=n.length-1;o<=s;o++)if(h[n[o].type](n[o],e,i))return!0;return!1},t=function(t){this.schema={},this.options={},this.parseSchema(t)},r.extend(t.prototype,{parseSchema:function(t){var e,i;for(e in t)if(t.hasOwnProperty(e)&&(i=(e+"").jTrim().jCamelize(),!this.schema.hasOwnProperty(i))){if(this.schema[i]=function(t){var e,i,n,o;if(t.hasOwnProperty("oneOf"))for(n=t.oneOf.length,e=0;e<n;e++)for(i=e+1;i<n;i++)a[t.oneOf[e].type]>a[t.oneOf[i].type]&&(o=t.oneOf[e],t.oneOf[e]=t.oneOf[i],t.oneOf[i]=o);return t}(t[e]),!function(t){var e=t.hasOwnProperty("oneOf")?t.oneOf:[t];if("array"!=r.jTypeOf(e))return!1;for(var i=e.length-1;0<=i;i--){if(!e[i].type||!a.hasOwnProperty(e[i].type))return!1;if(r.defined(e[i].enum)){if("array"!==r.jTypeOf(e[i].enum))return!1;for(var n=e[i].enum.length-1;0<=n;n--)if(!h[e[i].type]({type:e[i].type},e[i].enum[n],!0))return!1}}return!(t.hasOwnProperty("default")&&!d(t,t.default,!0))}(this.schema[i]))throw"Incorrect definition of the '"+e+"' parameter in "+t;this.options[i]=void 0}},set:function(t,e){t=(t+"").jTrim().jCamelize(),"string"==r.jTypeOf(e)&&(e=e.jTrim()),this.schema.hasOwnProperty(t)&&(s=e,d(this.schema[t],e)&&(this.options[t]=s),s=null)},get:function(t){if(t=(t+"").jTrim().jCamelize(),this.schema.hasOwnProperty(t))return r.defined(this.options[t])?this.options[t]:this.schema[t].default},fromJSON:function(t){for(var e in t)this.set(e,t[e])},getJSON:function(){var t,e=r.extend({},this.options);for(t in e)void 0===e[t]&&void 0!==this.schema[t].default&&(e[t]=this.schema[t].default);return e},fromString:function(t){o(t.split(";")).jEach(o(function(t){t=t.split(":"),this.set(t.shift().jTrim(),t.join(":"))}).jBind(this))},exists:function(t){return t=(t+"").jTrim().jCamelize(),this.schema.hasOwnProperty(t)},isset:function(t){return t=(t+"").jTrim().jCamelize(),this.exists(t)&&r.defined(this.options[t])},jRemove:function(t){t=(t+"").jTrim().jCamelize(),this.exists(t)&&(delete this.options[t],delete this.schema[t])}}),r.Options=t)}(e),function(t){if(!t)throw"MagicJS not found";var e,i,n=t.$;t.SVGImage||(e="http://www.w3.org/2000/svg",(i=function(t){this.filters={},this.originalImage=n(t),this.canvas=n(document.createElementNS(e,"svg")),this.canvas.setAttribute("width",this.originalImage.naturalWidth||this.originalImage.width),this.canvas.setAttribute("height",this.originalImage.naturalHeight||this.originalImage.height),this.image=n(document.createElementNS(e,"image")),this.image.setAttributeNS("http://www.w3.org/1999/xlink","href",this.originalImage.getAttribute("src")),this.image.setAttribute("width","100%"),this.image.setAttribute("height","100%"),this.image.jAppendTo(this.canvas)}).prototype.getNode=function(){return this.canvas},i.prototype.blur=function(t){if(!(Math.round(t)<1))return this.filters.blur?this.filters.blur.firstChild.setAttribute("stdDeviation",t):(this.filters.blur=n(document.createElementNS(e,"filter")),this.filters.blur.setAttribute("id","filterBlur"),this.filters.blur.appendChild(n(document.createElementNS(e,"feGaussianBlur")).setProps({in:"SourceGraphic",stdDeviation:t})),this.filters.blur.jAppendTo(this.canvas),this.image.setAttribute("filter","url(#filterBlur)")),this},t.SVGImage=i)}(e);var m,c,i=(c=(m=e).$,t.prototype={setupContent:function(){this.root=m.$new("div").jAddClass(this.rootCSS).jAddClass(this.rootCSS+"-"+this.settings.orientation).jSetCss({visibility:"hidden"}),this.wrapper=m.$new("div").jAddClass(this.rootCSS+"-wrapper").jAppendTo(this.root),this.root.jAppendTo(this.parent),c(["prev","next"]).jEach(function(t){this.buttons[t]=m.$new("button").jAddClass(this.rootCSS+"-button").jAddClass(this.rootCSS+"-button-"+t).jAppendTo(this.root).jAddEvent("btnclick tap",function(t,e){c(t).events[0].stop().stopQueue(),c(t).stopDistribution(),this.scroll(e)}.jBindAsEvent(this,t))}.jBind(this)),this.buttons.prev.jAddClass(this.rootCSS+"-button-disabled"),this.context=m.$new("ul").jAddEvent("btnclick tap",function(t){t.stop()})},addItem:function(t){var e=m.$new("li").jAddClass(this.itemCSS).append(t).jAppendTo(this.context);return new m.ImageLoader(t,{oncomplete:this.reflow.jBind(this)}),this.items.push(e),e},selectItem:function(t){var e=this.selectedItem||this.context.byClass(this.itemCSS+"-selected")[0];e&&c(e).jRemoveClass(this.itemCSS+"-selected"),this.selectedItem=c(t),this.selectedItem&&(this.selectedItem.jAddClass(this.itemCSS+"-selected"),this.scroll(this.selectedItem))},run:function(){if(this.wrapper!==this.context.parentNode)return c(this.context).jAppendTo(this.wrapper),this.initDrag(),c(window).jAddEvent("resize",this.resizeCallback=this.reflow.jBind(this)),void this.run.jBind(this).jDelay(1);var t=this.parent.jGetSize();0<t.height&&t.height>t.width?this.setOrientation("vertical"):this.setOrientation("horizontal"),this.reflow(),this.root.jSetCss({visibility:""})},stop:function(){this.resizeCallback&&c(window).jRemoveEvent("resize",this.resizeCallback),this.root.kill()},scroll:function(t,e){var i,n,o,s={x:0,y:0},r="vertical"==this.settings.orientation?"top":"left",a="vertical"==this.settings.orientation?"height":"width",h="vertical"==this.settings.orientation?"y":"x",d=this.context.parentNode.jGetSize()[a],l=this.context.parentNode.jGetPosition(),u=this.context.jGetSize()[a],c=[];if(this.scrollFX?this.scrollFX.stop():this.context.jSetCss("transition",m.browser.cssTransformProp+String.fromCharCode(32)+"0s"),void 0===e&&(e=600),i=this.context.jGetPosition(),"string"==m.jTypeOf(t))s[h]="next"==t?Math.max(i[r]-l[r]-d,d-u):Math.min(i[r]-l[r]+d,0);else{if("element"!=m.jTypeOf(t))return;n=t.jGetSize(),o=t.jGetPosition(),s[h]=Math.min(0,Math.max(d-u,i[r]+d/2-o[r]-n[a]/2))}0<=(h=m.browser.gecko&&"android"==m.browser.platform||m.browser.ieMode&&m.browser.ieMode<10?("string"==m.jTypeOf(t)&&s[h]==i[r]-l[r]&&(i[r]+=0==i[r]-l[r]?30:-30),s["margin-"+r]=[u<=d?0:i[r]-l[r],s[h]],delete s.x,delete s.y,this.selectorsMoveFX||(this.selectorsMoveFX=new m.PFX([this.context],{duration:500})),c.push(s),this.selectorsMoveFX.start(c),s["margin-"+r][1]):(this.context.jSetCss({transition:m.browser.cssTransformProp+String.fromCharCode(32)+e+"ms ease",transform:"translate3d("+s.x+"px, "+s.y+"px, 0)"}),s[h]))?this.buttons.prev.jAddClass(this.rootCSS+"-button-disabled"):this.buttons.prev.jRemoveClass(this.rootCSS+"-button-disabled"),h<=d-u?this.buttons.next.jAddClass(this.rootCSS+"-button-disabled"):this.buttons.next.jRemoveClass(this.rootCSS+"-button-disabled"),h=null},initDrag:function(){var e,n,i,o,s,r,a,h,d,l={x:0,y:0},t=c(function(t){if(l={x:0,y:0},this.settings.orientation,d="vertical"==this.settings.orientation?"height":"width",e="vertical"==this.settings.orientation?"y":"x",a=this.context.parentNode.jGetSize()[d],d=this.context.jGetSize()[d],!(0<=(a=a-d)))if("dragstart"==t.state)void 0===h&&(h=0),this.context.jSetCssProp("transition",m.browser.cssTransformProp+String.fromCharCode(32)+"0ms"),i=t[e],s=t.y,o=t.x,r=!1;else{if("dragend"==t.state){if(r)return;d=function(t){for(var e=0,i=1.5;i<=90;i+=1.5)e+=t*Math.cos(i/Math.PI/2);return n<0&&(e*=-1),e}(Math.abs(n)),(h+=d)<=a&&(h=a),0<=h&&(h=0),l[e]=h,this.context.jSetCssProp("transition",m.browser.cssTransformProp+String.fromCharCode(32)+300+"ms  cubic-bezier(.0, .0, .0, 1)"),this.context.jSetCssProp("transform","translate3d("+l.x+"px, "+l.y+"px, 0px)"),n=0}else{if(r)return;"horizontal"==this.settings.orientation&&Math.abs(t.x-o)>Math.abs(t.y-s)||"vertical"==this.settings.orientation&&Math.abs(t.x-o)<Math.abs(t.y-s)?(t.stop(),n=t[e]-i,h+=n,l[e]=h,this.context.jSetCssProp("transform","translate3d("+l.x+"px, "+l.y+"px, 0px)"),0<=h?this.buttons.prev.jAddClass(this.rootCSS+"-button-disabled"):this.buttons.prev.jRemoveClass(this.rootCSS+"-button-disabled"),h<=a?this.buttons.next.jAddClass(this.rootCSS+"-button-disabled"):this.buttons.next.jRemoveClass(this.rootCSS+"-button-disabled")):r=!0}i=t[e]}}).jBind(this);this.context.jAddEvent("touchdrag",t)},reflow:function(){var t=this.parent.jGetSize();0<t.height&&t.height>t.width?this.setOrientation("vertical"):this.setOrientation("horizontal"),t="vertical"==this.settings.orientation?"height":"width",this.context.jGetSize()[t]<=this.root.jGetSize()[t]?(this.root.jAddClass("no-buttons"),this.context.jSetCssProp("transition","").jGetSize(),this.context.jSetCssProp("transform","translate3d(0,0,0)"),this.buttons.prev.jAddClass(this.rootCSS+"-button-disabled"),this.buttons.next.jRemoveClass(this.rootCSS+"-button-disabled")):this.root.jRemoveClass("no-buttons"),this.selectedItem&&this.scroll(this.selectedItem,0)},setOrientation:function(t){"vertical"!==t&&"horizontal"!==t||t==this.settings.orientation||(this.root.jRemoveClass(this.rootCSS+"-"+this.settings.orientation),this.settings.orientation=t,this.root.jAddClass(this.rootCSS+"-"+this.settings.orientation),this.context.jSetCssProp("transition","none").jGetSize(),this.context.jSetCssProp("transform","").jSetCssProp("margin",""))}},t);function t(t,e){this.settings={cssPrefix:"magic",orientation:"horizontal",position:"bottom",size:{units:"px",width:"auto",height:"auto"},sides:["height","width"]},this.parent=t,this.root=null,this.wrapper=null,this.context=null,this.buttons={},this.items=[],this.selectedItem=null,this.scrollFX=null,this.resizeCallback=null,this.settings=m.extend(this.settings,e),this.rootCSS=this.settings.cssPrefix+"-thumbs",this.itemCSS=this.settings.cssPrefix+"-thumb",this.setupContent()}var f=u.$;"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),u.browser.cssTransform||(u.browser.cssTransform=u.normalizeCSS("transform").dashize());var n,o,s={zoomOn:{type:"string",enum:["click","hover"],default:"hover"},zoomMode:{oneOf:[{type:"string",enum:["zoom","magnifier","preview","off"],default:"zoom"},{type:"boolean",enum:[!1]}],default:"zoom"},zoomWidth:{oneOf:[{type:"string",enum:["auto"]},{type:"number",minimum:1}],default:"auto"},zoomHeight:{oneOf:[{type:"string",enum:["auto"]},{type:"number",minimum:1}],default:"auto"},zoomPosition:{type:"string",default:"right"},zoomDistance:{type:"number",minimum:0,default:15},zoomCaption:{oneOf:[{type:"string",enum:["bottom","top","off"],default:"off"},{type:"boolean",enum:[!1]}],default:"off"},expand:{oneOf:[{type:"string",enum:["window","fullscreen","off"]},{type:"boolean",enum:[!1]}],default:"window"},expandZoomMode:{oneOf:[{type:"string",enum:["zoom","magnifier","off"],default:"zoom"},{type:"boolean",enum:[!1]}],default:"zoom"},expandZoomOn:{type:"string",enum:["click","always"],default:"click"},expandCaption:{type:"boolean",default:!0},closeOnClickOutside:{type:"boolean",default:!0},hint:{oneOf:[{type:"string",enum:["once","always","off"]},{type:"boolean",enum:[!1]}],default:"once"},smoothing:{type:"boolean",default:!0},upscale:{type:"boolean",default:!0},variableZoom:{type:"boolean",default:!1},lazyZoom:{type:"boolean",default:!1},autostart:{type:"boolean",default:!0},rightClick:{type:"boolean",default:!1},transitionEffect:{type:"boolean",default:!0},selectorTrigger:{type:"string",enum:["click","hover"],default:"click"},cssClass:{type:"string"},forceTouch:{type:"boolean",default:!1},textHoverZoomHint:{type:"string",default:"Hover to zoom"},textClickZoomHint:{type:"string",default:"Click to zoom"},textExpandHint:{type:"string",default:"Click to expand"},textBtnClose:{type:"string",default:"Close"},textBtnNext:{type:"string",default:"Next"},textBtnPrev:{type:"string",default:"Previous"}},r={zoomMode:{oneOf:[{type:"string",enum:["zoom","magnifier","off"],default:"zoom"},{type:"boolean",enum:[!1]}],default:"zoom"},expandZoomOn:{type:"string",enum:["click","always"],default:"click"},textExpandHint:{type:"string",default:"Tap to expand"},textHoverZoomHint:{type:"string",default:"Touch to zoom"},textClickZoomHint:{type:"string",default:"Double tap to zoom"}},a=["onZoomReady","onUpdate","onZoomIn","onZoomOut","onExpandOpen","onExpandClose"],h={},d=f([]),l=window.devicePixelRatio||1,g=!0,v=u.browser.features.perspective?"translate3d(":"translate(",x=u.browser.features.perspective?",0)":")",w=null,b=function(){return"mgctlbxN$MZ"+"p".toUpperCase()+" mgctlbxV$"+"v5.2.10".replace("v","")+" mgctlbxL$"+"m".toUpperCase()+(window.mgctlbx$Pltm&&"string"===u.jTypeOf(window.mgctlbx$Pltm)?" mgctlbxP$"+window.mgctlbx$Pltm.toLowerCase():"")};function y(t){var e=[],i=null;return t&&(i=f(t))&&(e=d.filter(function(t){return t.placeholder===i})),e.length?e[0]:null}function z(t){return Object.assign({},t,{type:t.type,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY})}function j(){var t=u.$A(arguments),e=t.shift(),i=h[e];if(i)for(var n=0;n<i.length;n++)i[n].apply(null,t)}function _(t,e,i,n,o){this.small={src:null,url:null,dppx:1,node:null,state:0,size:{width:0,height:0},loaded:!1},this.zoom={src:null,url:null,dppx:1,node:null,state:0,size:{width:0,height:0},loaded:!1},"object"===u.jTypeOf(t)?this.small=t:"string"===u.jTypeOf(t)&&(this.small.url=u.getAbsoluteURL(t)),"object"===u.jTypeOf(e)?this.zoom=e:"string"===u.jTypeOf(e)&&(this.zoom.url=u.getAbsoluteURL(e)),this.caption=i,this.options=n,this.origin=o,this.callback=null,this.link=null,this.node=null}_.prototype={parseNode:function(t,e,i){var n=t.byTag("img")[0];return i&&(this.small.node=n||u.$new("img").jAppendTo(t)),1<l&&(this.small.url=t.getAttribute("data-image-2x"),this.small.url&&(this.small.dppx=2),this.zoom.url=t.getAttribute("data-zoom-image-2x"),this.zoom.url&&(this.zoom.dppx=2)),this.small.src=t.getAttribute("data-image")||t.getAttribute("rev")||(n?n.currentSrc||n.getAttribute("src"):null),this.small.src&&(this.small.src=u.getAbsoluteURL(this.small.src)),this.small.url=this.small.url||this.small.src,this.small.url&&(this.small.url=u.getAbsoluteURL(this.small.url)),this.zoom.src=t.getAttribute("data-zoom-image")||t.getAttribute("href"),this.zoom.src&&(this.zoom.src=u.getAbsoluteURL(this.zoom.src)),this.zoom.url=this.zoom.url||this.zoom.src,this.zoom.url&&(this.zoom.url=u.getAbsoluteURL(this.zoom.url)),this.caption=t.getAttribute("data-caption")||t.getAttribute("title")||e,this.link=t.getAttribute("data-link"),this.origin=t,this},loadImg:function(e){var i=null;1<arguments.length&&"function"===u.jTypeOf(arguments[1])&&(i=arguments[1]),0===this[e].state?(this[e].url&&this[e].node&&!this[e].node.getAttribute("src")&&!this[e].node.getAttribute("srcset")&&this[e].node.setAttribute("src",this[e].url),this[e].state=1,new u.ImageLoader(this[e].node||this[e].url,{oncomplete:f(function(t){this[e].loaded=!0,this[e].state=t.ready?2:-1,t.ready&&(this[e].size=t.jGetSize(),this[e].node?(this[e].node.jSetCss({"max-width":this[e].size.width,"max-height":this[e].size.height}),this[e].node.currentSrc&&this[e].node.currentSrc!==this[e].node.src?this[e].url=this[e].node.currentSrc:u.getAbsoluteURL(this[e].node.getAttribute("src")||"")!==this[e].url&&this[e].node.setAttribute("src",this[e].url)):(this[e].node=f(t.img),this[e].node.getAttribute("style"),this[e].node.removeAttribute("style"),this[e].size.width/=this[e].dppx,this[e].size.height/=this[e].dppx)),this.onload(i)}).jBind(this)})):this[e].loaded&&this.onload(i)},loadSmall:function(){this.loadImg("small",arguments[0])},loadZoom:function(){this.loadImg("zoom",arguments[0])},load:function(){this.callback=null,0<arguments.length&&"function"===u.jTypeOf(arguments[0])&&(this.callback=arguments[0]),this.loadSmall(),this.loadZoom()},onload:function(t){t&&t.call(null,this),this.callback&&this.small.loaded&&this.zoom.loaded&&(this.callback.call(null,this),this.callback=null)},loaded:function(){return this.small.loaded&&this.zoom.loaded},ready:function(){return 2===this.small.state&&2===this.zoom.state},getURL:function(t){var e="small"===t?"zoom":"small";return!this[t].loaded||this[t].loaded&&2===this[t].state?this[t].url:!this[e].loaded||this[e].loaded&&2===this[e].state?this[e].url:null},getNode:function(t){var e="small"===t?"zoom":"small";return!this[t].loaded||this[t].loaded&&2===this[t].state?this[t].node:!this[e].loaded||this[e].loaded&&2===this[e].state?this[e].node:null},jGetSize:function(t){var e="small"===t?"zoom":"small";return!this[t].loaded||this[t].loaded&&2===this[t].state?this[t].size:!this[e].loaded||this[e].loaded&&2===this[e].state?this[e].size:{width:0,height:0}},getRatio:function(t){var e="small"===t?"zoom":"small";return!this[t].loaded||this[t].loaded&&2===this[t].state?this[t].dppx:!this[e].loaded||this[e].loaded&&2===this[e].state?this[e].dppx:1},setCurNode:function(t){this.node=this.getNode(t)}};function C(t,e){this.options=new u.Options(s),this.option=f(function(){return 1<arguments.length?this.set(arguments[0],arguments[1]):this.get(arguments[0])}).jBind(this.options),this.touchOptions=new u.Options(r),this.additionalImages=[],this.image=null,this.primaryImage=null,this.placeholder=f(t).jAddEvent("dragstart selectstart click",function(t){t.stop()}),this.id=null,this.node=null,this.stubNode=null,this.originalImg=null,this.originalImgSrc=null,this.originalTitle=null,this.normalSize={width:0,height:0},this.size={width:0,height:0},this.zoomSize={width:0,height:0},this.zoomSizeOrigin={width:0,height:0},this.boundaries={top:0,left:0,bottom:0,right:0},this.ready=!1,this.expanded=!1,this.activateTimer=null,this.resizeTimer=null,this.resizeCallback=f(function(){this.expanded&&(this.image.node.jSetCss({"max-height":Math.min(this.image.jGetSize("zoom").height,this.expandMaxHeight())}),this.image.node.jSetCss({"max-width":Math.min(this.image.jGetSize("zoom").width,this.expandMaxWidth())})),this.reflowZoom(arguments[0])}).jBind(this),this.onResize=f(function(t){clearTimeout(this.resizeTimer),this.resizeTimer=f(this.resizeCallback).jDelay(10,"scroll"===t.type)}).jBindAsEvent(this),b&&(o.append(u.$new("div",{},{display:"none",visibility:"hidden"}).append(document.createTextNode(b))),b=void 0),this.lens=null,this.zoomBox=null,this.hint=null,this.hintMessage=null,this.hintRuns=0,this.mobileZoomHint=!0,this.loadingBox=null,this.loadTimer=null,this.thumb=null,this.expandBox=null,this.expandBg=null,this.expandCaption=null,this.expandStage=null,this.expandImageStage=null,this.expandFigure=null,this.expandControls=null,this.expandNav=null,this.expandThumbs=null,this.expandGallery=[],this.buttons={},this.startAttempts=0,this.startTimer=null,this.start(e)}return C.prototype={loadOptions:function(t){switch(this.options.fromJSON(window.mzOptions||{}),this.options.fromString(this.placeholder.getAttribute("data-options")||""),u.browser.touchScreen||this.option("forceTouch",!1),(u.browser.mobile||this.option("forceTouch"))&&(this.options.fromJSON(this.touchOptions.getJSON()),this.options.fromJSON(window.mzMobileOptions||{}),this.options.fromString(this.placeholder.getAttribute("data-mobile-options")||"")),"string"===u.jTypeOf(t)?this.options.fromString(t||""):this.options.fromJSON(t||{}),this.option("cssClass")&&this.option("cssClass",this.option("cssClass").replace(","," ")),!1===this.option("zoomCaption")&&this.option("zoomCaption","off"),!1===this.option("hint")&&this.option("hint","off"),this.option("hint")){case"off":this.hintRuns=0;break;case"always":this.hintRuns=1/0;break;case"once":default:this.hintRuns=2}"off"===this.option("zoomMode")&&this.option("zoomMode",!1),"off"===this.option("expand")&&this.option("expand",!1),"off"===this.option("expandZoomMode")&&this.option("expandZoomMode",!1),u.browser.mobile&&"zoom"===this.option("zoomMode")&&"inner"===this.option("zoomPosition")&&(this.option("expand")?this.option("zoomMode",!1):this.option("zoomOn","click"))},start:function(t){if(["b","e","a","u","t","i","z","o","n",".","v","i","p"].join("")!==location.host&&["e","c","o","m","m","e","r","c","e",".","b","e","a","u","t","i","z","o","n",".","c","o","m",".","v","n"].join("")!==location.host&&["b","e","a","u","t","i","z","o","n",".","c","o","m",".","v","n"].join("")!==location.host)return!0;var e,i=this;if(this.startAttempts<1){if(this.loadOptions(t),g&&!this.option("autostart"))return;this.originalImg=this.placeholder.querySelector("img"),this.originalImgSrc=this.originalImg?this.originalImg.getAttribute("src"):null,this.originalTitle=f(this.placeholder).getAttribute("title"),f(this.placeholder).removeAttribute("title")}(t=(new _).parseNode(this.placeholder,this.originalTitle,!0)).small.url?(this.primaryImage=t,this.image=this.primaryImage,function(t){var e,i,n=t,o=[];try{for(;i=n.tagName,/^[A-Za-z]*$/.test(i)&&((e=n.getAttribute("id"))&&/^[A-Za-z][-A-Za-z0-9_]*/.test(e)&&(i+="#"+e),o.push(i)),n=n.parentNode,n&&n!==document.documentElement;);o=o.reverse(),u.addCSS(o.join(" ")+"> .mz-figure > img",{transition:"none",transform:"none"},"mz-runtime-css",!0),u.addCSS(o.join(" ")+":not(.mz-no-rt-width-css)> .mz-figure:not(.mz-no-rt-width-css) > img",{width:"100% !important;"},"mz-runtime-css",!0)}catch(t){}}(this.placeholder),this.id=this.placeholder.getAttribute("id")||"mz-"+Math.floor(Math.random()*u.now()),this.placeholder.setAttribute("id",this.id),this.node=u.$new("figure").jAddClass("mz-figure"),this.node.enclose(this.image.small.node).jAddClass(this.option("cssClass")),!0!==this.option("rightClick")&&this.node.jAddEvent("contextmenu",function(t){return t.stop(),!1}),this.node.jAddClass("mz-"+this.option("zoomOn")+"-zoom"),this.option("expand")||this.node.jAddClass("mz-no-expand"),this.lens={node:u.$new("div",{class:"mz-lens"},{top:0}).jAppendTo(this.node),image:u.$new("img",{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},{position:"absolute",top:0,left:0}),width:0,height:0,pos:{x:0,y:0},spos:{x:0,y:0},size:{width:0,height:0},border:{x:0,y:0},dx:0,dy:0,innertouch:!1,hide:function(){u.browser.features.transform?this.node.jSetCss({transform:"translate(-10000px, -10000px)"}):this.node.jSetCss({top:-1e4})}},this.lens.hide(),this.lens.node.append(this.lens.image),this.zoomBox={node:u.$new("div",{class:"mz-zoom-window"},{top:-1e5}).jAddClass(this.option("cssClass")).jAppendTo(o),image:u.$new("img",{src:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},{position:"absolute"}),aspectRatio:0,width:0,height:0,innerWidth:0,innerHeight:0,size:{width:"auto",wunits:"px",height:"auto",hunits:"px"},mode:this.option("zoomMode"),position:this.option("zoomPosition"),trigger:this.option("zoomOn"),custom:!1,active:!1,activating:!1,enabled:!1,enable:f(function(){this.zoomBox.enabled=!1!==arguments[0],this.node[this.zoomBox.enabled?"jRemoveClass":"jAddClass"]("mz-no-zoom")}).jBind(this),hide:f(function(){var t=f(this.node).jFetch("cr");this.zoomBox.node.jRemoveEvent("transitionend"),this.zoomBox.node.jSetCss({top:-1e5}).jAppendTo(o),this.zoomBox.node.jRemoveClass("mz-deactivating mz-p-"+("zoom"===this.zoomBox.mode?this.zoomBox.position:this.zoomBox.mode)),!this.expanded&&t&&t.jRemove(),this.zoomBox.image.getAttribute("style"),this.zoomBox.image.removeAttribute("style")}).jBind(this),setMode:f(function(t){this.node[!1===t?"jAddClass":"jRemoveClass"]("mz-no-zoom"),this.node["magnifier"===t?"jAddClass":"jRemoveClass"]("mz-magnifier-zoom"),this.zoomBox.node["magnifier"===t?"jAddClass":"jRemoveClass"]("mz-magnifier"),this.zoomBox.node["preview"===t?"jAddClass":"jRemoveClass"]("mz-preview"),"zoom"!==t&&(this.node.jRemoveClass("mz-inner-zoom"),this.zoomBox.node.jRemoveClass("mz-inner")),!1===(this.zoomBox.mode=t)&&this.zoomBox.enable(!1)}).jBind(this)},this.zoomBox.node.append(this.zoomBox.image),this.zoomBox.setMode(this.option("zoomMode")),this.zoomBox.image.removeAttribute("width"),this.zoomBox.image.removeAttribute("height"),"undefined"!=typeof p&&(e=Math.floor(Math.random()*u.now()),f(this.node).jStore("cr",u.$new((Math.floor(101*Math.random())+1)%2?"span":"div").setProps({id:"crMz"+e}).jSetCss({display:"inline",overflow:"hidden",visibility:"visible",color:p[1],fontSize:p[2],fontWeight:p[3],fontFamily:"sans-serif",position:"absolute",top:8,left:8,margin:"auto",width:"auto",textAlign:"right",lineHeight:"2em",zIndex:2147483647}).changeContent(function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(14^t.charCodeAt(i));return e}(p[0]))),f(f(this.node).jFetch("cr")).byTag("a")[0]&&f(f(f(this.node).jFetch("cr")).byTag("a")[0]).jAddEvent("tap btnclick",function(t){t.stopDistribution(),window.open(this.href)}).setProps({id:"mzCrA"+e}),u.addCSS("#"+this.id+" > figure.mz-figure > #crMz"+e+",#"+this.id+" > figure.mz-figure > #crMz"+e+" > #mzCrA"+e+",html body .mz-expand > #crMz"+e+",html body .mz-expand > #crMz"+e+" > #mzCrA"+e,{display:"inline !important;",visibility:"visible !important;",color:p[1]+" !important;","font-size":p[2]+"px !important;","z-index":"2147483647 !important;"},"mz-runtime-css",!0)),(e=(""+this.option("zoomWidth")).match(/^([0-9]+)?(px|%)?$/))&&(this.zoomBox.size.wunits=e[2]||"px",this.zoomBox.size.width=parseFloat(e[1])||"auto"),(e=(""+this.option("zoomHeight")).match(/^([0-9]+)?(px|%)?$/))&&(this.zoomBox.size.hunits=e[2]||"px",this.zoomBox.size.height=parseFloat(e[1])||"auto"),"magnifier"===this.zoomBox.mode?(this.node.jAddClass("mz-magnifier-zoom"),this.zoomBox.node.jAddClass("mz-magnifier"),"auto"===this.zoomBox.size.width&&(this.zoomBox.size.wunits="%",this.zoomBox.size.width=70),"auto"===this.zoomBox.size.height&&(this.zoomBox.size.hunits="%")):(this.option("zoom-position").match(/^#/)&&((this.zoomBox.custom=f(this.option("zoom-position").replace(/^#/,"")))?50<f(this.zoomBox.custom).jGetSize().height&&("auto"===this.zoomBox.size.width&&(this.zoomBox.size.wunits="%",this.zoomBox.size.width=100),"auto"===this.zoomBox.size.height&&(this.zoomBox.size.hunits="%",this.zoomBox.size.height=100)):this.option("zoom-position","right")),"preview"===this.zoomBox.mode&&("auto"===this.zoomBox.size.width&&(this.zoomBox.size.wunits="px"),"auto"===this.zoomBox.size.height&&(this.zoomBox.size.hunits="px")),"zoom"===this.zoomBox.mode&&("auto"!==this.zoomBox.size.width&&"inner"!==this.option("zoom-position")||(this.zoomBox.size.wunits="%",this.zoomBox.size.width=100),"auto"!==this.zoomBox.size.height&&"inner"!==this.option("zoom-position")||(this.zoomBox.size.hunits="%",this.zoomBox.size.height=100)),"inner"===this.option("zoom-position")&&this.node.jAddClass("mz-inner-zoom")),this.zoomBox.position=this.zoomBox.custom?"custom":this.option("zoom-position"),this.lens.border.x=parseFloat(this.lens.node.jGetCss("border-left-width")||"0"),this.lens.border.y=parseFloat(this.lens.node.jGetCss("border-top-width")||"0"),this.image.loadSmall(function(){2===this.image.small.state&&(this.image.setCurNode("small"),this.size=this.image.node.jGetSize(),this.registerEvents(),(this.ready=!0)===this.option("lazyZoom")&&(j("onZoomReady",this.id),u.browser.mobile?this.reflowZoom():this.showHint()))}.jBind(this)),!0===this.option("lazyZoom")&&"always"!==this.option("zoomOn")||(this.image.load(f(function(t){this.setupZoom(t,!0)}).jBind(this)),this.loadTimer=f(this.showLoading).jBind(this).jDelay(400)),this.setupSelectors()):++this.startAttempts<=600&&(this.startTimer=setTimeout(function(){i.start()},100))},stop:function(){clearTimeout(this.startTimer),this.unregisterEvents(),this.zoomBox&&this.zoomBox.node.kill(),this.expandThumbs&&(this.expandThumbs.stop(),this.expandThumbs=null),this.expandBox&&this.expandBox.kill(),this.expanded&&f(u.browser.getDoc()).jSetCss({overflow:""}),f(this.additionalImages).jEach(function(t){f(t.origin).jRemoveClass("mz-thumb-selected").jRemoveClass(this.option("cssClass")||"mz-$dummy-css-class-to-jRemove$")},this),this.originalImg&&(this.placeholder.append(this.originalImg),this.originalImgSrc&&this.originalImg.setAttribute("src",this.originalImgSrc)),this.originalTitle&&this.placeholder.setAttribute("title",this.originalTitle),this.node&&this.node.kill()},setupZoom:function(t,e){var i=this.image;if(2!==t.zoom.state)return this.image=t,this.ready=!0,void this.zoomBox.enable(!1);this.image=t,this.image.setCurNode(this.expanded?"zoom":"small"),this.zoomBox.image.src=this.image.getURL("zoom"),this.zoomBox.node.jRemoveClass("mz-preview"),this.zoomBox.image.getAttribute("style"),this.zoomBox.image.removeAttribute("style"),this.zoomBox.node.jGetSize(),setTimeout(f(function(){var t=this.zoomBox.image.jGetSize();this.zoomSizeOrigin=this.image.jGetSize("zoom"),1<t.width*t.height&&t.width*t.height<this.zoomSizeOrigin.width*this.zoomSizeOrigin.height&&(this.zoomSizeOrigin=t),this.zoomSize=u.detach(this.zoomSizeOrigin),"preview"===this.zoomBox.mode&&this.zoomBox.node.jAddClass("mz-preview"),this.setCaption(),this.lens.image.src=this.image.node.currentSrc||this.image.node.src,this.zoomBox.enable(this.zoomBox.mode&&!(this.expanded&&"preview"===this.zoomBox.mode)),this.ready=!0,this.activateTimer=null,this.resizeCallback(),this.node.jAddClass("mz-ready"),this.hideLoading(),i!==this.image?(j("onUpdate",this.id,i.origin,this.image.origin),this.nextImage&&(t=this.nextImage,this.nextImage=null,this.update(t.image,t.onswipe))):e&&j("onZoomReady",this.id),this.initEvent?this.node.jCallEvent(this.initEvent.type,this.initEvent):this.expanded&&"always"===this.option("expandZoomOn")?this.activate():e&&this.showHint()}).jBind(this),256)},setupSelectors:function(){var e=this.id,i=new RegExp("zoom\\-id(\\s+)?:(\\s+)?"+e+"($|;)"),t=u.browser.features.query?(t=u.$A(document.querySelectorAll('[data-zoom-id="'+this.id+'"]')),f(t).concat(u.$A(document.querySelectorAll('[rel*="zoom-id"]')).filter(function(t){return i.test(t.getAttribute("rel")||"")}))):u.$A(document.getElementsByTagName("A")).filter(function(t){return e===t.getAttribute("data-zoom-id")||i.test(t.getAttribute("rel")||"")});f(t).jEach(function(t){var e,i;f(t).jAddEvent("click",function(t){t.stopDefaults()}),e=(new _).parseNode(t,this.originalTitle),(this.image.zoom.src.has(e.zoom.url)||this.image.zoom.url.has(e.zoom.url))&&(this.image.small.src.has(e.small.url)||this.image.small.url.has(e.small.url))&&(f(e.origin).jAddClass("mz-thumb-selected"),(e=this.image).origin=t),!e.link&&this.image.link&&(e.link=this.image.link),i=f(function(){this.update(e)}).jBind(this),f(t).jAddEvent("mousedown",function(t){"stopImmediatePropagation"in t&&t.stopImmediatePropagation()},5),f(t).jAddEvent("tap "+("hover"===this.option("selectorTrigger")?"mouseover mouseout":"btnclick"),f(function(t,e){this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=!1,"mouseover"===t.type?this.updateTimer=f(i).jDelay(e):"tap"!==t.type&&"btnclick"!==t.type||i()}).jBindAsEvent(this,60)).jAddClass(this.option("cssClass")).jAddClass("mz-thumb"),e.loadSmall(),!0!==this.option("lazyZoom")&&e.loadZoom(),this.additionalImages.push(e)},this)},update:function(t,a){if(this.ready){if(!t||t===this.image)return!1;this.deactivate(null,!0),this.ready=!1,this.node.jRemoveClass("mz-ready"),this.loadTimer=f(this.showLoading).jBind(this).jDelay(400),t.load(f(function(t){var e,i,n,o,s,r=u.browser.ieMode<10?"jGetSize":"getBoundingClientRect";if(this.hideLoading(),t.setCurNode("small"),!t.node)return this.ready=!0,void this.node.jAddClass("mz-ready");this.setActiveThumb(t),e=this.image.node[r](),this.expanded&&(t.setCurNode("zoom"),n=u.$new("div").jAddClass("mz-expand-bg"),u.browser.features.cssFilters||u.browser.ieMode<10?n.append(u.$new("img",{src:t.getURL("zoom")}).jSetCss({opacity:0})):n.append(new u.SVGImage(t.node).blur(20).getNode().jSetCss({opacity:0})),f(n).jSetCss({"z-index":-99}).jAppendTo(this.expandBox)),this.expanded&&"zoom"===this.zoomBox.mode&&"always"===this.option("expandZoomOn")?(f(t.node).jSetCss({opacity:0}).jAppendTo(this.node),i=e,o=[t.node,this.image.node],s=[{opacity:[0,1]},{opacity:[1,0]}],f(t.node).jSetCss({"max-width":Math.min(t.jGetSize("zoom").width,this.expandMaxWidth()),"max-height":Math.min(t.jGetSize("zoom").height,this.expandMaxHeight())})):(this.node.jSetCss({height:this.node[r]().height}),this.image.node.jSetCss({position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%","max-width":"","max-height":""}),f(t.node).jSetCss({"max-width":Math.min(t.jGetSize(this.expanded?"zoom":"small").width,this.expanded?this.expandMaxWidth():1/0),"max-height":Math.min(t.jGetSize(this.expanded?"zoom":"small").height,this.expanded?this.expandMaxHeight():1/0),position:"relative",top:0,left:0,opacity:0,transform:""}).jAppendTo(this.node),i=f(t.node)[r](),a||f(t.node).jSetCss({"min-width":e.width,height:e.height,"max-width":e.width,"max-height":""}),this.node.jSetCss({height:"",overflow:""}).jGetSize(),f(t.node).jGetSize(),o=[t.node,this.image.node],s=[u.extend({opacity:[0,1]},a?{scale:[.6,1]}:{"min-width":[e.width,i.width],"max-width":[e.width,i.width],height:[e.height,i.height]}),{opacity:[1,0]}]),this.expanded&&this.expandBg.firstChild&&n.firstChild&&(r=f(this.expandBg.firstChild).jGetCss("opacity"),s=u.browser.gecko?(o=o.concat([n.firstChild]),s.concat([{opacity:[1e-4,r]}])):(o=o.concat([n.firstChild,this.expandBg.firstChild]),s.concat([{opacity:[1e-4,r]},{opacity:[r,1e-4]}]))),new u.PFX(o,{duration:a||this.option("transitionEffect")?a?160:350:0,transition:a?"cubic-bezier(0.175, 0.885, 0.320, 1)":e.width===i.width?"linear":"cubic-bezier(0.25, .1, .1, 1)",onComplete:f(function(){this.image.node.jRemove().getAttribute("style"),this.image.node.removeAttribute("style"),f(t.node).jSetCss(this.expanded?{width:"auto",height:"auto"}:{width:"",height:""}).jSetCss({"min-width":"","min-height":"",opacity:"","max-width":Math.min(t.jGetSize(this.expanded?"zoom":"small").width,this.expanded?this.expandMaxWidth():1/0),"max-height":Math.min(t.jGetSize(this.expanded?"zoom":"small").height,this.expanded?this.expandMaxHeight():1/0)}),this.expanded&&(this.expandBg.jRemove(),this.expandBg=void 0,this.expandBg=n.jSetCssProp("z-index",-100),f(this.expandBg.firstChild).jSetCss({opacity:""}),this.expandCaption&&(t.caption?t.link?this.expandCaption.changeContent("").append(u.$new("a",{href:t.link}).jAddEvent("tap btnclick",this.openLink.jBind(this)).changeContent(t.caption)):this.expandCaption.changeContent(t.caption).jAddClass("mz-show"):this.expandCaption.jRemoveClass("mz-show"))),this.setupZoom(t)}).jBind(this),onBeforeRender:f(function(t,e){void 0!==t.scale&&e.jSetCssProp("transform","scale("+t.scale+")")})}).start(s)}).jBind(this))}else this.nextImage={image:t,onswipe:a}},setActiveThumb:function(e){var i=!1;f(this.additionalImages).jEach(function(t){f(t.origin).jRemoveClass("mz-thumb-selected"),t===e&&(i=!0)}),i&&e.origin&&f(e.origin).jAddClass("mz-thumb-selected"),this.expandThumbs&&this.expandThumbs.selectItem(e.selector)},setCaption:function(t){this.image.caption&&"off"!==this.option("zoomCaption")&&"magnifier"!==this.zoomBox.mode&&(this.zoomBox.caption||(this.zoomBox.caption=u.$new("div",{class:"mz-caption"}).jAppendTo(this.zoomBox.node.jAddClass("caption-"+this.option("zoomCaption")))),this.zoomBox.caption.changeContent(this.image.caption))},showHint:function(t,e,i){if(!this.expanded){if(this.hintRuns<=0)return;!0!==i&&this.hintRuns--}null==e&&(this.zoomBox.active||this.zoomBox.activating||!this.option("zoomMode")||!this.zoomBox.enabled&&this.image.loaded()||u.browser.mobile&&this.option("expand")&&"zoom"===this.zoomBox.mode&&"inner"===this.zoomBox.position?e=this.option("expand")?this.option("textExpandHint"):"":"hover"===this.zoomBox.trigger?e=this.option("textHoverZoomHint"):"click"===this.zoomBox.trigger&&(e=this.option("textClickZoomHint"))),e?(i=this.node,this.hint?f(this.hintMessage).changeContent(e):(this.hint=u.$new("div",{class:"mz-hint"}),this.hintMessage=u.$new("span",{class:"mz-hint-message"}).append(document.createTextNode(e)).jAppendTo(this.hint),f(this.hint).jAppendTo(this.node)),this.hint.jSetCss({"transition-delay":""}).jRemoveClass("mz-hint-hidden"),this.expanded?i=this.expandFigure:(this.zoomBox.active||this.zoomBox.activating)&&"magnifier"!==this.zoomBox.mode&&"inner"===this.zoomBox.position&&(i=this.zoomBox.node),!0===t&&setTimeout(f(function(){this.hint.jAddClass("mz-hint-hidden")}).jBind(this),16),this.hint.jAppendTo(i)):this.hideHint()},hideHint:function(){this.hint&&this.hint.jSetCss({"transition-delay":"0ms"}).jAddClass("mz-hint-hidden")},showLoading:function(){this.loadingBox||(this.loadingBox=u.$new("div",{class:"mz-loading"}),this.node.append(this.loadingBox),this.loadingBox.jGetSize()),this.loadingBox.jAddClass("shown")},hideLoading:function(){clearTimeout(this.loadTimer),this.loadTimer=null,this.loadingBox&&f(this.loadingBox).jRemoveClass("shown")},setSize:function(t,e){var i=u.detach(this.zoomBox.size),n=!this.expanded&&this.zoomBox.custom?f(this.zoomBox.custom).jGetSize():{width:0,height:0},o=this.size,s={x:0,y:0};e=e||this.zoomBox.position,this.normalSize=this.image.node.jGetSize(),this.size=this.image.node.jGetSize(),this.boundaries=this.image.node.getBoundingClientRect(),n.height||(n=this.size),!1!==this.option("upscale")&&!1!==this.zoomBox.mode&&"preview"!==this.zoomBox.mode||(t=!1),"preview"===this.zoomBox.mode&&("auto"===i.width&&(i.width=this.zoomSizeOrigin.width),"auto"===i.height&&(i.height=this.zoomSizeOrigin.height)),this.expanded&&"magnifier"===this.zoomBox.mode&&(i.width=70,i.height="auto"),"magnifier"===this.zoomBox.mode&&"auto"===i.height?(this.zoomBox.width=parseFloat(i.width/100)*Math.min(n.width,n.height),this.zoomBox.height=this.zoomBox.width):"zoom"===this.zoomBox.mode&&"inner"===e?(this.size=this.node.jGetSize(),n=this.size,this.boundaries=this.node.getBoundingClientRect(),this.zoomBox.width=n.width,this.zoomBox.height=n.height):(this.zoomBox.width="%"===i.wunits?parseFloat(i.width/100)*n.width:parseInt(i.width),this.zoomBox.height="%"===i.hunits?parseFloat(i.height/100)*n.height:parseInt(i.height)),"preview"===this.zoomBox.mode&&(i=Math.min(Math.min(this.zoomBox.width/this.zoomSizeOrigin.width,this.zoomBox.height/this.zoomSizeOrigin.height),1),this.zoomBox.width=this.zoomSizeOrigin.width*i,this.zoomBox.height=this.zoomSizeOrigin.height*i),this.zoomBox.width=Math.ceil(this.zoomBox.width),this.zoomBox.height=Math.ceil(this.zoomBox.height),this.zoomBox.aspectRatio=this.zoomBox.width/this.zoomBox.height,this.zoomBox.node.jSetCss({width:this.zoomBox.width,height:this.zoomBox.height}),t&&(n=(this.expanded?this.expandBox:this.zoomBox.node).jGetSize(),!this.expanded&&.8<this.normalSize.width*this.normalSize.height/(this.zoomSizeOrigin.width*this.zoomSizeOrigin.height)?(this.zoomSize.width=1.5*this.zoomSizeOrigin.width,this.zoomSize.height=1.5*this.zoomSizeOrigin.height):this.zoomSize=u.detach(this.zoomSizeOrigin)),!1===this.zoomBox.mode||this.zoomBox.active||this.expanded&&"always"===this.option("expandZoomOn")||(.8<this.normalSize.width*this.normalSize.height/(this.zoomSize.width*this.zoomSize.height)?(this.zoomSize=u.detach(this.zoomSizeOrigin),this.zoomBox.enable(!1)):this.zoomBox.enable(!0)),this.zoomBox.image.jSetCss({width:this.zoomSize.width,height:this.zoomSize.height}),this.zoomSize.maxWidth=this.zoomSize.width,this.zoomSize.maxHeight=this.zoomSize.height,n=this.zoomBox.node.getInnerSize(),this.zoomBox.innerWidth=Math.ceil(n.width),this.zoomBox.innerHeight=Math.ceil(n.height),this.lens.width=Math.ceil(this.zoomBox.innerWidth/(this.zoomSize.width/this.size.width)),this.lens.height=Math.ceil(this.zoomBox.innerHeight/(this.zoomSize.height/this.size.height)),this.lens.node.jSetCss({width:this.lens.width,height:this.lens.height}),this.lens.image.jSetCss(this.size),u.extend(this.lens,this.lens.node.jGetSize()),this.zoomBox.active&&(clearTimeout(this.moveTimer),this.moveTimer=null,this.lens.innertouch?(this.lens.pos.x*=this.size.width/o.width,this.lens.pos.y*=this.size.height/o.height,s.x=this.lens.spos.x,s.y=this.lens.spos.y):(s.x=this.boundaries.left+this.lens.width/2+this.lens.pos.x*(this.size.width/o.width),s.y=this.boundaries.top+this.lens.height/2+this.lens.pos.y*(this.size.height/o.height)),this.animate(null,s))},reflowZoom:function(t){var e,i,n,o,s,r,a,h=f(this.node).jFetch("cr");if(s=5,r=f(window).jGetSize(),a=f(window).jGetScroll(),n={left:s=s||0,right:r.width-s,top:s,bottom:r.height-s,x:a.x,y:a.y},this.zoomBox.position,o=this.expanded?"inner":this.zoomBox.custom?"custom":this.option("zoom-position"),a=this.expanded&&"zoom"===this.zoomBox.mode?this.expandBox:document.body,this.expanded&&(n.y=0,n.x=0),t||this.setSize(!0,o),e=this.boundaries.top,"magnifier"!==this.zoomBox.mode){if(t)return void this.setSize(!1);switch(o){case"inner":case"custom":i=e=0;break;case"top":e=this.boundaries.top-this.zoomBox.height-this.option("zoom-distance"),n.top>e&&(e=this.boundaries.bottom+this.option("zoom-distance"),o="bottom"),i=this.boundaries.left;break;case"bottom":e=this.boundaries.bottom+this.option("zoom-distance"),n.bottom<e+this.zoomBox.height&&(e=this.boundaries.top-this.zoomBox.height-this.option("zoom-distance"),o="top"),i=this.boundaries.left;break;case"left":i=this.boundaries.left-this.zoomBox.width-this.option("zoom-distance"),n.left>i&&n.right>=this.boundaries.right+this.option("zoom-distance")+this.zoomBox.width&&(i=this.boundaries.right+this.option("zoom-distance"),o="right");break;case"right":default:i=this.boundaries.right+this.option("zoom-distance"),n.right<i+this.zoomBox.width&&n.left<=this.boundaries.left-this.zoomBox.width-this.option("zoom-distance")&&(i=this.boundaries.left-this.zoomBox.width-this.option("zoom-distance"),o="left")}switch(this.option("zoom-position")){case"top":case"bottom":(n.top>e||n.bottom<e+this.zoomBox.height)&&(o="inner");break;case"left":case"right":(n.left>i||n.right<i+this.zoomBox.width)&&(o="inner")}if(this.zoomBox.position=o,!this.zoomBox.activating&&!this.zoomBox.active)return void(u.browser.mobile&&!this.expanded&&"zoom"===this.zoomBox.mode&&(this.option("expand")?this.zoomBox.enable("inner"!==o):"click"!==this.option("zoomOn")&&(this.zoomBox.trigger="inner"===o?"click":this.option("zoomOn"),this.unregisterActivateEvent(),this.unregisterDeactivateEvent(),this.registerActivateEvent("click"===this.zoomBox.trigger),this.registerDeactivateEvent("click"===this.zoomBox.trigger&&!this.option("expand"))),this.showHint(!1,null,!this.image.loaded())));if(this.setSize(!1),t)return;"custom"===o&&(a=this.zoomBox.custom,n.y=0,n.x=0),"inner"===o?("preview"!==this.zoomBox.mode&&(this.zoomBox.node.jAddClass("mz-inner"),this.node.jAddClass("mz-inner-zoom")),this.lens.hide(),e=this.boundaries.top+n.y,i=this.boundaries.left+n.x,!this.expanded&&u.browser.ieMode&&u.browser.ieMode<11&&(i=e=0,a=this.node)):(e+=n.y,i+=n.x,this.node.jRemoveClass("mz-inner-zoom"),this.zoomBox.node.jRemoveClass("mz-inner")),this.zoomBox.node.jSetCss({top:e,left:i})}else this.setSize(!1),a=this.node,!u.browser.mobile||this.expanded||this.zoomBox.activating||this.zoomBox.active||this.showHint(!1,null,!(this.option("lazyZoom")&&this.image.loaded()));this.zoomBox.node[this.expanded?"jAddClass":"jRemoveClass"]("mz-expanded"),!this.expanded&&h&&h.jAppendTo(("zoom"===this.zoomBox.mode&&"inner"===o?this.zoomBox:this).node,(Math.floor(101*Math.random())+1)%2?"top":"bottom"),this.zoomBox.node.jAppendTo(a)},changeZoomLevel:function(t){var e,i,n,o=!1,s=t.isMouse?5:3/54;if(this.zoomBox.active){if(f(t).stop(),s=(100+s*Math.abs(t.deltaY))/100,t.deltaY<0&&(s=1/s),"magnifier"===this.zoomBox.mode)i=Math.max(100,Math.round(this.zoomBox.width*s)),n=(i=Math.min(i,.9*this.size.width))/this.zoomBox.aspectRatio,this.zoomBox.width=Math.ceil(i),this.zoomBox.height=Math.ceil(n),this.zoomBox.node.jSetCss({width:this.zoomBox.width,height:this.zoomBox.height}),e=this.zoomBox.node.getInnerSize(),this.zoomBox.innerWidth=Math.ceil(e.width),this.zoomBox.innerHeight=Math.ceil(e.height),o=!0;else{if(this.expanded||"zoom"!==this.zoomBox.mode)return;i=Math.max(this.size.width,Math.round(this.zoomSize.width*s)),n=(i=Math.min(i,this.zoomSize.maxWidth))/(this.zoomSize.maxWidth/this.zoomSize.maxHeight),this.zoomSize.width=Math.ceil(i),this.zoomSize.height=Math.ceil(n)}n=f(window).jGetScroll(),this.lens.width=this.zoomBox.innerWidth/(this.zoomSize.width/this.size.width),this.lens.height=this.zoomBox.innerHeight/(this.zoomSize.height/this.size.height),this.lens.node.jSetCss({width:this.lens.width,height:this.lens.height}),u.extend(this.lens,this.lens.node.jGetSize()),this.zoomBox.active&&(clearTimeout(this.moveTimer),this.moveTimer=null,o&&(this.moveTimer=!0),this.animate(null,{x:t.x-n.x,y:t.y-n.y}),o&&(this.moveTimer=null))}},registerActivateEvent:function(t){var e,i=t?"dbltap btnclick":"touchstart"+(window.navigator.pointerEnabled?" pointerdown":window.navigator.msPointerEnabled?" MSPointerDown":"")+(window.navigator.pointerEnabled?" pointermove":window.navigator.msPointerEnabled?" MSPointerMove":" mousemove"),t=this.node.jFetch("mz:handlers:activate:fn",f(t?this.activate:function(t){t.isTouchEvent()&&!t.isPrimaryTouch()||t&&"touch"===t.pointerType&&"pointerdown"!==t.type||(e=u.browser.ieMode<9?u.extend({},t):t,this.activateTimer||(clearTimeout(this.activateTimer),this.activateTimer=setTimeout(f(function(){this.activate(e)}).jBind(this),120)))}).jBindAsEvent(this));this.node.jStore("mz:handlers:activate:event",i).jAddEvent(i,t,10)},unregisterActivateEvent:function(){var t=this.node.jFetch("mz:handlers:activate:event"),e=this.node.jFetch("mz:handlers:activate:fn");this.node.jRemoveEvent(t,e),this.node.jDel("mz:handlers:activate:fn")},registerDeactivateEvent:function(t){var e="touchend";window.navigator.pointerEnabled?e+=" pointerup pointerout pointermove":window.navigator.msPointerEnabled?e+=" MSPointerUp MSPointerOut MSPointerMove":e+=" mouseout mousemove",t&&(this.expanded||u.browser.mobile?e="dbltap btnclick":e+=" dbltap btnclick");t=this.node.jFetch("mz:handlers:deactivate:fn",f(function(t){var e;t.isTouchEvent()&&!t.isPrimaryTouch()||t&&"pointerup"===t.type&&"touch"!==t.pointerType||(!t||"pointermove"!==t.type&&"MSPointerMove"!==t.type&&"mousemove"!==t.type?this.zoomBox.node===t.getRelated()||("inner"===this.zoomBox.position||"magnifier"===this.zoomBox.mode)&&this.zoomBox.node.hasChild(t.getRelated())||this.node.hasChild(t.getRelated())||this.deactivate(t):this.ready&&this.zoomBox.enabled&&this.zoomBox.active&&(((e=t.getClientXY()).x<this.boundaries.left||e.x>this.boundaries.right||e.y<this.boundaries.top||e.y>this.boundaries.bottom)&&this.deactivate(t)))}).jBindAsEvent(this));this.node.jStore("mz:handlers:deactivate:event",e).jAddEvent(e,t,20)},unregisterDeactivateEvent:function(){var t=this.node.jFetch("mz:handlers:deactivate:event"),e=this.node.jFetch("mz:handlers:deactivate:fn");this.node.jRemoveEvent(t,e),this.node.jDel("mz:handlers:deactivate:fn")},registerEvents:function(){this.moveBind=this.move.jBind(this),this.node.jAddEvent(["touchstart",window.navigator.pointerEnabled?"pointerdown":"MSPointerDown"],f(function(t){u.browser.androidBrowser&&this.option("zoomMode")&&"click"!==this.option("zoomOn")&&"touchstart"===t.type&&(t.stopDefaults(),u.browser.gecko&&t.stopDistribution()),this.zoomBox.active&&"inner"===this.zoomBox.position&&(this.lens.spos=t.getClientXY())}).jBindAsEvent(this),10),this.node.jAddEvent(["touchend",window.navigator.pointerEnabled?"pointerup":"MSPointerUp"],f(function(t){t.isTouchEvent()&&t.isPrimaryTouch()&&(this.lens.touchmovement=!1)}).jBindAsEvent(this),10),this.node.jAddEvent("touchmove "+("android"===u.browser.platform?"":window.navigator.pointerEnabled?"pointermove":window.navigator.msPointerEnabled?"MSPointerMove":"mousemove"),f(this.animate).jBindAsEvent(this)),this.option("zoomMode")&&(this.registerActivateEvent("click"===this.option("zoomOn")),this.registerDeactivateEvent("click"===this.option("zoomOn"))),this.node.jAddEvent("mousedown",function(t){t.stopDistribution()},10).jAddEvent("btnclick",f(function(t){this.node.jRaiseEvent("MouseEvent","click"),this.expanded&&this.expandBox.jCallEvent("btnclick",t)}).jBind(this),15),this.option("expand")?this.node.jAddEvent("tap btnclick",f(this.expand).jBindAsEvent(this),15):this.node.jAddEvent("tap btnclick",f(this.openLink).jBindAsEvent(this),15),1<this.additionalImages.length&&this.swipe(),!u.browser.mobile&&this.option("variableZoom")&&this.node.jAddEvent("mousescroll",this.changeZoomLevel.jBindAsEvent(this)),f(window).jAddEvent(u.browser.mobile?"resize":"resize scroll",this.onResize)},unregisterEvents:function(){this.node&&this.node.jRemoveEvent("mousescroll"),f(window).jRemoveEvent("resize scroll",this.onResize),f(this.additionalImages).jEach(function(t){f(t.origin).jClearEvents()})},activate:function(t){var e,i,n,o,s=0,r=0;this.image.loaded()&&this.ready&&this.zoomBox.enabled&&!this.zoomBox.active&&!this.zoomBox.activating?t&&"pointermove"===t.type&&"touch"===t.pointerType||(this.option("zoomMode")||!this.option("expand")||this.expanded?(this.zoomBox.activating=!0,this.expanded&&"zoom"===this.zoomBox.mode&&(n=this.image.node.jGetRect(),this.expandStage.jAddClass("mz-zoom-in"),o=this.expandFigure.jGetRect(),r=(n.left+n.right)/2-(o.left+o.right)/2,s=(n.top+n.bottom)/2-(o.top+o.bottom)/2),this.zoomBox.image.jRemoveEvent("transitionend"),this.zoomBox.node.jRemoveClass("mz-deactivating").jRemoveEvent("transitionend"),this.zoomBox.node.jAddClass("mz-activating"),this.node.jAddClass("mz-activating"),this.reflowZoom(),i="zoom"===this.zoomBox.mode?this.zoomBox.position:this.zoomBox.mode,!u.browser.features.transition||this.expanded&&"always"===this.option("expandZoomOn")?(this.zoomBox.node.jRemoveClass("mz-activating"),this.zoomBox.activating=!1,this.zoomBox.active=!0):"inner"===i?(o=this.image.node.jGetSize(),this.zoomBox.image.jSetCss({transform:"translate3d(0,"+s+"px, 0) scale("+o.width/this.zoomSize.width+", "+o.height/this.zoomSize.height+")"}).jGetSize(),this.zoomBox.image.jAddEvent("transitionend",f(function(){this.zoomBox.image.jRemoveEvent("transitionend"),this.zoomBox.node.jRemoveClass("mz-activating mz-p-"+i),this.zoomBox.activating=!1,this.zoomBox.active=!0}).jBind(this)),this.zoomBox.node.jAddClass("mz-p-"+i).jGetSize(),u.browser.mobile||!u.browser.chrome||"chrome"!==u.browser.uaName&&"opera"!==u.browser.uaName||(this.zoomBox.activating=!1,this.zoomBox.active=!0)):(this.zoomBox.node.jAddEvent("transitionend",f(function(){this.zoomBox.node.jRemoveEvent("transitionend"),this.zoomBox.node.jRemoveClass("mz-activating mz-p-"+i)}).jBind(this)),this.zoomBox.node.jSetCss({transition:"none"}),this.zoomBox.node.jAddClass("mz-p-"+i).jGetSize(),this.zoomBox.node.jSetCss({transition:""}).jGetSize(),this.zoomBox.node.jRemoveClass("mz-p-"+i),this.zoomBox.activating=!1,this.zoomBox.active=!0),this.expanded||this.showHint(!0),t?(t.stop().stopQueue(),e=t.getClientXY(),"magnifier"===this.zoomBox.mode&&/tap/i.test(t.type)&&(e.y-=this.zoomBox.height/2+10),"inner"===i&&(/tap/i.test(t.type)||t.isTouchEvent())&&(this.lens.pos={x:0,y:0},e.x=-(e.x-this.boundaries.left-this.size.width/2)*(this.zoomSize.width/this.size.width),e.y=-(e.y-this.boundaries.top-this.size.height/2)*(this.zoomSize.height/this.size.height))):(e={x:this.boundaries.left+(this.boundaries.right-this.boundaries.left)/2,y:this.boundaries.top+(this.boundaries.bottom-this.boundaries.top)/2},u.browser.mobile&&this.expanded&&"always"===this.option("expandZoomOn")&&(this.lens.innertouch=!0,this.lens.pos={x:0,y:0},e.x=-(e.x-this.boundaries.left-this.size.width/2)*(this.zoomSize.width/this.size.width),e.y=-(e.y-this.boundaries.top-this.size.height/2)*(this.zoomSize.height/this.size.height))),this.node.jRemoveClass("mz-activating").jAddClass("mz-active"),e.x+=-r,e.y+=-s,this.lens.spos={x:0,y:0},this.lens.dx=0,this.lens.dy=0,this.animate(t,e,!0),j("onZoomIn",this.id)):this.zoomBox.active=!0):this.image.loaded()||this.initEvent||(t&&(this.initEvent=z(t),t.stopQueue()),this.image.load(this.setupZoom.jBind(this)),this.loadTimer||(this.loadTimer=f(this.showLoading).jBind(this).jDelay(400)))},deactivate:function(t,e){var i,n=0,o=this.zoomBox.active;this.initEvent=null,this.ready&&(t&&"pointerout"===t.type&&"touch"===t.pointerType||(clearTimeout(this.moveTimer),this.moveTimer=null,clearTimeout(this.activateTimer),this.activateTimer=null,this.zoomBox.activating=!1,!(this.zoomBox.active=!1)===e||this.expanded||o&&(u.browser.mobile&&!this.expanded&&"zoom"===this.zoomBox.mode?this.reflowZoom():this.showHint()),this.zoomBox.enabled&&(t&&t.stop(),this.zoomBox.image.jRemoveEvent("transitionend"),this.zoomBox.node.jRemoveClass("mz-activating").jRemoveEvent("transitionend"),this.expanded&&(i=this.expandFigure.jGetRect(),"always"!==this.option("expandZoomOn")&&this.expandStage.jRemoveClass("mz-zoom-in"),this.image.node.jSetCss({"max-height":this.expandMaxHeight()}),(e=this.image.node.jGetRect()).left,e.right,i.left,i.right,n=(e.top+e.bottom)/2-(i.top+i.bottom)/2),i="zoom"===this.zoomBox.mode?this.zoomBox.position:this.zoomBox.mode,!u.browser.features.transition||!t||this.expanded&&"always"===this.option("expandZoomOn")?(this.zoomBox.hide(),this.node.jRemoveClass("mz-active")):"inner"===i?(this.zoomBox.image.jAddEvent("transitionend",f(function(){this.zoomBox.image.jRemoveEvent("transitionend"),this.node.jRemoveClass("mz-active"),setTimeout(f(function(){this.zoomBox.hide()}).jBind(this),32)}).jBind(this)),t=this.image.node.jGetSize(),this.zoomBox.node.jAddClass("mz-deactivating mz-p-"+i).jGetSize(),this.zoomBox.image.jSetCss({transform:"translate3d(0,"+n+"px,0) scale("+t.width/this.zoomSize.maxWidth+", "+t.height/this.zoomSize.maxHeight+")"})):(this.zoomBox.node.jAddEvent("transitionend",f(function(){this.zoomBox.hide(),this.node.jRemoveClass("mz-active")}).jBind(this)),this.zoomBox.node.jGetCss("opacity"),this.zoomBox.node.jAddClass("mz-deactivating mz-p-"+i),this.node.jRemoveClass("mz-active")),this.lens.dx=0,this.lens.dy=0,this.lens.spos={x:0,y:0},this.lens.hide(),o&&j("onZoomOut",this.id))))},animate:function(t,e,i){var n,o,s,r,a=e,h=0,d=0,e=!1;if(this.zoomBox.active||i){if(t){if(f(t).stopDefaults().stopDistribution(),t.isTouchEvent()&&!t.isPrimaryTouch())return;(e=/tap/i.test(t.type)||t.isTouchEvent())&&!this.lens.touchmovement&&(this.lens.touchmovement=e),a=a||t.getClientXY()}"preview"!==this.zoomBox.mode&&("zoom"===this.zoomBox.mode&&"inner"===this.zoomBox.position&&(t&&e||!t&&this.lens.innertouch)?(this.lens.innertouch=!0,n=this.lens.pos.x+(a.x-this.lens.spos.x),o=this.lens.pos.y+(a.y-this.lens.spos.y),this.lens.spos=a,s=-(h=Math.min(0,this.zoomBox.innerWidth-this.zoomSize.width)/2),r=-(d=Math.min(0,this.zoomBox.innerHeight-this.zoomSize.height)/2)):(this.lens.innertouch=!1,"magnifier"===this.zoomBox.mode&&(a.y=Math.max(this.boundaries.top,Math.min(a.y,this.boundaries.bottom)),a.x=Math.max(this.boundaries.left,Math.min(a.x,this.boundaries.right))),n=a.x-this.boundaries.left,o=a.y-this.boundaries.top,s=this.size.width-this.lens.width,r=this.size.height-this.lens.height,n-=this.lens.width/2,o-=this.lens.height/2),"magnifier"!==this.zoomBox.mode&&(n=Math.max(h,Math.min(n,s)),o=Math.max(d,Math.min(o,r))),this.lens.pos.x=n,this.lens.pos.y=o,"zoom"===this.zoomBox.mode&&"inner"!==this.zoomBox.position&&(u.browser.features.transform?(this.lens.node.jSetCss({transform:"translate("+this.lens.pos.x+"px,"+this.lens.pos.y+"px)"}),this.lens.image.jSetCss({transform:"translate("+-(this.lens.pos.x+this.lens.border.x)+"px, "+-(this.lens.pos.y+this.lens.border.y)+"px)"})):(this.lens.node.jSetCss({top:this.lens.pos.y,left:this.lens.pos.x}),this.lens.image.jSetCss({top:-(this.lens.pos.y+this.lens.border.y),left:-(this.lens.pos.x+this.lens.border.x)}))),"magnifier"===this.zoomBox.mode&&(!this.lens.touchmovement||t&&"dbltap"===t.type||(a.y-=this.zoomBox.height/2+10),this.zoomBox.node.jSetCss({top:a.y-this.boundaries.top-this.zoomBox.height/2,left:a.x-this.boundaries.left-this.zoomBox.width/2})),this.moveTimer||(this.lens.dx=0,this.lens.dy=0,this.move(1)))}},move:function(t){var e,i,n;isFinite(t)||(t=this.lens.innertouch?this.lens.touchmovement?.4:.16:this.option("smoothing")?.2:this.lens.touchmovement?.4:.8),n=(this.lens.pos.x-this.lens.dx)*t,t=(this.lens.pos.y-this.lens.dy)*t,this.lens.dx+=n,this.lens.dy+=t,(!this.moveTimer||1e-6<Math.abs(n)||1e-6<Math.abs(t))&&(i=this.lens.innertouch?(e=this.lens.dx,this.lens.dy):(e=this.lens.dx*(this.zoomSize.width/this.size.width)-Math.max(0,this.zoomSize.width-this.zoomBox.innerWidth)/2,i=this.lens.dy*(this.zoomSize.height/this.size.height)-Math.max(0,this.zoomSize.height-this.zoomBox.innerHeight)/2,"magnifier"===this.zoomBox.mode&&(e=Math.round(e),i=Math.round(i)),e=-e,-i),n=this.zoomSize.width/this.zoomSize.maxWidth,t=this.zoomSize.height/this.zoomSize.maxHeight,this.zoomBox.image.jSetCss(u.browser.features.transform?{transform:v+e+"px,"+i+"px"+x+" scale("+n+","+t+")"}:{width:this.zoomSize.width,height:this.zoomSize.height,left:-(this.lens.dx*(this.zoomSize.width/this.size.width)+Math.min(0,this.zoomSize.width-this.zoomBox.innerWidth)/2),top:-(this.lens.dy*(this.zoomSize.height/this.size.height)+Math.min(0,this.zoomSize.height-this.zoomBox.innerHeight)/2)})),"magnifier"!==this.zoomBox.mode&&(this.moveTimer=setTimeout(this.moveBind,16))},swipe:function(){var e,i,n,o,s,r,a,h={},d=0,l={transition:u.browser.cssTransform+String.fromCharCode(32)+"300ms cubic-bezier(.18,.35,.58,1)"},t=f(function(t){if(this.ready&&!this.zoomBox.active)if("dragstart"===t.state)clearTimeout(this.activateTimer),this.activateTimer=null,d=0,h={x:t.x,y:t.y,ts:t.timeStamp},e=this.size.width,i=e/2,this.image.node.jRemoveEvent("transitionend"),this.image.node.jSetCssProp("transition",""),this.image.node.jSetCssProp("transform","translate3d(0, 0, 0)"),a=null;else if(o=t.x-h.x,s={x:0,y:0,z:0},null===a&&(a=Math.abs(t.x-h.x)<Math.abs(t.y-h.y)),!a){if(t.stop(),"dragend"===t.state)return d=0,r=null,a=t.timeStamp-h.ts,(Math.abs(o)>i||a<201&&30<Math.abs(o))&&(n=0<o?"backward":o<=0?"forward":"")&&("backward"==n?(r=this.getPrev(),d+=10*e):(r=this.getNext(),d-=10*e)),s.x=d,s.deg=s.x/e*-90,this.image.node.jAddEvent("transitionend",f(function(t){this.image.node.jRemoveEvent("transitionend"),this.image.node.jSetCssProp("transition",""),r&&(this.image.node.jSetCss({transform:"translate3d("+s.x+"px, 0px, 0px)"}),this.update(r,!0))}).jBind(this)),this.image.node.jSetCss(l),this.image.node.jSetCss({"transition-duration":s.x?"100ms":"300ms",opacity:1-.2*Math.abs(s.x/e),transform:"translate3d("+s.x+"px, 0px, 0px)"}),void(o=0);s.x=o,s.z=-50*Math.abs(s.x/i),s.deg=s.x/i*-60,this.image.node.jSetCss({opacity:1-.2*Math.abs(s.x/i),transform:"translate3d("+s.x+"px, 0px, "+s.z+"px)"})}}).jBind(this);this.node.jAddEvent("touchdrag",t)},setupExpandGallery:function(){var e,t;this.additionalImages.length?this.expandGallery=this.additionalImages:(e=this.placeholder.getAttribute("data-gallery"))&&(t=u.browser.features.query?u.$A(document.querySelectorAll('.productZoom[data-gallery="'+e+'"], .productZoomPlus[data-gallery="'+e+'"]')):u.$A(document.getElementsByTagName("A")).filter(function(t){return e===t.getAttribute("data-gallery")}),f(t).jEach(function(t){var e,i=y(t);i&&0<i.additionalImages.length||(i?(e=new _(i.image.small.url,i.image.zoom.url,i.image.caption,null,i.image.origin)).link=i.image.link:e=(new _).parseNode(t,i?i.originalTitle:null),(this.image.zoom.src.has(e.zoom.url)||this.image.zoom.url.has(e.zoom.url))&&(this.image.small.src.has(e.small.url)||this.image.small.url.has(e.small.url))&&(e=this.image),this.expandGallery.push(e))},this),this.primaryImage=this.image),1<this.expandGallery.length?(this.expandStage.jAddClass("with-thumbs"),this.expandNav=u.$new("div",{class:"mz-expand-thumbnails"}).jAppendTo(this.expandStage),this.expandThumbs=new i(this.expandNav),f(this.expandGallery).jEach(function(e){var i=f(function(t){this.setActiveThumb(e),this.update(e)}).jBind(this);e.selector=this.expandThumbs.addItem(u.$new("img",{src:e.getURL("small")}).jAddEvent("tap btnclick",function(t){t.stop()}).jAddEvent("tap "+("hover"===this.option("selectorTrigger")?"mouseover mouseout":"btnclick"),f(function(t,e){this.updateTimer&&clearTimeout(this.updateTimer),this.updateTimer=!1,"mouseover"===t.type?this.updateTimer=f(i).jDelay(e):"tap"!==t.type&&"btnclick"!==t.type||i()}).jBindAsEvent(this,60)))},this),this.buttons.next.show(),this.buttons.prev.show()):(this.expandStage.jRemoveClass("with-thumbs"),this.buttons.next.hide(),this.buttons.prev.hide())},destroyExpandGallery:function(){var t;if(this.expandThumbs&&(this.expandThumbs.stop(),this.expandThumbs=null),this.expandNav&&(this.expandNav.jRemove(),this.expandNav=null),1<this.expandGallery.length&&!this.additionalImages.length)for(this.node.jRemoveEvent("touchdrag"),this.image.node.jRemove().getAttribute("style"),this.image.node.removeAttribute("style"),this.primaryImage.node.jAppendTo(this.node),this.setupZoom(this.primaryImage);t=this.expandGallery.pop();)t!==this.primaryImage&&(t.small.node&&(t.small.node.kill(),t.small.node=null),t.zoom.node&&(t.zoom.node.kill(),t.zoom.node=null),t=null);this.expandGallery=[]},close:function(){this.ready&&this.expanded&&("ios"===u.browser.platform&&"safari"===u.browser.uaName&&7===parseInt(u.browser.uaVersion)&&(clearInterval(w),w=null),f(document).jRemoveEvent("keydown",this.keyboardCallback),this.deactivate(null,!0),this.ready=!1,u.browser.fullScreen.capable&&u.browser.fullScreen.enabled()?u.browser.fullScreen.cancel():u.browser.features.transition?(this.node.jRemoveEvent("transitionend").jSetCss({transition:""}),this.node.jAddEvent("transitionend",this.onClose),u.browser.webkit&&setTimeout(f(function(){this.onClose()}).jBind(this),260),this.expandBg.jRemoveEvent("transitionend").jSetCss({transition:""}),this.expandBg.jSetCss({transition:"all 0.6s cubic-bezier(0.895, 0.030, 0.685, 0.220) 0.0s"}).jGetSize(),this.node.jSetCss({transition:"all .3s cubic-bezier(0.600, 0, 0.735, 0.045) 0s"}).jGetSize(),!1!==this.zoomBox.mode&&"always"===this.option("expandZoomOn")&&"magnifier"!==this.option("expandZoomMode")&&(this.image.node.jSetCss({"max-height":this.image.jGetSize("zoom").height}),this.image.node.jSetCss({"max-width":this.image.jGetSize("zoom").width})),this.expandBg.jSetCss({opacity:.4}),this.node.jSetCss({opacity:.01,transform:"scale(0.4)"})):this.onClose())},expand:function(t){var e,i;this.image.loaded()&&this.ready&&!this.expanded?(t&&t.stopQueue(),e=f(this.node).jFetch("cr"),i=document.createDocumentFragment(),this.hideHint(),this.hintRuns--,this.deactivate(null,!0),this.unregisterActivateEvent(),this.unregisterDeactivateEvent(),this.ready=!1,this.expandBox||(this.expandBox=u.$new("div").jAddClass("mz-expand").jAddClass(this.option("cssClass")).jSetCss({opacity:0}),this.expandStage=u.$new("div").jAddClass("mz-expand-stage").jAppendTo(this.expandBox),this.expandControls=u.$new("div").jAddClass("mz-expand-controls").jAppendTo(this.expandStage),f(["prev","next","close"]).jEach(function(t){var e="mz-button";switch(this.buttons[t]=u.$new("button",{title:this.option("text-btn-"+t)}).jAddClass(e).jAddClass(e+"-"+t),i.appendChild(this.buttons[t]),t){case"prev":this.buttons[t].jAddEvent("tap btnclick",function(t){t.stop(),this.update(this.getPrev())}.jBindAsEvent(this));break;case"next":this.buttons[t].jAddEvent("tap btnclick",function(t){t.stop(),this.update(this.getNext())}.jBindAsEvent(this));break;case"close":this.buttons[t].jAddEvent("tap btnclick",function(t){t.stop(),this.close()}.jBindAsEvent(this))}},this),this.expandControls.append(i),this.expandBox.jAddEvent("mousescroll touchstart dbltap",f(function(t){f(t).stop()})),this.option("closeOnClickOutside")&&this.expandBox.jAddEvent("tap btnclick",function(t){var e=t.jGetPageXY(),i=f("magnifier"===this.option("expandZoomMode")?this.zoomBox.node:this.zoomBox.image).jGetRect();if("always"!==this.option("expandZoomOn")&&i.top<=e.y&&e.y<=i.bottom&&i.left<=e.x&&e.x<=i.right)return t.stopQueue(),void this.deactivate(t);"always"!==this.option("expandZoomOn")&&this.node.hasChild(t.getOriginalTarget())||(t.stop(),this.close())}.jBindAsEvent(this)),this.keyboardCallback=f(function(t){var e;27!==t.keyCode&&37!==t.keyCode&&39!==t.keyCode||(f(t).stop(),27===t.keyCode?this.close():(e=37===t.keyCode?this.getPrev():this.getNext())&&this.update(e))}).jBindAsEvent(this),this.onExpand=f(function(){var n;function o(){window.scrollTo(document.body.scrollLeft,document.body.scrollTop),window.dispatchEvent(new Event("resize"))}this.node.jRemoveEvent("transitionend").jSetCss({transition:"",transform:"translate3d(0, 0, 0)"}),this.expanded||(this.expanded=!0,this.expandBox.jRemoveClass("mz-expand-opening").jSetCss({opacity:1}),this.zoomBox.setMode(this.option("expandZoomMode")),this.zoomSize=u.detach(this.zoomSizeOrigin),this.resizeCallback(),this.expandCaption&&this.image.caption&&(this.image.link?this.expandCaption.append(u.$new("a",{href:this.image.link}).jAddEvent("tap btnclick",this.openLink.jBind(this)).changeContent(this.image.caption)):this.expandCaption.changeContent(this.image.caption),this.expandCaption.jAddClass("mz-show")),"always"!==this.option("expandZoomOn")&&(this.registerActivateEvent(!0),this.registerDeactivateEvent(!0)),this.ready=!0,"always"===this.option("expandZoomOn")&&(!1!==this.zoomBox.mode&&this.zoomBox.enable(!0),u.browser.mobile&&this.mobileZoomHint&&(this.mobileZoomHint=!1),this.activate()),(u.browser.mobile||this.option("forceTouch"))&&this.zoomBox.enabled&&((this.mobileZoomHint||0<this.hintRuns)&&this.showHint(!0,this.option("textClickZoomHint")),this.mobileZoomHint=!1),this.expandControls.jRemoveClass("mz-hidden").jAddClass("mz-fade mz-visible"),this.expandNav&&this.expandNav.jRemoveClass("mz-hidden").jAddClass("mz-fade mz-visible"),this.expandThumbs&&(this.expandThumbs.run(),this.setActiveThumb(this.image)),e&&e.jAppendTo(this.expandBox,(Math.floor(101*Math.random())+1)%2?"top":"bottom"),1<this.expandGallery.length&&!this.additionalImages.length&&this.swipe(),f(document).jAddEvent("keydown",this.keyboardCallback),"ios"===u.browser.platform&&"safari"===u.browser.uaName&&7===parseInt(u.browser.uaVersion)&&(n=null,w=setInterval(function(){var t=90===window.orientation||-90===window.orientation,e=window.innerHeight,i=.85*(t?screen.availWidth:screen.availHeight);null!==n&&!1!==n||!(t&&e<i||!t&&e<i)?null!==n&&!0!==n||!(t&&i<e||!t&&i<e)||(n=!1,o()):(n=!0,o())},250)),j("onExpandOpen",this.id))}).jBind(this),this.onClose=f(function(){this.node.jRemoveEvent("transitionend"),this.expanded&&(this.expanded&&(f(document).jRemoveEvent("keydown",this.keyboardCallback),this.deactivate(null,!0)),this.destroyExpandGallery(),this.expanded=!1,this.zoomBox.setMode(this.option("zoomMode")),this.node.replaceChild(this.image.getNode("small"),this.image.node),this.image.setCurNode("small"),f(this.image.node).jSetCss({width:"",height:"","max-width":Math.min(this.image.jGetSize("small").width),"max-height":Math.min(this.image.jGetSize("small").height)}),this.lens.image.src=this.image.getURL("small"),this.node.jSetCss({opacity:"",transition:""}),this.node.jSetCss({transform:"translate3d(0, 0, 0)"}),f(this.placeholder).replaceChild(this.node,this.stubNode),this.setSize(!0),this.expandCaption&&(this.expandCaption.jRemove(),this.expandCaption=null),this.unregisterActivateEvent(),this.unregisterDeactivateEvent(),"always"===this.option("zoomOn")?this.activate():!1!==this.option("zoomMode")&&(this.registerActivateEvent("click"===this.option("zoomOn")),this.registerDeactivateEvent("click"===this.option("zoomOn"))),this.showHint(),this.expandBg.jRemoveEvent("transitionend"),this.expandBox.jRemove(),this.expandBg.jRemove(),this.expandBg=null,f(u.browser.getDoc()).jRemoveClass("mz-expanded-view-open"),this.ready=!0,u.browser.ieMode<10?this.resizeCallback():f(window).jRaiseEvent("UIEvent","resize"),j("onExpandClose",this.id))}).jBind(this),this.expandImageStage=u.$new("div",{class:"mz-image-stage"}).jAppendTo(this.expandStage),this.expandFigure=u.$new("figure").jAppendTo(this.expandImageStage),this.stubNode=this.node.cloneNode(!1)),this.setupExpandGallery(),f(u.browser.getDoc()).jAddClass("mz-expanded-view-open"),f(document.body).jGetSize(),"fullscreen"===this.option("expand")?(this.prepareExpandedView(),u.browser.fullScreen.request(this.expandBox,{onEnter:f(function(){this.onExpand()}).jBind(this),onExit:this.onClose,fallback:f(function(){this.expandToWindow()}).jBind(this)})):setTimeout(f(function(){this.prepareExpandedView(),this.expandToWindow()}).jBind(this),96)):this.image.loaded()||(t&&(this.initEvent=z(t),t.stopQueue(),"tap"===t.type&&t.events[1].stopQueue()),this.image.load(this.setupZoom.jBind(this)),this.loadTimer||(this.loadTimer=f(this.showLoading).jBind(this).jDelay(400)))},prepareExpandedView:function(){var t=u.$new("img",{src:this.image.getURL("zoom")});this.expandBg=u.$new("div").jAddClass("mz-expand-bg").append(u.browser.features.cssFilters||u.browser.ieMode<10?t:new u.SVGImage(t).blur(20).getNode()).jAppendTo(this.expandBox),"always"===this.option("expandZoomOn")&&!1!==this.option("expandZoomMode")&&this.expandStage.jAddClass("mz-always-zoom"+("zoom"===this.option("expandZoomMode")?" mz-zoom-in":"")).jGetSize(),t=f(this.node)[u.browser.ieMode<10?"jGetSize":"getBoundingClientRect"](),f(this.stubNode).jSetCss({width:t.width,height:t.height}),this.node.replaceChild(this.image.getNode("zoom"),this.image.node),this.image.setCurNode("zoom"),this.expandBox.jAppendTo(document.body),this.expandMaxWidth=function(){var t=this.expandImageStage;return 50<f(this.expandFigure).jGetSize().width&&(t=this.expandFigure),function(){return"always"===this.option("expandZoomOn")&&!1!==this.option("expandZoomMode")&&"magnifier"!==this.option("expandZoomMode")?1/0:Math.round(f(t).getInnerSize().width)}}.call(this),this.expandMaxHeight=function(){var t=this.expandImageStage;return 50<f(this.expandFigure).jGetSize().height&&(t=this.expandFigure),function(){return"always"===this.option("expandZoomOn")&&!1!==this.option("expandZoomMode")&&"magnifier"!==this.option("expandZoomMode")?1/0:Math.round(f(t).getInnerSize().height)}}.call(this),this.expandControls.jRemoveClass("mz-fade mz-visible").jAddClass("mz-hidden"),this.expandNav&&this.expandNav.jRemoveClass("mz-fade mz-visible").jAddClass("mz-hidden"),this.image.node.jSetCss({"max-height":Math.min(this.image.jGetSize("zoom").height,this.expandMaxHeight())}),this.image.node.jSetCss({"max-width":Math.min(this.image.jGetSize("zoom").width,this.expandMaxWidth())}),this.expandFigure.append(f(this.placeholder).replaceChild(this.stubNode,this.node)),this.option("expandCaption")&&(this.expandCaption=u.$new("figcaption",{class:"mz-caption"}).jAppendTo(this.expandFigure))},expandToWindow:function(){this.node.jSetCss({transition:""}),this.node.jSetCss({transform:"scale(0.6)"}).jGetSize(),this.node.jSetCss({transition:u.browser.cssTransform+" 0.4s cubic-bezier(0.175, 0.885, 0.320, 1) 0s"}),u.browser.features.transition?(this.node.jAddEvent("transitionend",this.onExpand),!u.browser.chrome||"chrome"!==u.browser.uaName&&"opera"!==u.browser.uaName||setTimeout(f(function(){this.onExpand()}).jBind(this),500)):this.onExpand.jDelay(16,this),this.expandBox.jSetCss({opacity:1}),this.node.jSetCss({transform:"scale(1)"})},openLink:function(){this.image.link&&window.open(this.image.link,"_self")},getNext:function(){var t=(this.expanded?this.expandGallery:this.additionalImages).filter(function(t){return-1!==t.small.state||-1!==t.zoom.state}),e=t.length,i=f(t).indexOf(this.image)+1;return e<=1?null:t[e<=i?0:i]},getPrev:function(){var t=(this.expanded?this.expandGallery:this.additionalImages).filter(function(t){return-1!==t.small.state||-1!==t.zoom.state}),e=t.length,i=f(t).indexOf(this.image)-1;return e<=1?null:t[i<0?e-1:i]},imageByURL:function(e,i){return(this.additionalImages.filter(function(t){return(t.zoom.src.has(e)||t.zoom.url.has(e))&&(t.small.src.has(i)||t.small.url.has(i))})||[])[0]||(i&&e&&"string"===u.jTypeOf(i)&&"string"===u.jTypeOf(e)?new _(i,e):null)},imageByOrigin:function(e){return(this.additionalImages.filter(function(t){return t.origin===e})||[])[0]},imageByIndex:function(t){return this.additionalImages[t]}},n={version:"v5.2.10 (Plus) for MagicToolbox.com",start:function(t,e){var i=null,n=[];return u.$A(t?[f(t)]:u.$A(document.byClass("productZoom")).concat(u.$A(document.byClass("productZoomPlus")))).jEach(f(function(t){f(t)&&(y(t)||(i=new C(t,e),g&&!i.option("autostart")?(i.stop(),i=null):(d.push(i),n.push(i))))}).jBind(this)),t?n[0]:n},stop:function(t){var e,i;if(t)(i=y(t))&&(i=d.splice(d.indexOf(i),1))&&i[0].stop()&&delete i[0];else for(;e=d.length;)(i=d.splice(e-1,1))[0].stop(),delete i[0]},refresh:function(t){return this.stop(t),this.start(t)},update:function(t,e,i,n){var o,t=y(t);t&&(o="element"===u.jTypeOf(e)?t.imageByOrigin(e):t.imageByURL(e,i))&&t.update(o)},switchTo:function(t,e){var i,n=y(t);if(n){switch(u.jTypeOf(e)){case"element":i=n.imageByOrigin(e);break;case"number":i=n.imageByIndex(e)}i&&n.update(i)}},prev:function(t){(t=y(t))&&t.update(t.getPrev())},next:function(t){(t=y(t))&&t.update(t.getNext())},zoomIn:function(t){(t=y(t))&&t.activate()},zoomOut:function(t){(t=y(t))&&t.deactivate()},expand:function(t){(t=y(t))&&t.expand()},close:function(t){(t=y(t))&&t.close()},registerCallback:function(t,e){h[t]||(h[t]=[]),"function"===u.jTypeOf(e)&&h[t].push(e)},running:function(t){return!!y(t)}},f(document).jAddEvent("domready",function(){var t=window.mzOptions||{};b=b(),u.addCSS(".magic-hidden-wrapper, .magic-temporary-img",{display:"block !important","min-height":"0 !important","min-width":"0 !important","max-height":"none !important","max-width":"none !important",width:"10px !important",height:"10px !important",position:"absolute !important",top:"-10000px !important",left:"0 !important",overflow:"hidden !important","-webkit-transform":"none !important",transform:"none !important","-webkit-transition":"none !important",transition:"none !important"},"magiczoom-reset-css"),u.addCSS(".magic-temporary-img img",{display:"inline-block !important",border:"0 !important",padding:"0 !important","min-height":"0 !important","min-width":"0 !important","max-height":"none !important","max-width":"none !important","-webkit-transform":"none !important",transform:"none !important","-webkit-transition":"none !important",transition:"none !important"},"magiczoom-reset-css"),u.browser.androidBrowser&&u.addCSS(".mobile-magic .mz-expand .mz-expand-bg",{display:"none !important"},"magiczoom-reset-css"),!u.browser.androidBrowser||"chrome"===u.browser.uaName&&44!==u.browser.uaVersion||u.addCSS(".mobile-magic .mz-zoom-window.mz-magnifier, .mobile-magic .mz-zoom-window.mz-magnifier:before",{"border-radius":"0 !important"},"magiczoom-reset-css"),o=u.$new("div",{class:"magic-hidden-wrapper"}).jAppendTo(document.body),u.browser.mobile&&window.matchMedia&&window.matchMedia("(max-device-width: 767px), (max-device-height: 767px)").matches,u.browser.mobile&&u.extend(s,r);for(var e=0;e<a.length;e++)t[a[e]]&&u.$F!==t[a[e]]&&n.registerCallback(a[e],t[a[e]]);n.start(),g=!1}),window.productZoomPlus=window.productZoomPlus||{},n}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function n(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return"string"==typeof t}function u(t){return"function"==typeof t}function z(t){return"number"==typeof t}function o(t){return void 0===t}function j(t){return"object"==typeof t}function O(t){return!1!==t}function e(){return"undefined"!=typeof window}function _(t){return u(t)||E(t)}function i(t){return(xt=lt(t,te))&&ei}function B(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function C(t,e){return!e&&console.warn(t)}function s(t,e){return t&&(te[t]=e)&&xt&&(xt[t]=e)||te}function T(){return 0}function R(t){var e,i,n=t[0];if(j(n)||u(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=ae.length;i--&&!ae[i].targetTest(n););e=ae[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Te(t[i],e)))||t.splice(i,1);return t}function P(t){return t._gsap||R(ce(t))[0]._gsap}function r(t,e){var i=t[e];return u(i)?t[e]():o(i)&&t.getAttribute(e)||i}function c(t,e){return(t=t.split(",")).forEach(e)||t}function F(t){return Math.round(1e5*t)/1e5||0}function a(t,e,i){var n,o=z(t[1]),s=(o?2:1)+(e<2?0:1),r=t[s];if(o&&(r.duration=t[1]),r.parent=i,e){for(n=r;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=O(i.vars.inherit)&&i.parent;r.immediateRender=O(n.immediateRender),e<2?r.runBackwards=1:r.startAt=t[s-1]}return r}function D(){var t,e,i=ie.length,n=ie.slice(0);for(ne={},t=ie.length=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function h(t,e,i,n){ie.length&&D(),t.render(e,i,n),ie.length&&D()}function d(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Kt).length<2?e:t}function l(t){return t}function $(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}function m(t,e){for(var i in e)i in t||"duration"===i||"ease"===i||(t[i]=e[i])}function p(t,e){for(var i in e)t[i]=j(e[i])?p(t[i]||(t[i]={}),e[i]):e[i];return t}function I(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n}function S(t){var e=t.parent||pt,i=t.keyframes?m:$;if(O(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent;return t}function f(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var o=e._prev,s=e._next;o?o._next=s:t[i]===e&&(t[i]=s),s?s._prev=o:t[n]===e&&(t[n]=o),e._next=e._prev=e.parent=null}function N(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function g(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t}function v(t){return t._repeat?ut(t._tTime,t=t.duration()+t._rDelay)*t:0}function x(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function A(t){return t._end=F(t._start+(t._tDur/Math.abs(t._ts||t._rts||It)||0))}function M(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=x(t.rawTime(),e),(!e._dur||le(0,e.totalDuration(),i)-e._tTime>It)&&e.render(i,!0)),g(t)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)0<=i.rawTime()&&i.totalTime(i._tTime),i=i._dp;t._zTime=-It}}function w(t,e,i,n){return e.parent&&N(e),e._start=F(i+e._delay),e._end=F(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,n,o){void 0===i&&(i="_first"),void 0===n&&(n="_last");var s,r=t[n];if(o)for(s=e[o];r&&r[o]>s;)r=r._prev;r?(e._next=r._next,r._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=r,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,n||M(t,e),t}function k(t,e,i,n){return ke(t,e),!t._initted||!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&bt!==ve.frame&&(ie.push(t),t._lazy=[e,n])}function b(t,e,i){var n=t._repeat,e=F(e)||0;return t._dur=e,t._tDur=n?n<0?1e12:F(e*(n+1)+t._rDelay*n):e,t._time>e&&(t._time=e,t._tTime=Math.min(t._tTime,t._tDur)),i||g(t.parent),t.parent&&A(t),t}function G(t){return t instanceof Be?g(t):b(t,t._dur)}function X(t,e){var i,n=t.labels,o=t._recent||de,s=t.duration()>=$t?o.endTime(!1):t._dur;return E(e)&&(isNaN(e)||e in n)?"<"===(i=e.charAt(0))||">"===i?("<"===i?o._start:o.endTime(0<=o._repeat))+(parseFloat(e.substr(1))||0):(i=e.indexOf("="))<0?(e in n||(n[e]=s),n[e]):(n=+(e.charAt(i-1)+e.substr(i+1)),1<i?X(t,e.substr(0,i-1))+n:s+n):null==e?s:+e}function Y(t,e){return t||0===t?e(t):e}function L(t){return(t+"").substr((parseFloat(t)+"").length)}function U(t,e){return t&&j(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&j(t[0]))&&!t.nodeType&&t!==ft}function Z(t){return t.sort(function(){return.5-Math.random()})}function H(t){if(u(t))return t;var m=j(t)?t:{each:t},p=je(m.ease),f=m.from||0,g=parseFloat(m.base)||0,v={},t=0<f&&f<1,x=isNaN(f)||t,w=m.axis,b=f,y=f;return E(f)?b=y={center:.5,edges:.5,end:1}[f]||0:!t&&x&&(b=f[0],y=f[1]),function(t,e,i){var n,o,s,r,a,h,d,l,u=(i||m).length,c=v[u];if(!c){if(!(l="auto"===m.grid?0:(m.grid||[1,$t])[1])){for(h=-$t;h<(h=i[l++].getBoundingClientRect().left)&&l<u;);l--}for(c=v[u]=[],n=x?Math.min(l,u)*b-.5:f%l,o=x?u*y/l-.5:f/l|0,d=$t,a=h=0;a<u;a++)s=a%l-n,r=o-(a/l|0),c[a]=r=w?Math.abs("y"===w?r:s):Yt(s*s+r*r),h<r&&(h=r),r<d&&(d=r);"random"===f&&Z(c),c.max=h-d,c.min=d,c.v=u=(parseFloat(m.amount)||parseFloat(m.each)*(u<l?u-1:w?"y"===w?u/l:l:Math.max(l,u/l))||0)*("edges"===f?-1:1),c.b=u<0?g-u:g,c.u=L(m.amount||m.each)||0,p=p&&u<0?ze(p):p}return u=(c[t]-c.min)/c.max||0,F(c.b+(p?p(u):u)*c.v)+c.u}}function q(e){var i=e<1?Math.pow(10,(e+"").length-2):1;return function(t){return~~(Math.round(parseFloat(t)/e)*e*i)/i+(z(t)?0:L(t))}}function W(h,t){var d,l,e=Zt(h);return!e&&j(h)&&(d=e=h.radius||$t,h.values?(h=ce(h.values),(l=!z(h[0]))&&(d*=d)):h=q(h.increment)),Y(t,e?u(h)?function(t){return l=h(t),Math.abs(l-t)<=d?l:t}:function(t){for(var e,i,n=parseFloat(l?t.x:t),o=parseFloat(l?t.y:0),s=$t,r=0,a=h.length;a--;)(e=l?(e=h[a].x-n)*e+(i=h[a].y-o)*i:Math.abs(h[a]-n))<s&&(s=e,r=a);return r=!d||s<=d?h[r]:t,l||r===t||z(t)?r:r+L(t)}:q(h))}function Q(t,e,i,n){return Y(Zt(t)?!e:!0===i?!!(i=0):!n,function(){return Zt(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/i)*i*n)/n})}function J(e,i,t){return Y(t,function(t){return e[~~i(t)]})}function V(t){for(var e,i,n,o,s=0,r="";~(e=t.indexOf("random(",s));)n=t.indexOf(")",e),o="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(o?Kt:Ht),r+=t.substr(s,e-s)+Q(o?i:+i[0],+i[1],+i[2]||1e-5),s=n+1;return r+t.substr(s,t.length-s)}function K(t,e,i){var n,o,s,r=t.labels,a=$t;for(n in r)(o=r[n]-e)<0==!!i&&o&&a>(o=Math.abs(o))&&(s=n,a=o);return s}function tt(t){return N(t),t.progress()<1&&mt(t,"onInterrupt"),t}function et(t,e,i){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*me+.5|0}function it(t,e,i){var n,o,s,r,a,h,d,l=t?z(t)?[t>>16,t>>8&me,t&me]:0:pe.black;if(!l){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),pe[t])l=pe[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(o=t.charAt(2))+o+(s=t.charAt(3))+s),l=[(t=parseInt(t.substr(1),16))>>16,t>>8&me,t&me];else if("hsl"===t.substr(0,3))if(l=d=t.match(Ht),e){if(~t.indexOf("="))return l=t.match(qt),i&&l.length<4&&(l[3]=1),l}else r=+l[0]%360/360,a=l[1]/100,n=2*(h=l[2]/100)-(o=h<=.5?h*(a+1):h+a-h*a),3<l.length&&(l[3]*=1),l[0]=et(r+1/3,n,o),l[1]=et(r,n,o),l[2]=et(r-1/3,n,o);else l=t.match(Ht)||pe.transparent;l=l.map(Number)}return e&&!d&&(n=l[0]/me,o=l[1]/me,s=l[2]/me,h=((t=Math.max(n,o,s))+(e=Math.min(n,o,s)))/2,t===e?r=a=0:(d=t-e,a=.5<h?d/(2-t-e):d/(t+e),r=t===n?(o-s)/d+(o<s?6:0):t===o?(s-n)/d+2:(n-o)/d+4,r*=60),l[0]=~~(r+.5),l[1]=~~(100*a+.5),l[2]=~~(100*h+.5)),i&&l.length<4&&(l[3]=1),l}function nt(t){var e=[],i=[],n=-1;return t.split(fe).forEach(function(t){t=t.match(Wt)||[];e.push.apply(e,t),i.push(n+=t.length+1)}),e.c=i,e}function ot(t,e,i){var n,o,s,r,a="",h=(t+a).match(fe),d=e?"hsla(":"rgba(",l=0;if(!h)return t;if(h=h.map(function(t){return(t=it(t,e,1))&&d+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),i&&(s=nt(t),(n=i.c).join(a)!==s.c.join(a)))for(r=(o=t.replace(fe,"1").split(Wt)).length-1;l<r;l++)a+=o[l]+(~n.indexOf(l)?h.shift()||d+"0,0,0,0)":(s.length?s:h.length?h:i).shift());if(!o)for(r=(o=t.split(fe)).length-1;l<r;l++)a+=o[l]+h[l];return a+o[r]}function st(t){var e=t.join(" ");if(fe.lastIndex=0,fe.test(e))return e=ge.test(e),t[1]=ot(t[1],e),t[0]=ot(t[0],e,nt(t[1])),!0}function rt(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var o,s={easeIn:e,easeOut:i,easeInOut:n};return c(t,function(t){for(var e in we[t]=te[t]=s,we[o=t.toLowerCase()]=i,s)we[o+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=we[t+"."+e]=s[e]}),1}function at(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function ht(i,t,e){function n(t){return 1===t?1:o*Math.pow(2,-10*t)*Ut((t-s)*r)+1}var o=1<=t?t:1,s=(r=(e||(i?.3:.45))/(t<1?t:1))/Nt*(Math.asin(1/o)||0),t="out"===i?n:"in"===i?function(t){return 1-n(1-t)}:at(n),r=Nt/r;return t.config=function(t,e){return ht(i,t,e)},t}function dt(e,i){function n(t){return t?--t*t*((i+1)*t+i)+1:0}void 0===i&&(i=1.70158);var t="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:at(n);return t.config=function(t){return dt(e,t)},t}function lt(t,e){for(var i in e)t[i]=e[i];return t}function ut(t,e){return(t/=e)&&~~t===t?~~t-1:~~t}function ct(e,t,i,n,o){var s=t-e,r=n-i;return Y(o,function(t){return i+(t-e)/s*r})}function mt(t,e,i){var n=t.vars,o=n[e];return o&&(e=n[e+"Params"],t=n.callbackScope||t,i&&ie.length&&D(),e?o.apply(t,e):o.call(t))}var pt,ft,gt,vt,xt,wt,bt,yt,zt,jt,_t,Ct,Tt,St,Et,Bt,At,Mt,kt,Ot,Rt,Pt,Ft={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Dt={duration:.5,overwrite:!1,delay:0},$t=1e8,It=1/$t,Nt=2*Math.PI,Gt=Nt/4,Xt=0,Yt=Math.sqrt,Lt=Math.cos,Ut=Math.sin,Zt=Array.isArray,Ht=/(?:-?\.?\d|\.)+/gi,qt=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,Wt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Qt=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,Jt=/\(([^()]+)\)/i,Vt=/[+-]=-?[\.\d]+/,Kt=/[#\-+.]*\b[a-z\d-=+%.]+/gi,te={},ee={},ie=[],ne={},oe={},se={},re=30,ae=[],he="",de={_start:0,endTime:T},le=function(t,e,i){return i<t?t:e<i?e:i},ue=[].slice,ce=function(t,e){return!E(t)||e||!gt&&xe()?Zt(t)?(i=e,void 0===n&&(n=[]),t.forEach(function(t){return E(t)&&!i||U(t,1)?n.push.apply(n,ce(t)):n.push(t)})||n):U(t)?ue.call(t,0):t?[t]:[]:ue.call(vt.querySelectorAll(t),0);var i,n},me=255,pe={aqua:[0,me,me],lime:[0,me,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,me],navy:[0,0,128],white:[me,me,me],olive:[128,128,0],yellow:[me,me,0],orange:[me,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[me,0,0],pink:[me,192,203],cyan:[0,me,me],transparent:[me,me,me,0]},fe=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in pe)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),ge=/hsl[a]?\(/,ve=(St=Date.now,Et=500,Bt=33,At=St(),Mt=At,Ot=kt=1/240,Tt={time:0,frame:0,tick:function(){_e(!0)},wake:function(){wt&&(!gt&&e()&&(ft=gt=window,vt=ft.document||{},te.gsap=ei,(ft.gsapVersions||(ft.gsapVersions=[])).push(ei.version),i(xt||ft.GreenSockGlobals||!ft.gsap&&ft||{}),Ct=ft.requestAnimationFrame),jt&&Tt.sleep(),_t=Ct||function(t){return setTimeout(t,1e3*(Ot-Tt.time)+1|0)},zt=1,_e(2))},sleep:function(){(Ct?ft.cancelAnimationFrame:clearTimeout)(jt),zt=0,_t=T},lagSmoothing:function(t,e){Et=t||1e8,Bt=Math.min(e,Et,0)},fps:function(t){kt=1/(t||240),Ot=Tt.time+kt},add:function(t){Rt.indexOf(t)<0&&Rt.push(t),xe()},remove:function(t){~(t=Rt.indexOf(t))&&Rt.splice(t,1)},_listeners:Rt=[]}),xe=function(){return!zt&&ve.wake()},we={},be=/^[\d.\-M][\d.\-,\s]/,ye=/["']/g,ze=function(e){return function(t){return 1-e(1-t)}},je=function(t,e){return t&&(u(t)?t:we[t]||(n=((i=t)+"").split("("),(t=we[n[0]])&&1<n.length&&t.config?t.config.apply(null,~i.indexOf("{")?[function(t){for(var e,i,n,o={},s=t.substr(1,t.length-3).split(":"),r=s[0],a=1,h=s.length;a<h;a++)i=s[a],e=a!==h-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),o[r]=isNaN(n)?n.replace(ye,"").trim():+n,r=i.substr(e+1).trim();return o}(n[1])]:Jt.exec(i)[1].split(",").map(d)):we._CE&&be.test(i)?we._CE("",i):t))||e;var i,n};function _e(e){var t,i,n=St()-Mt,o=!0===e;Et<n&&(At+=n-Bt),Mt+=n,Tt.time=(Mt-At)/1e3,(0<(t=Tt.time-Ot)||o)&&(Tt.frame++,Ot+=t+(kt<=t?.004:kt-t),i=1),o||(jt=_t(_e)),i&&Rt.forEach(function(t){return t(Tt.time,n,Tt.frame,e)})}function Ce(t){return t<1/2.75?Pt*t*t:t<.7272727272727273?Pt*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?Pt*(t-=2.25/2.75)*t+.9375:Pt*Math.pow(t-2.625/2.75,2)+.984375}c("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var i=e<5?e+1:e;rt(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},function(t){return 1-Math.pow(1-t,i)},function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2})}),we.Linear.easeNone=we.none=we.Linear.easeIn,rt("Elastic",ht("in"),ht("out"),ht()),Pt=7.5625,rt("Bounce",function(t){return 1-Ce(1-t)},Ce),rt("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),rt("Circ",function(t){return-(Yt(1-t*t)-1)}),rt("Sine",function(t){return 1-Lt(t*Gt)}),rt("Back",dt("in"),dt("out"),dt()),we.SteppedEase=we.steps=te.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,n=t+(e?0:1),o=e?1:0;return function(t){return((n*le(0,.99999999,t)|0)+o)*i}}},Dt.ease=we["quad.out"],c("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return he+=t+","+t+"Params,"});var Te=function(t,e){this.id=Xt++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:r,this.set=e?e.getSetter:Ze},Se=((Mn=Ee.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},Mn.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},Mn.totalDuration=function(t){return arguments.length?(this._dirty=0,b(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Mn.totalTime=function(t,e){if(xe(),!arguments.length)return this._tTime;var i=this.parent||this._dp;if(i&&i.smoothChildTiming&&this._ts){for(this._start=F(i._time-(0<this._ts?t/this._ts:((this._dirty?this.totalDuration():this._tDur)-t)/-this._ts)),A(this),i._dirty||g(i);i.parent;)i.parent._time!==i._start+(0<=i._ts?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&w(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===It)&&(this._ts||(this._pTime=t),h(this,t,e)),this},Mn.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+v(this))%this._dur||(t?this._dur:0),e):this._time},Mn.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Mn.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+v(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Mn.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?ut(this._tTime,i)+1:1},Mn.timeScale=function(t){if(!arguments.length)return this._rts===-It?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?x(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-It?0:this._rts,function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this.totalTime(le(0,this._tDur,e),!0))},Mn.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(xe(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=It)&&Math.abs(this._zTime)!==It))),this):this._ps},Mn.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||w(e,this,t-this._delay),this}return this._start},Mn.endTime=function(t){return this._start+(O(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},Mn.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?x(e.rawTime(t),this):this._tTime:this._tTime},Mn.repeat=function(t){return arguments.length?(this._repeat=t,G(this)):this._repeat},Mn.repeatDelay=function(t){return arguments.length?(this._rDelay=t,G(this)):this._rDelay},Mn.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Mn.seek=function(t,e){return this.totalTime(X(this,t),O(e))},Mn.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,O(e))},Mn.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Mn.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Mn.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Mn.resume=function(){return this.paused(!1)},Mn.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-It:0)),this):this._rts<0},Mn.invalidate=function(){return this._initted=0,this._zTime=-It,this},Mn.isActive=function(t){var e,i=this.parent||this._dp,n=this._start;return!(i&&!(this._ts&&(this._initted||!t)&&i.isActive(t)&&(e=i.rawTime(!0))>=n&&e<this.endTime(!0)-It))},Mn.eventCallback=function(t,e,i){var n=this.vars;return 1<arguments.length?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},Mn.then=function(n){var o=this;return new Promise(function(e){function t(){var t=o.then;o.then=null,u(i)&&(i=i(o))&&(i.then||i===o)&&(o.then=t),e(i),o.then=t}var i=u(n)?n:l;o._initted&&1===o.totalProgress()&&0<=o._ts||!o._tTime&&o._ts<0?t():o._prom=t})},Mn.kill=function(){tt(this)},Ee);function Ee(t,e){var i=t.parent||pt;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,b(this,+t.duration,1),this.data=t.data,zt||ve.wake(),i&&w(i,this,e||0===e?e:i._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}$(Se.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-It,_prom:0,_ps:!1,_rts:1});var Be=function(i){function t(t,e){return void 0===t&&(t={}),(e=i.call(this,t,e)||this).labels={},e.smoothChildTiming=!!t.smoothChildTiming,e.autoRemoveChildren=!!t.autoRemoveChildren,e._sort=O(t.sortChildren),e.parent&&M(e.parent,y(e)),e}n(t,i);var e=t.prototype;return e.to=function(t,e,i,n){return new De(t,a(arguments,0,this),X(this,z(e)?n:i)),this},e.from=function(t,e,i,n){return new De(t,a(arguments,1,this),X(this,z(e)?n:i)),this},e.fromTo=function(t,e,i,n,o){return new De(t,a(arguments,2,this),X(this,z(e)?o:n)),this},e.set=function(t,e,i){return e.duration=0,e.parent=this,S(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new De(t,e,X(this,i),1),this},e.call=function(t,e,i){return w(this,De.delayedCall(0,t,e),X(this,i))},e.staggerTo=function(t,e,i,n,o,s,r){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=s,i.onCompleteParams=r,i.parent=this,new De(t,i,X(this,o)),this},e.staggerFrom=function(t,e,i,n,o,s,r){return i.runBackwards=1,S(i).immediateRender=O(i.immediateRender),this.staggerTo(t,e,i,n,o,s,r)},e.staggerFromTo=function(t,e,i,n,o,s,r,a){return n.startAt=i,S(n).immediateRender=O(n.immediateRender),this.staggerTo(t,e,n,o,s,r,a)},e.render=function(t,e,i){var n,o,s,r,a,h,d,l,u,c,m=this._time,p=this._dirty?this.totalDuration():this._tDur,f=this._dur,g=this!==pt&&p-It<t&&0<=t?p:t<It?0:t,v=this._zTime<0!=t<0&&(this._initted||!f);if(g!==this._tTime||i||v){if(m!==this._time&&f&&(g+=this._time-m,t+=this._time-m),n=g,l=this._start,a=!(d=this._ts),v&&(f||(m=this._zTime),!t&&e||(this._zTime=t)),this._repeat&&(w=this._yoyo,(f<(n=F(g%(x=f+this._rDelay)))||p===g)&&(n=f),(r=~~(g/x))&&r===g/x&&(n=f,r--),w&&1&r&&(n=f-n,c=1),r!==(u=ut(this._tTime,x))&&!this._lock)){var x=w&&1&u,w=x===(w&&1&r);if(r<u&&(x=!x),m=x?0:f,this._lock=1,this.render(m,e,!f)._lock=0,!e&&this.parent&&mt(this,"onRepeat"),this.vars.repeatRefresh&&!c&&(this.invalidate()._lock=1),m!==this._time||a!=!this._ts)return this;if(w&&(this._lock=2,m=x?f+1e-4:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!c&&this.invalidate()),this._lock=0,!this._ts&&!a)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,i){var n;if(e<i)for(n=t._first;n&&n._start<=i;){if(!n._dur&&"isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if(!n._dur&&"isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,F(m),F(n)))&&(g-=n-(n=h._start)),this._tTime=g,this._time=n,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t),m||!n||e||mt(this,"onStart"),m<=n&&0<=t)for(o=this._first;o;){if(s=o._next,(o._act||n>=o._start)&&o._ts&&h!==o){if(o.parent!==this)return this.render(t,e,i);if(o.render(0<o._ts?(n-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(n-o._start)*o._ts,e,i),n!==this._time||!this._ts&&!a){h=0,s&&(g+=this._zTime=-It);break}}o=s}else{o=this._last;for(var b=t<0?t:n;o;){if(s=o._prev,(o._act||b<=o._end)&&o._ts&&h!==o){if(o.parent!==this)return this.render(t,e,i);if(o.render(0<o._ts?(b-o._start)*o._ts:(o._dirty?o.totalDuration():o._tDur)+(b-o._start)*o._ts,e,i),n!==this._time||!this._ts&&!a){h=0,s&&(g+=this._zTime=b?-It:It);break}}o=s}}if(h&&!e&&(this.pause(),h.render(m<=n?0:-It)._zTime=m<=n?1:-1,this._ts))return this._start=l,A(this),this.render(t,e,i);this._onUpdate&&!e&&mt(this,"onUpdate",!0),(g===p&&p>=this.totalDuration()||!g&&this._ts<0)&&(l!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||(!t&&f||!(t&&0<this._ts||!g&&this._ts<0)||N(this,1),e||t<0&&!m||(mt(this,g===p?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},e.add=function(t,e){var i=this;if(z(e)||(e=X(this,e)),!(t instanceof Se)){if(Zt(t))return t.forEach(function(t){return i.add(t,e)}),g(this);if(E(t))return this.addLabel(t,e);if(!u(t))return this;t=De.delayedCall(0,t)}return this!==t?w(this,t,e):this},e.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-$t);for(var o=[],s=this._first;s;)s._start>=n&&(s instanceof De?e&&o.push(s):(i&&o.push(s),t&&o.push.apply(o,s.getChildren(!0,e,i)))),s=s._next;return o},e.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},e.remove=function(t){return E(t)?this.removeLabel(t):u(t)?this.killTweensOf(t):(f(this,t),t===this._recent&&(this._recent=this._last),g(this))},e.totalTime=function(t,e){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=F(ve.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),i.prototype.totalTime.call(this,t,e),this._forcing=0,this):this._tTime},e.addLabel=function(t,e){return this.labels[t]=X(this,e),this},e.removeLabel=function(t){return delete this.labels[t],this},e.addPause=function(t,e,i){i=De.delayedCall(0,e||T,i);return i.data="isPause",this._hasPause=1,w(this,i,X(this,t))},e.removePause=function(t){var e=this._first;for(t=X(this,t);e;)e._start===t&&"isPause"===e.data&&N(e),e=e._next},e.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),o=n.length;o--;)Oe!==n[o]&&n[o].kill(t,e);return this},e.getTweensOf=function(t,e){for(var i,n=[],o=ce(t),s=this._first;s;)s instanceof De?!function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i}(s._targets,o)||e&&!s.isActive("started"===e)||n.push(s):(i=s.getTweensOf(o,e)).length&&n.push.apply(n,i),s=s._next;return n},e.tweenTo=function(t,e){e=e||{};var i=this,n=X(i,t),t=e.startAt,o=e.onStart,s=e.onStartParams,r=De.to(i,$(e,{ease:"none",lazy:!1,time:n,duration:e.duration||Math.abs((n-(t&&"time"in t?t.time:i._time))/i.timeScale())||It,onStart:function(){i.pause();var t=e.duration||Math.abs((n-i._time)/i.timeScale());r._dur!==t&&b(r,t).render(r._time,!0,!0),o&&o.apply(r,s||[])}}));return r},e.tweenFromTo=function(t,e,i){return this.tweenTo(e,$({startAt:{time:X(this,t)}},i))},e.recent=function(){return this._recent},e.nextLabel=function(t){return void 0===t&&(t=this._time),K(this,X(this,t))},e.previousLabel=function(t){return void 0===t&&(t=this._time),K(this,X(this,t),1)},e.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+It)},e.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,o=this._first,s=this.labels;o;)o._start>=i&&(o._start+=t),o=o._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return g(this)},e.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return i.prototype.invalidate.call(this)},e.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._time=this._tTime=0,t&&(this.labels={}),g(this)},e.totalDuration=function(t){var e,i,n,o=0,s=this,r=s._last,a=$t;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(n=s.parent;r;)e=r._prev,r._dirty&&r.totalDuration(),a<(i=r._start)&&s._sort&&r._ts&&!s._lock?(s._lock=1,w(s,r,i-r._delay,1)._lock=0):a=i,i<0&&r._ts&&(o-=i,(!n&&!s._dp||n&&n.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-1e20),a=0),o<(i=A(r))&&r._ts&&(o=i),r=e;b(s,s===pt&&s._time>o?s._time:Math.min($t,o),1),s._dirty=0}return s._tDur},t.updateRoot=function(t){if(pt._ts&&(h(pt,x(t,pt)),bt=ve.frame),ve.frame>=re){re+=Ft.autoSleep||120;var e=pt._first;if((!e||!e._ts)&&Ft.autoSleep&&ve._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||ve.sleep()}}},t}(Se);function Ae(t,e,i,n,o,s){var r,a,h,d;if(oe[t]&&!1!==(r=new oe[t]).init(o,r.rawVars?e[t]:function(t,e,i,n,o){if(u(t)&&(t=Re(t,o,e,i,n)),!j(t)||t.style&&t.nodeType||Zt(t))return E(t)?Re(t,o,e,i,n):t;var s,r={};for(s in t)r[s]=Re(t[s],o,e,i,n);return r}(e[t],n,o,s,i),i,n,s)&&(i._pt=a=new Je(i._pt,o,t,0,1,r.render,r,0,r.priority),i!==yt))for(h=i._ptLookup[i._targets.indexOf(o)],d=r._props.length;d--;)h[r._props[d]]=a;return r}$(Be.prototype,{_lock:0,_hasPause:0,_forcing:0});function Me(t,e,i,n,o,s,r,a,h){u(n)&&(n=n(o||0,t,s));var o=t[e],s="get"!==i?i:u(o)?h?t[e.indexOf("set")||!u(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():o,i=u(o)?h?Ue:Le:Ye;if(E(n)&&(~n.indexOf("random(")&&(n=V(n)),"="===n.charAt(1)&&(n=parseFloat(s)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(L(s)||0))),s!==n)return isNaN(s+n)?(o||e in t||B(e,n),function(t,e,i,n,o,s,r){var a,h,d,l,u,c=new Je(this._pt,t,e,0,1,We,null,o),m=0,p=0;for(c.b=i,c.e=n,i+="",(o=~(n+="").indexOf("random("))&&(n=V(n)),s&&(s(s=[i,n],t,e),i=s[0],n=s[1]),a=i.match(Qt)||[];u=Qt.exec(n);)d=u[0],l=n.substring(m,u.index),h?h=(h+1)%5:"rgba("===l.substr(-5)&&(h=1),d!==a[p++]&&(u=parseFloat(a[p-1])||0,c._pt={_next:c._pt,p:l||1===p?l:",",s:u,c:"="===d.charAt(1)?parseFloat(d.substr(2))*("-"===d.charAt(0)?-1:1):parseFloat(d)-u,m:h&&h<4?Math.round:0},m=Qt.lastIndex);return c.c=m<n.length?n.substring(m,n.length):"",c.fp=r,(Vt.test(n)||o)&&(c.e=0),this._pt=c}.call(this,t,e,s,n,i,a||Ft.stringFilter,h)):(i=new Je(this._pt,t,e,+s||0,n-(s||0),"boolean"==typeof o?qe:He,0,i),h&&(i.fp=h),r&&i.modifier(r,this,t),this._pt=i)}function ke(t,e){var i,n,o,s,r,a,h,d,l,u,c,m,p=t.vars,f=p.ease,g=p.startAt,v=p.immediateRender,x=p.lazy,w=p.onUpdate,b=p.onUpdateParams,y=p.callbackScope,z=p.runBackwards,j=p.yoyoEase,_=p.keyframes,C=p.autoRevert,T=t._dur,S=t._startAt,E=t._targets,B=t.parent,A=B&&"nested"===B.data?B.parent._targets:E,M="auto"===t._overwrite,k=t.timeline;if(!k||_&&f||(f="none"),t._ease=je(f,Dt.ease),t._yEase=j?ze(je(!0===j?f:j,Dt.ease)):0,j&&t._yoyo&&!t._repeat&&(j=t._yEase,t._yEase=t._ease,t._ease=j),!k){if(S&&S.render(-1,!0).kill(),g){if(N(t._startAt=De.set(E,$({data:"isStart",overwrite:!1,parent:B,immediateRender:!0,lazy:O(x),startAt:null,delay:0,onUpdate:w,onUpdateParams:b,callbackScope:y,stagger:0},g))),v)if(0<e)C||(t._startAt=0);else if(T)return}else if(z&&T)if(S)C||(t._startAt=0);else if(e&&(v=!1),N(t._startAt=De.set(E,lt(I(p,ee),{overwrite:!1,data:"isFromStart",lazy:v&&O(x),immediateRender:v,stagger:0,parent:B}))),v){if(!e)return}else ke(t._startAt,It);for(i=I(p,ee),m=(d=E[t._pt=0]?P(E[0]).harness:0)&&p[d.prop],x=T&&O(x)||x&&!T,n=0;n<E.length;n++){if(h=(r=E[n])._gsap||R(E)[n]._gsap,t._ptLookup[n]=u={},ne[h.id]&&D(),c=A===E?n:A.indexOf(r),d&&!1!==(l=new d).init(r,m||i,t,c,A)&&(t._pt=s=new Je(t._pt,r,l.name,0,1,l.render,l,0,l.priority),l._props.forEach(function(t){u[t]=s}),l.priority&&(a=1)),!d||m)for(o in i)oe[o]&&(l=Ae(o,i,t,c,r,A))?l.priority&&(a=1):u[o]=s=Me.call(t,r,o,"get",i[o],c,A,0,p.stringFilter);t._op&&t._op[n]&&t.kill(r,t._op[n]),M&&t._pt&&(Oe=t,pt.killTweensOf(r,u,"started"),Oe=0),t._pt&&x&&(ne[h.id]=1)}a&&Qe(t),t._onInit&&t._onInit(t)}t._from=!k&&!!p.runBackwards,t._onUpdate=w,t._initted=1}var Oe,Re=function(t,e,i,n,o){return u(t)?t.call(e,i,n,o):E(t)&&~t.indexOf("random(")?V(t):t},Pe=he+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Fe=(Pe+",id,stagger,delay,duration,paused").split(","),De=function(b){function o(t,e,i,n){var o;"number"==typeof e&&(i.duration=e,e=i,i=null);var s,r,a,h,d,l,u,c,m=(o=b.call(this,n?e:S(e),i)||this).vars,p=m.duration,f=m.delay,g=m.immediateRender,v=m.stagger,x=m.overwrite,n=m.keyframes,i=m.defaults,m=o.parent,w=(Zt(t)?z(t[0]):"length"in e)?[t]:ce(t);if(o._targets=w.length?R(w):C("GSAP target "+t+" not found. https://greensock.com",!Ft.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=x,n||v||_(p)||_(f)){if(e=o.vars,(s=o.timeline=new Be({data:"nested",defaults:i||{}})).kill(),s.parent=y(o),n)$(s.vars.defaults,{ease:"none"}),n.forEach(function(t){return s.to(w,t,">")});else{if(h=w.length,u=v?H(v):T,j(v))for(d in v)~Pe.indexOf(d)&&((c=c||{})[d]=v[d]);for(r=0;r<h;r++){for(d in a={},e)Fe.indexOf(d)<0&&(a[d]=e[d]);a.stagger=0,c&&lt(a,c),e.yoyoEase&&!e.repeat&&(a.yoyoEase=e.yoyoEase),l=w[r],a.duration=+Re(p,y(o),r,l,w),a.delay=(+Re(f,y(o),r,l,w)||0)-o._delay,!v&&1===h&&a.delay&&(o._delay=f=a.delay,o._start+=f,a.delay=0),s.to(l,a,u(r,l,w))}p=f=0}p||o.duration(p=s.duration())}else o.timeline=0;return!0===x&&(Oe=y(o),pt.killTweensOf(w),Oe=0),m&&M(m,y(o)),(g||!p&&!n&&o._start===m._time&&O(g)&&function t(e){return!e||e._ts&&t(e.parent)}(y(o))&&"nested"!==m.data)&&(o._tTime=-It,o.render(Math.max(0,-f))),o}n(o,b);var t=o.prototype;return t.render=function(t,e,i){var n,o,s,r,a,h,d,l,u,c=this._time,m=this._tDur,p=this._dur,f=m-It<t&&0<=t?m:t<It?0:t;if(p){if(f!==this._tTime||!t||i||this._startAt&&this._zTime<0!=t<0){if(n=f,l=this.timeline,this._repeat){if((p<(n=F(f%(r=p+this._rDelay)))||m===f)&&(n=p),(s=~~(f/r))&&s===f/r&&(n=p,s--),(h=this._yoyo&&1&s)&&(u=this._yEase,n=p-n),a=ut(this._tTime,r),n===c&&!i&&this._initted)return this;s!==a&&(!this.vars.repeatRefresh||h||this._lock||(this._lock=i=1,this.render(r*s,!0).invalidate()._lock=0))}if(!this._initted){if(k(this,n,i,e))return this._tTime=0,this;if(p!==this._dur)return this.render(t,e,i)}for(this._tTime=f,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=d=(u||this._ease)(n/p),this._from&&(this.ratio=d=1-d),c||!n||e||mt(this,"onStart"),o=this._pt;o;)o.r(d,o.d),o=o._next;l&&l.render(t<0?t:!n&&h?-It:l._dur*d,e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,i),mt(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!e&&this.parent&&mt(this,"onRepeat"),f!==this._tDur&&f||this._tTime!==f||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,i),!t&&p||!(t&&0<this._ts||!f&&this._ts<0)||N(this,1),e||t<0&&!c||f<m&&0<this.timeScale()||(mt(this,f===m?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(t,e,i,n){var o,s=t._zTime<0?0:1,r=e<0?0:1,a=t._rDelay,h=0;if(a&&t._repeat&&(h=le(0,t._tDur,e),ut(h,a)!==ut(t._tTime,a)&&(s=1-r,t.vars.repeatRefresh&&t._initted&&t.invalidate())),(t._initted||!k(t,e,n,i))&&(r!==s||n||t._zTime===It||!e&&t._zTime)){for(t._zTime=e||(i?It:0),t.ratio=r,t._from&&(r=1-r),t._time=0,t._tTime=h,i||mt(t,"onStart"),o=t._pt;o;)o.r(r,o.d),o=o._next;!r&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,n),t._onUpdate&&(i||mt(t,"onUpdate")),h&&t._repeat&&!i&&t.parent&&mt(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===r&&(t.ratio&&N(t,1),i||(mt(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}}(this,t,e,i);return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),b.prototype.invalidate.call(this)},t.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e)&&(this._lazy=0,this.parent))return tt(this);if(this.timeline)return this.timeline.killTweensOf(t,e,Oe&&!0!==Oe.vars.overwrite),this;var i,n,o,s,r,a,h,d=this._targets,l=t?ce(t):d,u=this._ptLookup,t=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(d,l))return tt(this);for(i=this._op=this._op||[],"all"!==e&&(E(e)&&(r={},c(e,function(t){return r[t]=1}),e=r),e=function(t,e){var i,n,o,s,t=t[0]?P(t[0]).harness:0,r=t&&t.aliases;if(!r)return e;for(n in i=lt({},e),r)if(n in i)for(o=(s=r[n].split(",")).length;o--;)i[s[o]]=i[n];return i}(d,e)),h=d.length;h--;)if(~l.indexOf(d[h]))for(r in n=u[h],"all"===e?(i[h]=e,s=n,o={}):(o=i[h]=i[h]||{},s=e),s)(a=n&&n[r])&&("kill"in a.d&&!0!==a.d.kill(r)||f(this,a,"_pt"),delete n[r]),"all"!==o&&(o[r]=1);return this._initted&&!this._pt&&t&&tt(this),this},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e){return new o(t,a(arguments,1))},o.delayedCall=function(t,e,i,n){return new o(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})},o.fromTo=function(t,e,i){return new o(t,a(arguments,2))},o.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new o(t,e)},o.killTweensOf=function(t,e,i){return pt.killTweensOf(t,e,i)},o}(Se);function $e(t,e,i){return t.setAttribute(e,i)}function Ie(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)}$(De.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),c("staggerTo,staggerFrom,staggerFromTo",function(i){De[i]=function(){var t=new Be,e=ue.call(arguments,0);return e.splice("staggerFromTo"===i?5:4,0,0),t[i].apply(t,e)}});function Ne(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next}function Ge(t,e,i,n){for(var o,s=this._pt;s;)o=s._next,s.p===n&&s.modifier(t,e,i),s=o}function Xe(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?f(this,n,"_pt"):n.dep||(e=1),n=i;return!e}var Ye=function(t,e,i){return t[e]=i},Le=function(t,e,i){return t[e](i)},Ue=function(t,e,i,n){return t[e](n.fp,i)},Ze=function(t,e){return u(t[e])?Le:o(t[e])&&t.setAttribute?$e:Ye},He=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},qe=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},We=function(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)},Qe=function(t){for(var e,i,n,o,s=t._pt;s;){for(e=s._next,i=n;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:o)?s._prev._next=s:n=s,(s._next=i)?i._prev=s:o=s,s=e}t._pt=n},Je=(Ve.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=Ie,this.m=t,this.mt=i,this.tween=e},Ve);function Ve(t,e,i,n,o,s,r,a,h){this.t=e,this.s=n,this.c=o,this.p=i,this.r=s||He,this.d=r||this,this.set=a||Ye,this.pr=h||0,(this._next=t)&&(t._prev=this)}c(he+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(t){return ee[t]=1}),te.TweenMax=te.TweenLite=De,te.TimelineLite=te.TimelineMax=Be,pt=new Be({sortChildren:!1,defaults:Dt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ft.stringFilter=st;var Ke={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(t){var e=(t=!t.name&&t.default||t).name,i=u(t),n=e&&!i&&t.init?function(){this._props=[]}:t,o={init:T,render:Ne,add:Me,kill:Xe,modifier:Ge,rawVars:0},i={targetTest:0,get:0,getSetter:Ze,aliases:{},register:0};if(xe(),t!==n){if(oe[e])return;$(n,$(I(t,o),i)),lt(n.prototype,lt(o,I(t,i))),oe[n.prop=e]=n,t.targetTest&&(ae.push(n),ee[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}s(e,n),t.register&&t.register(ei,n,Je)})},timeline:function(t){return new Be(t)},getTweensOf:function(t,e){return pt.getTweensOf(t,e)},getProperty:function(n,t,e,i){E(n)&&(n=ce(n)[0]);var o=P(n||{}).get,s=e?l:d;return"native"===e&&(e=""),n&&(t?s((oe[t]&&oe[t].get||o)(n,t,e,i)):function(t,e,i){return s((oe[t]&&oe[t].get||o)(n,t,e,i))})},quickSetter:function(i,e,n){if(1<(i=ce(i)).length){var o=i.map(function(t){return ei.quickSetter(t,e,n)}),s=o.length;return function(t){for(var e=s;e--;)o[e](t)}}i=i[0]||{};var r=oe[e],a=P(i),h=r?function(t){var e=new r;yt._pt=0,e.init(i,n?t+n:t,yt,0,[i]),e.render(1,e),yt._pt&&Ne(1,yt)}:a.set(i,e);return r?h:function(t){return h(i,e,n?t+n:t,a,1)}},isTweening:function(t){return 0<pt.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=je(t.ease,Dt.ease)),p(Dt,t||{})},config:function(t){return p(Ft,t||{})},registerEffect:function(t){var n=t.name,o=t.effect,e=t.plugins,s=t.defaults,t=t.extendTimeline;(e||"").split(",").forEach(function(t){return t&&!oe[t]&&!te[t]&&C(n+" effect requires "+t+" plugin.")}),se[n]=function(t,e,i){return o(ce(t),$(e||{},s),i)},t&&(Be.prototype[n]=function(t,e,i){return this.add(se[n](t,j(e)?e:(i=e)&&{},this),i)})},registerEase:function(t,e){we[t]=je(e)},parseEase:function(t,e){return arguments.length?je(t,e):we},getById:function(t){return pt.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,n,o=new Be(t);for(o.smoothChildTiming=O(t.smoothChildTiming),pt.remove(o),o._dp=0,o._time=o._tTime=pt._time,i=pt._first;i;)n=i._next,!e&&!i._dur&&i instanceof De&&i.vars.onComplete===i._targets[0]||w(o,i,i._start-i._delay),i=n;return w(pt,o,0),o},utils:{wrap:function t(e,i,n){var o=i-e;return Zt(e)?J(e,t(0,e.length),i):Y(n,function(t){return(o+(t-e)%o)%o+e})},wrapYoyo:function t(e,i,n){var o=i-e,s=2*o;return Zt(e)?J(e,t(0,e.length-1),i):Y(n,function(t){return e+(o<(t=(s+(t-e)%s)%s)?s-t:t)})},distribute:H,random:Q,snap:W,normalize:function(t,e,i){return ct(t,e,0,1,i)},getUnit:L,clamp:function(e,i,t){return Y(t,function(t){return le(e,i,t)})},splitColor:it,toArray:ce,mapRange:ct,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(e,i){return function(t){return e(parseFloat(t))+(i||L(t))}},interpolate:function t(e,i,n,o){var s=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!s){var r,a,h,d,l,u=E(e),c={};if(!0===n&&(o=1)&&(n=null),u)e={p:e},i={p:i};else if(Zt(e)&&!Zt(i)){for(h=[],d=e.length,l=d-2,a=1;a<d;a++)h.push(t(e[a-1],e[a]));d--,s=function(t){t*=d;var e=Math.min(l,~~t);return h[e](t-e)},n=i}else o||(e=lt(Zt(e)?[]:{},e));if(!h){for(r in i)Me.call(c,e,r,"get",i[r]);s=function(t){return Ne(t,c),u?e.p:e}}}return Y(n,s)},shuffle:Z},install:i,effects:se,ticker:ve,updateRoot:Be.updateRoot,plugins:oe,globalTimeline:pt,core:{PropTween:Je,globals:s,Tween:De,Timeline:Be,Animation:Se,getCache:P,_removeLinkedListItem:f}};function ti(t,o){return{name:t,rawVars:1,init:function(t,n,e){e._onInit=function(t){var e,i;if(E(n)&&(e={},c(n,function(t){return e[t]=1}),n=e),o){for(i in e={},n)e[i]=o(n[i]);n=e}!function(t,e){var i,n,o,s=t._targets;for(i in e)for(n=s.length;n--;)(o=(o=t._ptLookup[n][i])&&o.d)&&(o._pt&&(o=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i}(o,i)),o&&o.modifier&&o.modifier(e[i],t,s[n],i))}(t,n)}}}}c("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Ke[t]=De[t]}),ve.add(Be.updateRoot),yt=Ke.to({},{duration:0});var ei=Ke.registerPlugin({name:"attr",init:function(t,e,i,n,o){for(var s in e)this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],n,o,0,0,s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},ti("roundProps",q),ti("modifiers"),ti("snap",W))||Ke;function ii(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function ni(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function oi(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function si(t,e){t=e.s+e.c*t;e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)}function ri(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function ai(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function hi(t,e,i){return t.style[e]=i}function di(t,e,i){return t.style.setProperty(e,i)}function li(t,e,i){return t._gsap[e]=i}function ui(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i}function ci(t,e,i,n,o){t=t._gsap;t.scaleX=t.scaleY=i,t.renderTransform(o,t)}function mi(t,e,i,n,o){t=t._gsap;t[e]=i,t.renderTransform(o,t)}function pi(t,e){e=ki.createElementNS?ki.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ki.createElement(t);return e.style?e:ki.createElement(t)}function fi(t,e,i){var n=getComputedStyle(t);return n[e]||n.getPropertyValue(e.replace(hn,"-$1").toLowerCase())||n.getPropertyValue(e)||!i&&fi(t,fn(e)||e,1)||""}function gi(){"undefined"==typeof window||(Oi=(ki=window.document).documentElement,Pi=pi("div")||{style:{}},Fi=pi("div"),cn=fn(cn),mn=fn(mn),Pi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$i=!!fn("perspective"),Ri=1)}function vi(t){var e,i=pi("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(Oi.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=vi}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return n&&(o?n.insertBefore(this,o):n.appendChild(this)),Oi.removeChild(i),this.style.cssText=s,e}function xi(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])}function wi(e){var i;try{i=e.getBBox()}catch(t){i=vi.call(e,!0)}return i&&(i.width||i.height)||e.getBBox===vi||(i=vi.call(e,!0)),!i||i.width||i.x||i.y?i:{x:+xi(e,["x","cx","x1"])||0,y:+xi(e,["y","cy","y1"])||0,width:0,height:0}}function bi(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!wi(t))}function yi(t,e){e&&(t=t.style,e in on&&(e=cn),t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(hn,"-$1").toLowerCase())):t.removeAttribute(e))}function zi(t,e,i,n,o,s){s=new Je(t._pt,e,i,0,1,s?ai:ri);return(t._pt=s).b=n,s.e=o,t._props.push(i),s}function ji(t,e,i,n){var o=parseFloat(i)||0,s=(i+"").trim().substr((o+"").length)||"px",r=Pi.style,a=dn.test(e),h="svg"===t.tagName.toLowerCase(),d=(h?"client":"offset")+(a?"Width":"Height"),l="px"===n,u="%"===n;return n===s||!o||gn[n]||gn[s]?o:("px"===s||l||(o=ji(t,e,i,"px")),i=t.getCTM&&bi(t),u&&(on[e]||~e.indexOf("adius"))?F(o/(i?t.getBBox()[a?"width":"height"]:t[d])*100):(r[a?"width":"height"]=100+(l?s:n),h=~e.indexOf("adius")||"em"===n&&t.appendChild&&!h?t:t.parentNode,i&&(h=(t.ownerSVGElement||{}).parentNode),h&&h!==ki&&h.appendChild||(h=ki.body),(i=h._gsap)&&u&&i.width&&a&&i.time===ve.time?F(o/i.width*100):(!u&&"%"!==s||(r.position=fi(t,"position")),h===t&&(r.position="static"),h.appendChild(Pi),t=Pi[d],h.removeChild(Pi),r.position="absolute",a&&u&&((i=P(h)).time=ve.time,i.width=h[d]),F(l?t*o/100:t&&o?100/t*o:0))))}function _i(t,e,i,n){var o;return Ri||gi(),e in un&&"transform"!==e&&~(e=un[e]).indexOf(",")&&(e=e.split(",")[0]),on[e]&&"transform"!==e?(o=yn(t,n),o="transformOrigin"!==e?o[e]:zn(fi(t,mn))+" "+o.zOrigin+"px"):(o=t.style[e])&&"auto"!==o&&!n&&!~(o+"").indexOf("calc(")||(o=xn[e]&&xn[e](t,e,i)||fi(t,e)||r(t,e)||("opacity"===e?1:0)),i&&!~(o+"").indexOf(" ")?ji(t,e,o,i)+i:o}function Ci(t,e,i,n){var o;i&&"none"!==i||(s=(o=fn(e,t,1))&&fi(t,o,1))&&s!==i&&(e=o,i=s);var s,r,a,h,d,l,u,c,m,p,f=new Je(this._pt,t.style,e,0,1,We),g=0,v=0;if(f.b=i,f.e=n,i+="","auto"==(n+="")&&(t.style[e]=n,n=fi(t,e)||n,t.style[e]=i),st(s=[i,n]),n=s[1],r=(i=s[0]).match(Wt)||[],(n.match(Wt)||[]).length){for(;l=Wt.exec(n);)c=l[0],u=n.substring(g,l.index),h?h=(h+1)%5:"rgba("!==u.substr(-5)&&"hsla("!==u.substr(-5)||(h=1),c!==(d=r[v++]||"")&&(a=parseFloat(d)||0,m=d.substr((a+"").length),(p="="===c.charAt(1)?+(c.charAt(0)+"1"):0)&&(c=c.substr(2)),l=parseFloat(c),c=c.substr((l+"").length),g=Wt.lastIndex-c.length,c||(c=c||Ft.units[e]||m,g===n.length&&(n+=c,f.e+=c)),m!==c&&(a=ji(t,e,d,c)||0),f._pt={_next:f._pt,p:u||1===v?u:",",s:a,c:p?p*l:l-a,m:h&&h<4?Math.round:0});f.c=g<n.length?n.substring(g,n.length):""}else f.r="display"===e&&"none"===n?ai:ri;return Vt.test(n)&&(f.e=0),this._pt=f}function Ti(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,o,s=e.t,r=s.style,a=e.u,e=s._gsap;if("all"===a||!0===a)r.cssText="",n=1;else for(o=(a=a.split(",")).length;-1<--o;)i=a[o],on[i]&&(n=1,i="transformOrigin"===i?mn:cn),yi(s,i);n&&(yi(s,cn),e&&(e.svg&&s.removeAttribute("transform"),yn(s,1),e.uncache=1))}}function Si(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Ei(t){t=fi(t,cn);return Si(t)?wn:t.substr(7).match(qt).map(F)}function Bi(t,e){var i,n,o,s=t._gsap||P(t),r=t.style,a=Ei(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(a=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?wn:a:(a!==wn||t.offsetParent||t===Oi||s.svg||(n=r.display,r.display="block",(s=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,Oi.appendChild(t)),a=Ei(t),n?r.display=n:yi(t,"display"),o&&(i?s.insertBefore(t,i):s?s.appendChild(t):Oi.removeChild(t))),e&&6<a.length?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)}function Ai(t,e,i,n,o,s){var r,a,h=t._gsap,d=o||Bi(t,!0),l=h.xOrigin||0,u=h.yOrigin||0,c=h.xOffset||0,m=h.yOffset||0,p=d[0],f=d[1],g=d[2],v=d[3],x=d[4],w=d[5],b=e.split(" "),y=parseFloat(b[0])||0,o=parseFloat(b[1])||0;i?d!==wn&&(r=p*v-f*g)&&(a=y*(-f/r)+o*(p/r)-(p*w-f*x)/r,y=y*(v/r)+o*(-g/r)+(g*w-v*x)/r,o=a):(y=(a=wi(t)).x+(~b[0].indexOf("%")?y/100*a.width:y),o=a.y+(~(b[1]||b[0]).indexOf("%")?o/100*a.height:o)),n||!1!==n&&h.smooth?(x=y-l,w=o-u,h.xOffset=c+(x*p+w*g)-x,h.yOffset=m+(x*f+w*v)-w):h.xOffset=h.yOffset=0,h.xOrigin=y,h.yOrigin=o,h.smooth=!!n,h.origin=e,h.originIsAbsolute=!!i,t.style[mn]="0px 0px",s&&(zi(s,h,"xOrigin",l,y),zi(s,h,"yOrigin",u,o),zi(s,h,"xOffset",c,h.xOffset),zi(s,h,"yOffset",m,h.yOffset)),t.setAttribute("data-svg-origin",y+" "+o)}function Mi(t,e,i){var n=L(e);return F(parseFloat(e)+parseFloat(ji(t,"x",i+"px",n)))+n}De.version=Be.version=ei.version="3.2.6",wt=1,e()&&xe();var ki,Oi,Ri,Pi,Fi,Di,$i,Ii=we.Power0,Ni=we.Power1,Gi=we.Power2,Xi=we.Power3,Yi=we.Power4,Li=we.Linear,Ui=we.Quad,Zi=we.Cubic,Hi=we.Quart,qi=we.Quint,Wi=we.Strong,Qi=we.Elastic,Ji=we.Back,Vi=we.SteppedEase,Ki=we.Bounce,tn=we.Sine,en=we.Expo,nn=we.Circ,on={},sn=180/Math.PI,rn=Math.PI/180,an=Math.atan2,hn=/([A-Z])/g,dn=/(?:left|right|width|margin|padding|x)/i,ln=/[\s,\(]\S/,un={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},cn="transform",mn=cn+"Origin",pn="O,Moz,ms,Ms,Webkit".split(","),fn=function(t,e,i){var n=(e||Pi).style,o=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(pn[o]+t in n););return o<0?null:(3===o?"ms":0<=o?pn[o]:"")+t},gn={deg:1,rad:1,turn:1},vn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},xn={clearProps:function(t,e,i,n,o){if("isFromStart"!==o.data){e=t._pt=new Je(t._pt,e,i,0,0,Ti);return e.u=n,e.pr=-10,e.tween=o,t._props.push(i),1}}},wn=[1,0,0,1,0,0],bn={},yn=function(t,e){var i=t._gsap||new Te(t);if("x"in i&&!e&&!i.uncache)return i;var n,o,s,r,a,h,d,l,u,c,m,p,f,g,v,x,w,b,y,z,j,_,C,T,S,E,B=t.style,A=i.scaleX<0,M="deg",k=fi(t,mn)||"0",O=n=o=r=a=h=d=l=0,R=s=1;return i.svg=!(!t.getCTM||!bi(t)),u=Bi(t,i.svg),i.svg&&(y=!i.uncache&&t.getAttribute("data-svg-origin"),Ai(t,y||k,!!y||i.originIsAbsolute,!1!==i.smooth,u)),S=i.xOrigin||0,c=i.yOrigin||0,u!==wn&&(f=u[0],g=u[1],v=u[2],x=u[3],O=w=u[4],n=b=u[5],6===u.length?(R=Math.sqrt(f*f+g*g),s=Math.sqrt(x*x+v*v),r=f||g?an(g,f)*sn:0,(d=v||x?an(v,x)*sn+r:0)&&(s*=Math.cos(d*rn)),i.svg&&(O-=S-(S*f+c*v),n-=c-(S*g+c*x))):(E=u[6],T=u[7],_=u[8],C=u[9],e=u[10],S=u[11],O=u[12],n=u[13],o=u[14],a=(c=an(E,e))*sn,c&&(y=w*(m=Math.cos(-c))+_*(p=Math.sin(-c)),z=b*m+C*p,j=E*m+e*p,_=w*-p+_*m,C=b*-p+C*m,e=E*-p+e*m,S=T*-p+S*m,w=y,b=z,E=j),h=(c=an(-v,e))*sn,c&&(m=Math.cos(-c),S=x*(p=Math.sin(-c))+S*m,f=y=f*m-_*p,g=z=g*m-C*p,v=j=v*m-e*p),r=(c=an(g,f))*sn,c&&(y=f*(m=Math.cos(c))+g*(p=Math.sin(c)),z=w*m+b*p,g=g*m-f*p,b=b*m-w*p,f=y,w=z),a&&359.9<Math.abs(a)+Math.abs(r)&&(a=r=0,h=180-h),R=F(Math.sqrt(f*f+g*g+v*v)),s=F(Math.sqrt(b*b+E*E)),c=an(w,b),d=2e-4<Math.abs(c)?c*sn:0,l=S?1/(S<0?-S:S):0),i.svg&&(u=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Si(fi(t,cn)),u&&t.setAttribute("transform",u))),90<Math.abs(d)&&Math.abs(d)<270&&(A?(R*=-1,d+=r<=0?180:-180,r+=r<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),i.x=((i.xPercent=O&&Math.round(t.offsetWidth/2)===Math.round(-O)?-50:0)?0:O)+"px",i.y=((i.yPercent=n&&Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)?0:n)+"px",i.z=o+"px",i.scaleX=F(R),i.scaleY=F(s),i.rotation=F(r)+M,i.rotationX=F(a)+M,i.rotationY=F(h)+M,i.skewX=d+M,i.skewY=0+M,i.transformPerspective=l+"px",(i.zOrigin=parseFloat(k.split(" ")[2])||0)&&(B[mn]=zn(k)),i.xOffset=i.yOffset=0,i.force3D=Ft.force3D,i.renderTransform=i.svg?En:$i?Sn:jn,i.uncache=0,i},zn=function(t){return(t=t.split(" "))[0]+" "+t[1]},jn=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Sn(t,e)},_n="0deg",Cn="0px",Tn=") ",Sn=function(t,e){var i=e||this,n=i.xPercent,o=i.yPercent,s=i.x,r=i.y,a=i.z,h=i.rotation,d=i.rotationY,l=i.rotationX,u=i.skewX,c=i.skewY,m=i.scaleX,p=i.scaleY,f=i.transformPerspective,g=i.force3D,v=i.target,x=i.zOrigin,w="",e="auto"===g&&t&&1!==t||!0===g;!x||l===_n&&d===_n||(i=parseFloat(d)*rn,t=Math.sin(i),g=Math.cos(i),i=parseFloat(l)*rn,s=Mi(v,s,t*(t=Math.cos(i))*-x),r=Mi(v,r,-Math.sin(i)*-x),a=Mi(v,a,g*t*-x+x)),f!==Cn&&(w+="perspective("+f+Tn),(n||o)&&(w+="translate("+n+"%, "+o+"%) "),!e&&s===Cn&&r===Cn&&a===Cn||(w+=a!==Cn||e?"translate3d("+s+", "+r+", "+a+") ":"translate("+s+", "+r+Tn),h!==_n&&(w+="rotate("+h+Tn),d!==_n&&(w+="rotateY("+d+Tn),l!==_n&&(w+="rotateX("+l+Tn),u===_n&&c===_n||(w+="skew("+u+", "+c+Tn),1===m&&1===p||(w+="scale("+m+", "+p+Tn),v.style[cn]=w||"translate(0, 0)"},En=function(t,e){var i,n,o,s,r,a=e||this,h=a.xPercent,d=a.yPercent,l=a.x,u=a.y,c=a.rotation,m=a.skewX,p=a.skewY,f=a.scaleX,g=a.scaleY,v=a.target,x=a.xOrigin,w=a.yOrigin,b=a.xOffset,y=a.yOffset,z=a.forceCSS,e=parseFloat(l),a=parseFloat(u),c=parseFloat(c),m=parseFloat(m);(p=parseFloat(p))&&(m+=p=parseFloat(p),c+=p),c||m?(c*=rn,m*=rn,i=Math.cos(c)*f,n=Math.sin(c)*f,o=Math.sin(c-m)*-g,s=Math.cos(c-m)*g,m&&(p*=rn,r=Math.tan(m-p),o*=r=Math.sqrt(1+r*r),s*=r,p&&(r=Math.tan(p),i*=r=Math.sqrt(1+r*r),n*=r)),i=F(i),n=F(n),o=F(o),s=F(s)):(i=f,s=g,n=o=0),(e&&!~(l+"").indexOf("px")||a&&!~(u+"").indexOf("px"))&&(e=ji(v,"x",l,"px"),a=ji(v,"y",u,"px")),(x||w||b||y)&&(e=F(e+x-(x*i+w*o)+b),a=F(a+w-(x*n+w*s)+y)),(h||d)&&(e=F(e+h/100*(r=v.getBBox()).width),a=F(a+d/100*r.height)),r="matrix("+i+","+n+","+o+","+s+","+e+","+a+")",v.setAttribute("transform",r),z&&(v.style[cn]=r)};c("padding,margin,Width,Radius",function(e,i){var t="Right",n="Bottom",o="Left",a=(i<3?["Top",t,n,o]:["Top"+o,"Top"+t,n+t,n+o]).map(function(t){return i<2?e+t:"border"+t+e});xn[1<i?"border"+e:e]=function(e,t,i,n,o){var s,r;if(arguments.length<4)return s=a.map(function(t){return _i(e,t,i)}),5===(r=s.join(" ")).split(s[0]).length?s[0]:r;s=(n+"").split(" "),r={},a.forEach(function(t,e){return r[t]=s[e]=s[e]||s[(e-1)/2|0]}),e.init(t,r,o)}});var Bn,An={name:"css",register:gi,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,o){var s,r,a,h,d,l,u,c,m,p,f,g,v,x,w,b,y,z,j,_,C,T=this._props,S=t.style;for(d in Ri||gi(),e)if("autoRound"!==d&&(r=e[d],!oe[d]||!Ae(d,e,i,n,t,o)))if(y=typeof r,b=xn[d],"function"===y&&(y=typeof(r=r.call(i,n,t,o))),"string"===y&&~r.indexOf("random(")&&(r=V(r)),b)b(this,t,d,r,i)&&(g=1);else if("--"===d.substr(0,2))this.add(S,"setProperty",getComputedStyle(t).getPropertyValue(d)+"",r+"",n,o,0,0,d);else{if(s=_i(t,d),h=parseFloat(s),(u="string"===y&&"="===r.charAt(1)?+(r.charAt(0)+"1"):0)&&(r=r.substr(2)),a=parseFloat(r),d in un&&("autoAlpha"===d&&(1===h&&"hidden"===_i(t,"visibility")&&a&&(h=0),zi(this,S,"visibility",h?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&~(d=un[d]).indexOf(",")&&(d=d.split(",")[0])),c=d in on)if(m||((p=t._gsap).renderTransform||yn(t),f=!1!==e.smoothOrigin&&p.smooth,(m=this._pt=new Je(this._pt,S,cn,0,1,p.renderTransform,p,0,-1)).dep=1),"scale"===d)this._pt=new Je(this._pt,p,"scaleY",p.scaleY,u?u*a:a-p.scaleY),T.push("scaleY",d),d+="X";else{if("transformOrigin"===d){C=_=j=void 0,j=(z=r).split(" "),_=j[0],C=j[1]||"50%","top"!==_&&"bottom"!==_&&"left"!==C&&"right"!==C||(z=_,_=C,C=z),j[0]=vn[_]||_,j[1]=vn[C]||C,r=j.join(" "),p.svg?Ai(t,r,0,f,0,this):((l=parseFloat(r.split(" ")[2])||0)!==p.zOrigin&&zi(this,p,"zOrigin",p.zOrigin,l),zi(this,S,d,zn(s),zn(r)));continue}if("svgOrigin"===d){Ai(t,r,1,f,0,this);continue}if(d in bn){v=this,x=p,w=d,b=h,y=u,C=C=_=z=void 0,z=360,_=E(j=r),C=parseFloat(j)*(_&&~j.indexOf("rad")?sn:1),C=b+(y=y?C*y:C-b)+"deg",_&&("short"===(j=j.split("_")[1])&&(y%=z)!=y%180&&(y+=y<0?z:-z),"cw"===j&&y<0?y=(y+36e9)%z-~~(y/z)*z:"ccw"===j&&0<y&&(y=(y-36e9)%z-~~(y/z)*z)),v._pt=y=new Je(v._pt,x,w,b,y,ni),y.e=C,y.u="deg",v._props.push(w);continue}if("smoothOrigin"===d){zi(this,p,"smooth",p.smooth,r);continue}if("force3D"===d){p[d]=r;continue}if("transform"===d){!function(t,e,i){var n,o,s,r,a,h=Fi.style,d=i._gsap;for(o in h.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",h[cn]=e,ki.body.appendChild(Fi),n=yn(Fi,1),on)(s=d[o])!==(r=n[o])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(o)<0&&(s=L(s)!==(a=L(r))?ji(i,o,s,a):parseFloat(s),r=parseFloat(r),t._pt=new Je(t._pt,d,o,s,r-s,ii),t._pt.u=a||0,t._props.push(o));ki.body.removeChild(Fi)}(this,r,t);continue}}else d in S||(d=fn(d)||d);if(c||(a||0===a)&&(h||0===h)&&!ln.test(r)&&d in S)(w=(s+"").substr((h+"").length))!==(l=(r+"").substr(((a=a||0)+"").length)||(d in Ft.units?Ft.units[d]:w))&&(h=ji(t,d,s,l)),this._pt=new Je(this._pt,c?p:S,d,h,u?u*a:a-h,"px"!==l||!1===e.autoRound||c?ii:si),this._pt.u=l||0,w!==l&&(this._pt.b=s,this._pt.r=oi);else if(d in S)Ci.call(this,t,d,s,r);else{if(!(d in t)){B(d,r);continue}this.add(t,d,t[d],r,n,o)}T.push(d)}g&&Qe(this)},get:_i,aliases:un,getSetter:function(t,e,i){var n=un[e];return n&&n.indexOf(",")<0&&(e=n),e in on&&e!==mn&&(t._gsap.x||_i(t,"x"))?i&&Di===i?"scale"===e?ui:li:(Di=i||{})&&("scale"===e?ci:mi):t.style&&!o(t.style[e])?hi:~e.indexOf("-")?di:Ze(t,e)},core:{_removeProperty:yi,_getMatrix:Bi}};ei.utils.checkPrefix=fn,Bn=c("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(kn="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){on[t]=1}),c(kn,function(t){Ft.units[t]="deg",bn[t]=1}),un[Bn[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+kn,c("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){t=t.split(":");un[t[1]]=Bn[t[0]]}),c("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Ft.units[t]="px"}),ei.registerPlugin(An);var Mn=ei.registerPlugin(An)||ei,kn=Mn.core.Tween;t.Back=Ji,t.Bounce=Ki,t.CSSPlugin=An,t.Circ=nn,t.Cubic=Zi,t.Elastic=Qi,t.Expo=en,t.Linear=Li,t.Power0=Ii,t.Power1=Ni,t.Power2=Gi,t.Power3=Xi,t.Power4=Yi,t.Quad=Ui,t.Quart=Hi,t.Quint=qi,t.Sine=tn,t.SteppedEase=Vi,t.Strong=Wi,t.TimelineLite=Be,t.TimelineMax=Be,t.TweenLite=De,t.TweenMax=kn,t.default=Mn,t.gsap=Mn,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default});var initSetup=function(){gsap.from("#page > header, #page > main, #page > div, #page > footer",{opacity:0,duration:.6,stagger:.4}),gsap.from(".header #menu-main li",{x:-10,y:-10,opacity:0,duration:.4,delay:1.2,stagger:.1}),gsap.from(".header--top>*",{x:-10,y:-10,opacity:0,duration:.5,stagger:.1,delay:1}),jQuery("a").on("click",function(t){var e=jQuery(this),i=e.attr("href");e.attr("target")&&"_blank"==e.attr("target")||("#"==i?t.preventDefault():1<i.length&&"#"!==i[0]&&!/\.(jpg|png|gif)$/.test(i)&&i.match("^http")&&(t.preventDefault(),change_location(i)))}).on("mousedown",function(t){t.preventDefault()})},change_location=function(t){gsap.to(".header--top>*",{css:{x:-10,y:-10,opacity:0},duration:.3,stagger:.1}),gsap.to(".header #menu-main li",{css:{x:-10,y:-10,opacity:0},duration:.3,delay:.5,stagger:.1}),gsap.to("#page > header, #page > main, #page > div, #page > footer",{css:{opacity:0},duration:.4,delay:1,stagger:.1}),gsap.to("body",{css:{opacity:0},duration:.5,delay:1.5}),setTimeout(function(){jQuery("body").addClass("is-unloaded"),window.location=t},1200,t)};initSetup();