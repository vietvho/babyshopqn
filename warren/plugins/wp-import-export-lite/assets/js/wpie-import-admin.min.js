"use strict";function wpie_set_local_file_uploader(){var e=new plupload.Uploader({runtimes:"html5,silverlight,flash,html4",url:wpiePluginSettings.wpieAjaxURL,drop_element:"wpie_upload_drag_drop",chunk_size:"1024kb",file_data_name:"local_file",multiple_queues:!1,multi_selection:!1,max_file_size:"100Gb",browse_button:"plupload_browse_button",container:"wpie_upload_container",filters:{prevent_duplicates:!1},multipart_params:{action:"wpie_import_local_upload_file",wpie_import_id:wpiePluginSettings.wpieImportId},flash_swf_url:"plupload.flash.swf",silverlight_xap_url:"plupload.silverlight.xap"});e.bind("BeforeUpload",function(i,t){e.settings.multipart_params.wpie_import_id=wpiePluginSettings.wpieImportId}),e.bind("Init",function(e){var i=jQuery("#wpie_upload_container");e.features.dragdrop?(i.addClass("wpie_drag_drop"),jQuery("#wpie_upload_container").bind("dragover.wp_uploader",function(){i.addClass("wpie_drag_over")}).bind("dragleave.wp_uploader, drop.wp_uploader",function(){i.removeClass("wpie_drag_over")})):(i.removeClass("drag_drop"),jQuery(".wpie_upload_drag_drop").unbind(".wp_uploader"))}),e.init(),e.bind("FilesAdded",function(e,i){jQuery(".wpie_upload_container_wrapper .wpie_file_list_wrapper").html(""),jQuery(".wpie_upload_drag_drop_data").attr("wpie_status","processing"),jQuery(".wpie_local_uploaded_filename_label").text(wpiePluginSettings.wpieLocalizeText.wpieUploadingText);var t="",p=!0;if(jQuery.each(i,function(e,i){var a=i.name.split(".").pop().toLowerCase();if(-1==jQuery.inArray(a,["txt","zip","json","xml","xls","xlsx","csv","ods","gz","tar"]))return p=!1,!1;t+=i.name+" ( "+plupload.formatSize(i.size)+" ) "}),!p)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.invalidFileExtensionText),!1;jQuery(".wpie_local_uploaded_filename").text(t),e.start()}),e.bind("UploadProgress",function(e,i){jQuery(".wpie_uploaded_file_list_wrapper").show(),jQuery(".wpie_import_upload_process_per").css("width",i.percent+"%").html(i.percent+"%")}),e.bind("FileUploaded",function(e,i,t){if(jQuery(".wpie_import_ref_id").val(""),null===t||void 0===t.response||null===t.response)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.invalidFileExtensionText),!1;var p=jQuery.parseJSON(t.response);if("error"==p.status)return wpieSetErrorMsg(p.message),!1;wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]=[],wpieSetFileData(p)}),e.bind("Error",function(e,i){if(jQuery(".wpie_uploaded_file_list").hide(),void 0!==i.code&&-601==i.code)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.invalidFileExtensionText),!1;wpieHandleAjaxError(i,"")})}function wpieProcessingReimport(e,i,t){wpieSetProcessLoader({processingReimport:wpiePluginSettings.wpieLocalizeText.processingReimport}),jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_process_reimport&import_id="+e+"&nonce="+i+"&ref_id="+t,dataType:"json",async:!0,success:function(e){if(wpieUpdateProcessLoader("processingReimport"),"error"==e.status)return wpieSetErrorMsg(e.message),!1;wpieSetFileData(e)},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieSetFileData(e){if(0==wpiePluginSettings.wpieImportId&&void 0!==e.wpie_import_id&&null!==e.wpie_import_id&&(wpiePluginSettings.wpieImportId=e.wpie_import_id),void 0!==e.file_list&&null!==e.file_list){if(0==e.file_count)return jQuery(".wpie_upload_section_wrapper:visible .wpie_file_list_wrapper").html(""),wpieSetErrorMsg(e.message),!1;wpieHandleFileList(e.file_list,".wpie_upload_section_wrapper:visible")}jQuery(".wpie_upload_section_wrapper:visible .wpie_local_uploaded_filename_label").text(wpiePluginSettings.wpieLocalizeText.wpieUploadCompleteText);var i=jQuery(".wpie_upload_section_wrapper:visible .wpie_upload_file_list:checked").val();wpiePluginSettings.importData.activeFile=i,wpieSetFileAttributes(e),wpieSetProcessLoader({wpieValidateUpload:wpiePluginSettings.wpieLocalizeText.wpieParingUploadFileText,wpieGetTemplates:wpiePluginSettings.wpieLocalizeText.wpieGetTemplatesText,wpieGetConfig:wpiePluginSettings.wpieLocalizeText.wpieGetConfigText,wpieGetFields:wpiePluginSettings.wpieLocalizeText.wpieGetFieldsText,wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText}),wpieValidateUploadedFile(!1,","),wpieImportGetTemplates()}function wpieSetFileAttributes(e){var i=wpiePluginSettings.importData.activeFile;void 0===wpiePluginSettings.importData[i]&&(wpiePluginSettings.importData[i]=[]),wpiePluginSettings.importData[i].fileType="",wpiePluginSettings.importData[i].fileName="",void 0!==e.file_name&&(wpiePluginSettings.importData[i].fileName=e.file_name,wpiePluginSettings.importData[i].fileType=e.file_name.substr(e.file_name.lastIndexOf(".")+1)),wpiePluginSettings.importData[i].fileSize="0kb",void 0!==e.file_size&&(wpiePluginSettings.importData[i].fileSize=plupload.formatSize(e.file_size));var t=wpiePluginSettings.importData[i].fileType;-1==jQuery.inArray(t,["xls","xlsx","csv","ods"])?jQuery(".wpie_file_options_wrapper").hide():(jQuery(".wpie_file_options_wrapper").show(),"csv"==t?jQuery(".wpie_csv_delimiter_wrapper").show():jQuery(".wpie_csv_delimiter_wrapper").hide())}function wpieSetProcessLoader(e){var i="";jQuery.each(e,function(e,t){i+='<div class="wpie_task_wrapper '+e+'" >',i+='<div class="wpie_task_icon_wrapper wpie_task_processing_icon"><i class="fas fa-spinner fa-spin wpie_spinner_btn_icon"></i></div>',i+='<div class="wpie_task_icon_wrapper wpie_task_completed_icon"><i class="fas fa-check-circle wpie_general_btn_icon " aria-hidden="true"></i></div>',i+='<div class="wpie_task_title">'+t+"</div>",i+="</div>"});var t=setInterval(function(){!0===wpiePluginSettings.isModalHide&&(clearInterval(t),jQuery(".wpie_task_list").html(i),jQuery(".wpie_processing_data").modal({backdrop:"static",keyboard:!1,show:!0}),jQuery(".wpie_processing_data").on("shown.bs.modal",function(e){wpiePluginSettings.isModalHide=!1}))},200)}function wpieUpdateProcessLoader(e){if(jQuery("."+e).addClass("task_completed"),!jQuery(".wpie_task_list").find(".wpie_task_wrapper:not(.task_completed)").length)var i=setInterval(function(){!1===wpiePluginSettings.isModalHide&&(clearInterval(i),jQuery(".wpie_processing_data").modal("hide"),jQuery(".wpie_processing_data").on("hidden.bs.modal",function(e){wpiePluginSettings.isModalHide=!0}))},200)}function wpieValidateUploadedFile(e,i){var t=wpiePluginSettings.importData.activeFile;if(void 0===wpiePluginSettings.importData[t]&&(wpiePluginSettings.importData[t]=[]),e||void 0===wpiePluginSettings.importData[t].count){var p=e?0:1,a=jQuery(".wpie_file_first_row_is_title:checked").val();jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_validate_uploads&wpie_import_id="+wpiePluginSettings.wpieImportId+"&activeFile="+t+"&wpie_csv_delimiter="+i+"&is_new_request="+p+"&wpie_file_first_row_is_title="+a,dataType:"json",async:!0,success:function(e){if("error"==e.status)return wpieSetErrorMsg(e.message),!1;wpieSetFileAttributes(e),jQuery(".wpie_csv_delimiter").val(e.delimiter),wpieUpdateProcessLoader("wpieValidateUpload"),jQuery(".wpie_import_step1_btn").show(),jQuery(document).trigger("wpieValidUploadFile"),wpieGetConfig()},error:function(e,i){wpieHandleAjaxError(e,i)}})}else{var r="undefined"!=wpiePluginSettings.importData[t].fileType?wpiePluginSettings.importData[t].fileType:"";-1==jQuery.inArray(r,["xls","xlsx","csv","ods"])?jQuery(".wpie_file_options_wrapper").hide():(jQuery(".wpie_file_options_wrapper").show(),"csv"==r?jQuery(".wpie_csv_delimiter_wrapper").show():jQuery(".wpie_csv_delimiter_wrapper").hide()),wpieUpdateProcessLoader("wpieValidateUpload"),jQuery(".wpie_import_step1_btn").show(),jQuery(document).trigger("wpieValidUploadFile"),wpieGetConfig()}}function wpieGetConfig(){void 0===wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]&&(wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]=[]),void 0!==wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].config?(wpieUpdateProcessLoader("wpieGetConfig"),wpieConfigImport()):jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_get_config&import_id="+wpiePluginSettings.wpieImportId,dataType:"json",async:!0,success:function(e){if("error"==e.status)return wpieSetErrorMsg(e.message),!1;wpieUpdateProcessLoader("wpieGetConfig"),void 0!==e.config?wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].config=e.config:wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].config={},wpieConfigImport()},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieConfigImport(){var e=wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].config;wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].changeConfig=!0,void 0!==e.import_type&&""!=e.import_type&&(jQuery(".wpie_import_type_select").val()!=e.import_type&&(jQuery(".wpie_import_type_select").val(e.import_type).trigger("chosen:updated"),wpieImportGetTemplates()),"taxonomies"!=e.import_type?jQuery(".wpie_taxonomies_types_wrapper").hide():jQuery(".wpie_taxonomies_types_wrapper").show(),"taxonomies"==e.import_type&&void 0!==e.import_sub_type&&""!=e.import_type&&jQuery(".wpie_taxonomies_types_select").val()!=e.import_sub_type&&jQuery(".wpie_taxonomies_types_select").val(e.import_sub_type).trigger("change").trigger("chosen:updated")),wpieGetImportFields(jQuery(".wpie_import_type_select").val()),wpieGetFilteredRecords(0,1,"","",!0)}function wpieSetTemplate(e){if("object"==typeof e&&!jQuery.isEmptyObject(e)){wpieSetCF(e),wpieSetTaxonomy(e),jQuery(document).trigger("wpieChangeTemplate",[e]),jQuery(".wpie_item_update_field").prop("checked",!1),jQuery.each(e,function(e,i){if(e.match("^wpie_item_cf")||e.match("^wpie_item_acf")||e.match("^wpie_item_taxonomy")||e.match("^wpie_item_set_taxonomy")||!(e.match("^wpie_item_")||e.match("^wpie_existing_item")||e.match("^is_update_item")||e.match("^wpie_wpml_lang")))return!0;if(jQuery("."+e).length)if(jQuery("."+e).first().is(".wpie_radio,.wpie_checkbox")){var t=!0;jQuery.each(jQuery("."+e),function(e){"as_specified"!==i&&jQuery(this).val()==i?(jQuery(this).prop("checked",!0),t=!1):jQuery(this).prop("checked",!1)}),!0===t?(jQuery("."+e+"_as_specified").prop("checked",!0).trigger("change"),jQuery("."+e+"_as_specified_data").val(i)):(jQuery("."+e+"_as_specified").prop("checked",!1).trigger("change"),jQuery("."+e+"_as_specified_data").val(""))}else if(jQuery("."+e).first().is(".wpie_content_data_select")){t=!0;jQuery.each(jQuery("."+e+" option"),function(e){if(jQuery(this).attr("value")==i)return t=!1,!1}),t?(jQuery("."+e).val("as_specified").trigger("chosen:updated").trigger("change"),jQuery("."+e+"_as_specified_wrapper").show(),jQuery("."+e+"_as_specified_data").val(i)):(jQuery("."+e).val(i).trigger("chosen:updated").trigger("change"),jQuery("."+e+"_as_specified_wrapper").hide(),jQuery("."+e+"_as_specified_data").val(""))}else jQuery("."+e).val(i)});var i=["wpie_item_unsuccess_set_draft","wpie_item_set_image_title","wpie_item_set_image_caption","wpie_item_set_image_alt","wpie_item_set_image_description","wpie_item_image_rename","wpie_item_change_ext","wpie_item_attachement_search_for_existing"];jQuery.each(i,function(i,t){void 0===e[t]&&jQuery("."+t).prop("checked",!1)}),i=["wpie_item_search_existing_images","wpie_item_keep_images","wpie_item_first_imaege_is_featured"],jQuery.each(i,function(i,t){void 0===e[t]&&jQuery("."+t).prop("checked",!0)}),jQuery(document).trigger("wpieAfterChangeTemplate",[e]),wpieSetToolTip()}wpieUpdateProcessLoader("wpieChangeTemplates")}function wpieSetToolTip(){jQuery.isFunction(jQuery.fn.tipso)&&jQuery(".wpie_data_tipso").length&&jQuery(".wpie_data_tipso").tipso({useTitle:!1,background:"rgba(0,0,0,0.8)",color:"#ffffff",size:"small",tooltipHover:!0})}function wpieValidateProcess(){return!0}function wpieGetImportFields(e){void 0!==wpiePluginSettings.importData[e]&&void 0!==wpiePluginSettings.importData[e].fields?(jQuery(".wpie_field_mapping_section").html(wpiePluginSettings.importData[e].fields),jQuery(".wpie_field_mapping_section").find(".wpie_content_data_select").chosen(),void 0!==wpiePluginSettings.importData[e].searchFields&&jQuery(".wpie_search_item_wrapper").html(wpiePluginSettings.importData[e].searchFields),void 0!==wpiePluginSettings.importData[e].updateFields&&jQuery(".wpie_update_item_wrapper").html(wpiePluginSettings.importData[e].updateFields),wpieUpdateProcessLoader("wpieGetFields"),wpieChangeConfig()):jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_get_fields&type="+e,dataType:"json",async:!0,success:function(i){if("error"==i.status)return wpieSetErrorMsg(i.message),!1;wpieUpdateProcessLoader("wpieGetFields"),void 0===wpiePluginSettings.importData[e]&&(wpiePluginSettings.importData[e]=[]),void 0!==i.fields&&(wpiePluginSettings.importData[e].fields=i.fields,jQuery(".wpie_field_mapping_section").html(i.fields),jQuery(".wpie_field_mapping_section").find(".wpie_content_data_select").chosen()),void 0!==i.search_fields&&(wpiePluginSettings.importData[e].searchFields=i.search_fields,jQuery(".wpie_search_item_wrapper").html(i.search_fields)),void 0!==i.update_fields&&(wpiePluginSettings.importData[e].updateFields=i.update_fields,jQuery(".wpie_update_item_wrapper").html(i.update_fields)),wpieChangeConfig()},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieChangeConfig(){if(void 0!==wpiePluginSettings.importData[wpiePluginSettings.wpieImportId]&&void 0!==wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].changeConfig&&1==wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].changeConfig){wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].changeConfig=!1;var e=wpiePluginSettings.importData[wpiePluginSettings.wpieImportId].config;jQuery(document).trigger("wpieChangeConfig",[e.fields]),void 0!==e.fields&&wpieSetTemplate(e.fields)}wpieSetToolTip(),jQuery(document).trigger("wpieAfterChangeConfig")}function wpieGetFilteredRecords(e,i,t,p,a){jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"POST",data:"action=wpie_import_get_filtered_records&wpie_import_id="+wpiePluginSettings.wpieImportId+"&start="+e+"&length="+i+"&xpath="+t+"&root="+p,dataType:"json",success:function(i){if("error"==i.status)return wpieSetErrorMsg(i.message),!1;jQuery(".wpie_element_nav_element").val(e+1);var r=wpiePluginSettings.importData.activeFile;if(void 0!==i.count&&(wpiePluginSettings.importData[r].count=i.count,jQuery(".wpie_data_element_action_nav_total").html(i.count)),(""==t||a)&&void 0!==i.xpath){var n=i.xpath.substring(1);wpiePluginSettings.importData[r].xpath=n,jQuery(".wpie_xpath").val(n)}""!=p&&!a||void 0===i.root||(wpiePluginSettings.importData[r].root=i.root),void 0!==i.filter_element&&(wpiePluginSettings.importData[r].node_list=i.filter_element,jQuery(".wpie_element_list").html("").append(jQuery("<option></option>").val("").text(wpiePluginSettings.wpieLocalizeText.selectElementText)),jQuery.each(i.filter_element,function(e,i){jQuery(".wpie_element_list").append(jQuery("<option></option>").val(i).text(i))}),jQuery(".wpie_element_list").val("").trigger("chosen:updated"));var o="",s=!0;if(void 0===i.file_type||"csv"!=i.file_type&&"xls"!=i.file_type&&"xlsx"!=i.file_type){if(jQuery(".wpie_element_tag_outer").show(),void 0!==i.node_list&&!jQuery.isEmptyObject(i.node_list)){var _="";jQuery.each(i.node_list,function(e,i){if(wpiePluginSettings.importData[r].root==e)var t="wpie_active";else t="";_+='<div class="wpie_layout_tag_wrapper '+t+'"><div class="wpie_layout_tag_name">'+e+'</div><div class="wpie_layout_tag_count">'+i+"</div></div>"}),jQuery(".wpie_element_tag_wrapper").html(_),wpiePluginSettings.importData[r].node_list=i.node_list}void 0!==i.content&&jQuery.each(i.content,function(e,i){o+=wpieGenerateXmlTagView(i)})}else s=!1,jQuery(".wpie_element_tag_outer").hide(),void 0!==i.content&&jQuery.each(i.content,function(e,i){o+=wpieGenerateTableView(i)});jQuery(".wpie_data_preview").html(o),jQuery(".wpie_data_fields_container").html(o),s?jQuery(".wpie_field_mapping_data_wrapper .wpie_data_fields_container").find(".wpie_tag.wpie_opening:not(.wpie_tag_has_child) .wpie_tag_name,.wpie_tag_attr_name").wpieInsertAtCaret():jQuery(".wpie_data_fields_container").find(".wpie_tag_table_header_data").wpieInsertAtCaret(),wpiePluginSettings.importData[r].content=i.content,wpieUpdateProcessLoader("wpieGetRecords"),0==wpiePluginSettings.importData[r].count&&wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieNoRecordsFoundText)},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieHandleAjaxError(e,i){return wpieSetErrorMsg(0===e.status?wpiePluginSettings.wpieLocalizeText.wpie_ajax_not_connect_error:400==e.status?wpiePluginSettings.wpieLocalizeText.wpie_ajax_400_error:404==e.status?wpiePluginSettings.wpieLocalizeText.wpie_ajax_404_error:500==e.status?wpiePluginSettings.wpieLocalizeText.wpie_ajax_internal_server_error:"parsererror"===i?wpiePluginSettings.wpieLocalizeText.wpie_ajax_jason_parse_error:"timeout"===i?wpiePluginSettings.wpieLocalizeText.wpie_ajax_time_out_error:"abort"===i?wpiePluginSettings.wpieLocalizeText.wpie_ajax_request_aborted_error:wpiePluginSettings.wpieLocalizeText.wpie_ajax_uncaught_error+e.responseText),!1}function wpieSetStrictErrorMsg(e){wpieHideLoader(),jQuery(".wpie_strict_error_content").html(e),jQuery(".wpie_strict_error_model").modal({backdrop:"static",show:!0,keyboard:!1})}function wpieSetErrorMsg(e){wpieHideLoader(),jQuery(".wpie_error_content").html(e),jQuery(".wpie_error_model").modal({backdrop:!0,show:!0})}function wpieSetSuccessMsg(e){jQuery.notify({message:'<i class="far fa-check-circle"></i> '+e},{type:"success",placement:{align:"right",from:"bottom"},animate:{enter:"animated fadeInUp",exit:"animated fadeOutDown"}})}function wpieHandleFileList(e,i){var t='<div class="wpie_file_list_header">'+wpiePluginSettings.wpieLocalizeText.wpieChooseFileText+'</div><div class="wpie_file_list_container">',p=!0,a=(jQuery(".wpie_upload_type").val(),"");jQuery.each(e,function(e,i){if(1==p){p=!1;var r='checked="checked"';a=e}else r="";t+='<div class="wpie_file_list_element" ><input class="wpie_file_list wpie_upload_file_list wpie_radio"  type="radio" id="'+i.fileKey+'" value="'+i.fileKey+'" name="wpie_import_local_upload" '+r+'><label class="wpie_file_list_data wpie_radio_label"  for="'+i.fileKey+'">'+i.fileName+"</label></div>"}),t+="</div>",jQuery(i).find(".wpie_file_list_wrapper").html(t),jQuery(i).find(".wpie_upload_finalFile").val(a)}function wpieShowLoader(){jQuery(".wpie_loader").removeClass("wpie_hidden")}function wpieHideLoader(){jQuery(".wpie_loader").addClass("wpie_hidden")}function wpieValidateImportExt(){var e=jQuery(".wpie_import_type_select").val(),i=!0,t="";if(!jQuery.isArray(wpiePluginSettings.wpieExtensions)){var p=[];jQuery.isEmptyObject(wpiePluginSettings.wpieExtensions)||jQuery.each(wpiePluginSettings.wpieExtensions,function(e){p.push(e)}),wpiePluginSettings.wpieExtensions=p}return void 0!==wpiePluginSettings.isWcActive&&1!=wpiePluginSettings.isWcActive&&-1!==jQuery.inArray(e,["shop_customer","shop_order","shop_coupon","product","product_attributes"])?(t=wpiePluginSettings.wpieLocalizeText.ActivateWc,i=!1):"users"==e?wpiePluginSettings.wpieExtensions.indexOf("wpie_user_import")<0&&(t=wpiePluginSettings.wpieLocalizeText.wpieImportUserExtDisableText,i=!1):"shop_customer"==e?wpiePluginSettings.wpieExtensions.indexOf("wpie_wc_import")<0?(t=wpiePluginSettings.wpieLocalizeText.wpieImportWCExtDisableText,i=!1):wpiePluginSettings.wpieExtensions.indexOf("wpie_user_import")<0&&(t=wpiePluginSettings.wpieLocalizeText.wpieImportUserExtDisableText,i=!1):"shop_order"==e||"shop_coupon"==e||"product"==e?wpiePluginSettings.wpieExtensions.indexOf("wpie_wc_import")<0&&(t=wpiePluginSettings.wpieLocalizeText.wpieImportWCExtDisableText,i=!1):"product_attributes"==e&&wpiePluginSettings.wpieExtensions.indexOf("wpie_product_attribute_import")<0&&(t=wpiePluginSettings.wpieLocalizeText.wpieImportPAExtDisableText,i=!1),0!=i||(jQuery(".wpie_import_type_select").val("post").trigger("chosen:updated"),"taxonomies"==e?jQuery(".wpie_taxonomies_types_wrapper").slideDown():jQuery(".wpie_taxonomies_types_wrapper").slideUp(),wpieGetImportFields("post"),wpieSetErrorMsg(t),!1)}function wpieGotoRecord(e){var i=wpiePluginSettings.importData.activeFile,t=wpiePluginSettings.importData[i].root,p=wpiePluginSettings.importData[i].xpath,a=wpiePluginSettings.importData[i].count;e>=1&&e<=a?wpieGetFilteredRecords(e-1,1,p,t,!1):wpieUpdateProcessLoader("wpieGetRecords")}function wpieGenerateTableView(e){var i='<table class="wpie_import_data_preview table table-striped table-bordered" width="100%" cellspacing="0"><thead>';return"object"==typeof e&&null!==e&&"object"==typeof e.value&&null!==e.value&&jQuery.each(e.value,function(e,t){var p=void 0!==t.path?t.path:"",a=void 0!==t.name?t.name:"",r=void 0!==t.value?t.value:"";i+='<tr><th  class="wpie_tag_header_wrapper"><div data_value="'+p+'" class="wpie_tag_table_header_data">'+a+'</div></th><td class="wpie_tag_contant_data_wrapper"><div class="wpie_tag_table_contant_data">'+r+"</div></td></tr>"}),i+="</tr></thead><tbody></tbody></table>"}function wpieGenerateXmlTagView(e){var i="";if("object"==typeof e&&null!==e){var t="",p="",a="";p="";"object"==typeof e.value&&null!==e.value?(jQuery.each(e.value,function(e,i){t+=wpieGenerateXmlTagView(i)}),a=" wpie_tag_section_container",p=" wpie_tag_has_child"):void 0!==e.value&&(t+=e.value);var r=e.name,n=e.path,o="";"object"!=typeof e["@attributes"]||null===e["@attributes"]||jQuery.isEmptyObject(e["@attributes"])||jQuery.each(e["@attributes"],function(e,i){o+='<span class="wpie_tag_attr" >',o+='<span class="wpie_tag_attr_name" data_value="'+n+"/@"+e+'"> '+e+'</span> = <span class="wpie_tag_attr_value">"'+i+'" </span>',o+="</span>"});var s="";""!=t&&t.length>40&&(s='<i aria-hidden="true" class="fas fa-plus wpie_layout_tag_icon wpie_layout_expand_icon"></i><i aria-hidden="true" class="fas fa-minus wpie_layout_collapsed_icon wpie_layout_tag_icon"></i>'),i+='<div class="wpie_tag_outer_wrapper">',i+='<div class="wpie_tag wpie_opening '+p+'">'+s+'&lt;<span class="wpie_tag_name"  data_value="'+n+'">'+r+"</span>"+o+"&gt;</div>",i+='<div class="wpie_tag_content'+a+'">'+t+"</div>",i+='<div class="wpie_tag wpie_closing">&lt;/<span class="wpie_tag_name" >'+r+"</span>&gt;</div>",i+="</div>"}return i}function wpieAddNewImportRule(){var e=jQuery(".wpie_element_list").val(),i=jQuery(".wpie_element_list").find("option:selected").text(),t=jQuery(".wpie_element_rule").val(),p=jQuery(".wpie_element_rule").find("option:selected").text(),a=jQuery(".wpie_element_value").val();if(""==e)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.selectElementText),!1;if(""==t)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.selectExportRuleText),!1;if(jQuery(".wpie_filter_data_rule").length>0){var r=Math.floor(1e8*Math.random()+1),n='<div class="wpie_rule_condition_wrapper"><input type="radio" class="wpie_radio wpie_rule_clause" checked="checked" name="wpie_content_data_rule_condition_'+r+'" id="wpie_content_data_rule_condition_and_'+r+'" value="and"/><label for="wpie_content_data_rule_condition_and_'+r+'" class="wpie_radio_label">'+wpiePluginSettings.wpieLocalizeText.andText+'</label></div><div class="wpie_rule_condition_wrapper wpie_rule_condition_or_wrapper"><input type="radio" class="wpie_radio wpie_rule_clause" name="wpie_content_data_rule_condition_'+r+'" id="wpie_content_data_rule_condition_or_'+r+'" value="or"/><label for="wpie_content_data_rule_condition_or_'+r+'" class="wpie_radio_label">'+wpiePluginSettings.wpieLocalizeText.orText+"</label></div>";jQuery(".wpie_filter_rule_table .wpie_filter_data_rule").last().find(".wpie_filter_data_rule_cond_data").html(n)}else jQuery(".wpie_apply_rule_wrapper").show();var o='<tr class="wpie_filter_data_rule" ><td class="wpie_filter_rule_list wpie_filter_data_rule_node" wpie_data="'+e+'">'+i+'</td><td class="wpie_filter_rule_list wpie_filter_data_rule_cond" wpie_data="'+t+'">'+p+'</td><td class="wpie_filter_rule_list wpie_filter_data_rule_val">"'+a+'"</td><td class="wpie_filter_rule_list wpie_filter_data_rule_cond_data"></td><td class="wpie_filter_rule_list wpie_filter_data_rule_action"><i class="fas fa-trash wpie_trash_general_btn_icon wpie_rule_trash_btn " aria-hidden="true"></i></td></tr>';return jQuery(".wpie_filter_rule_table").append(o),!0}function wpieXpathBuilder(e,i){var t="",p=wpiePluginSettings.importData.activeFile,a=wpiePluginSettings.importData[p].root;return i&&e.length>1&&(t+=" ("),e.each(function(){var p=jQuery(this).find(".wpie_filter_data_rule_node").attr("wpie_data"),r=jQuery(this).find(".wpie_filter_data_rule_cond").attr("wpie_data"),n=jQuery(this).find(".wpie_filter_data_rule_val").html();if(n=n.slice(1,-1),jQuery(this).find(".wpie_rule_clause:checked").length>0)var o=jQuery(this).find(".wpie_rule_clause:checked").val();else o=!1;var s=!1,_="",l="";switch(-1!=p.indexOf("@")&&(s=!0,_=p.split("@")[0],l=p.split("@")[1]),t+=s?_==a?"":_.replace(/->/g,"/"):p.replace(/->/g,"/"),s&&(t+="@"+l),r){case"equals":t+=' = "%s"';break;case"not_equals":t+=' != "%s"';break;case"greater":t+=' > "%s"';break;case"equals_or_greater":t+=' >= "%s"';break;case"less":t+=' < "%s"';break;case"equals_or_less":t+=' <= "%s"';break;case"contains":t+='[contains(.,"%s")]';break;case"not_contains":t+='[not(contains(.,"%s"))]';break;case"is_empty":t+="[not(string())]";break;case"is_not_empty":t+="[string()]"}t=t.replace("%s",n),o&&(t+=" "+o+" "),i&&e.length>1&&(t+=") ")}),t}function wpieAddSerialyzeLayout(e,i){if(e.closest(".wpie_cf_table").find(".wpie_cf_child_data").hide(),jQuery(".wpie-cf-activated").removeClass("wpie-cf-activated"),e.closest("tr").addClass("wpie-cf-activated"),e.closest("tr").find(".wpie_cf_child_data .wpie_cf_table").length>=1)!0===i&&e.closest("tr .wpie_item_cf_value_wrapper").children(".wpie_cf_child_data").show();else{var t=wpieRand(20);e.closest(".wpie_cf_table").find("select").chosen("destroy");var p=jQuery("<div>").append(e.closest(".wpie_cf_table").clone()).html(),a=e.closest("tr .wpie_item_cf_value_wrapper").children(".wpie_cf_child_data");a.html(p),!0===i&&a.show(),a.find("tbody tr:not(.wpie-cf-activated)").remove(),a.find("tbody tr").first().attr("wpie_row_id",t);var r=a.find(".wpie_item_cf_value").first().attr("name");r=wpieReplaceAll(r,"[value]","[values]"),a.find(".wpie_item_cf_name").first().attr("name",r+"["+t+"][name]").val(""),a.find(".wpie_item_cf_value").first().attr("name",r+"["+t+"][value]").val(""),a.find(".wpie_item_cf_option").first().attr("name",r+"["+t+"][option]").val("normal").trigger("change"),e.closest(".wpie_cf_table").find("select").chosen()}}function wpieRand(e){for(var i="",t="abcdefghijklmnopqrstuvwxyz0123456789",p=t.length,a=0;a<e;a++)i+=t.charAt(Math.floor(Math.random()*p));return i}function wpieAddNewCF(e){var i=e.children("tbody").children(".wpie_data_row").last(),t=i.attr("wpie_row_id"),p=wpieRand(20);i.find(".wpie_content_data_select").chosen("destroy");var a=jQuery("<div>").append(i.clone()).html();a=wpieReplaceAll(a,t,p),i.find(".wpie_content_data_select").chosen(),e.children("tbody").first().append(a);var r=e.children("tbody").children(".wpie_data_row").last();r.children(".wpie_item_cf_value_wrapper").children(".wpie_cf_child_data").html(""),r.children(".wpie_item_cf_option_wrapper").find(".wpie_content_data_select").val("normal").trigger("change").chosen(),r.children(".wpie_item_cf_name_wrapper").find(".wpie_item_cf_name").val(""),r.children(".wpie_item_cf_value_wrapper").children(".wpie_cf_normal_data").find(".wpie_item_cf_value").val("")}function wpieEscapeRegExp(e){if(void 0!==e&&null!==typeof e)return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wpieReplaceAll(e,i,t){return void 0!==e&&null!==typeof e?e.replace(new RegExp(wpieEscapeRegExp(i),"g"),t):e}function wpieAddNewSerializeCF(e){var i=e.find(".wpie_cf_serialized_option_container .wpie_cf_serialized_option_wrapper").last().find(".wpie_item_cf_serialize_key").attr("name"),t=e.find(".wpie_cf_serialized_option_container .wpie_cf_serialized_option_wrapper").last().find(".wpie_item_cf_serialize_value").attr("name"),p=parseInt(i.substring(i.lastIndexOf("[")+1,i.lastIndexOf("]"))),a="]["+(p+1)+"]",r="]["+p+"]";i=i.replace(r,a),t=t.replace(r,a);var n=e.find(".wpie_cf_serialized_option_container .wpie_cf_serialized_option_wrapper").first().clone();e.find(".wpie_cf_serialized_option_container").append(n),e.find(".wpie_cf_serialized_option_container .wpie_cf_serialized_option_wrapper").last().find(".wpie_item_cf_serialize_key").val("").attr("name",i),e.find(".wpie_cf_serialized_option_container .wpie_cf_serialized_option_wrapper").last().find(".wpie_item_cf_serialize_value").val("").attr("name",t)}function wpieIsValidTime(){return!0}function wpieScrollTop(){jQuery("html, body").animate({scrollTop:0},300)}function wpieInitImport(e){wpieSetProcessLoader({wpieSaveSettings:wpiePluginSettings.wpieLocalizeText.wpieSaveSettingsText});var i=wpiePluginSettings.importData.activeFile,t=1;jQuery(".wpie_import_type.wpie_active").hasClass("wpie_update_item")&&(t=0);var p=wpiePluginSettings.wpieImportId,a=wpiePluginSettings.importData[i].xpath,r=wpiePluginSettings.importData[i].root,n=0;"bg"==e&&(n="1");var o=jQuery(".wpie_import_frm").serialize();jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"POST",data:"action=wpie_import_update_data&wpie_import_id="+p+"&bg="+n+"&xpath="+a+"&root="+r+"&is_new_items="+t+"&"+o,dataType:"json",async:!0,success:function(i){if("error"==i.status)return wpieSetErrorMsg(i.message),!1;if(wpieUpdateProcessLoader("wpieSaveSettings"),"import"==e)wpieResetImportProcess(),wpiePluginSettings.importData.processStatus="processing",jQuery(".wpie_import_step:visible").hide(),jQuery(".wpie_import_step7").show(),wpieScrollTop(),wpieImportData();else if("bg"==e)return jQuery(".wpie_import_bg_set").modal({backdrop:"static",keyboard:!1,show:!0}),!1},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieResetImportProcess(){var e=wpiePluginSettings.importData.activeFile;jQuery(".wpie_import_process_text_header").text(wpiePluginSettings.wpieLocalizeText.wpieImportProcessingText),jQuery(".wpie_import_process_text_notice").text(wpiePluginSettings.wpieLocalizeText.wpieImportProcessingNoticeText),jQuery(".wpie_import_filename").html(wpiePluginSettings.importData[e].fileName),jQuery(".wpie_import_filesize").html(wpiePluginSettings.importData[e].fileSize),jQuery(".wpie_import_process_per").css("width","auto").text("0%"),jQuery(".wpie_import_created").text("0"),jQuery(".wpie_import_updated").text("0"),jQuery(".wpie_import_skipped").text("0"),jQuery(".wpie_import_time_elapsed").text("00:00:00"),jQuery(".wpie_import_total").text(wpiePluginSettings.importData[e].count),void 0!==wpiePluginSettings.importData.importInterval&&clearInterval(wpiePluginSettings.importData.importInterval),wpiePluginSettings.importData.importIntervalSec=0,wpiePluginSettings.importData.importInterval=setInterval(function(){jQuery(".wpie_import_time_elapsed").html(wpieElapsedTimeString(wpiePluginSettings.importData.importIntervalSec++))},1e3)}function wpieElapsedTimeString(e){var i=Math.floor(e/3600);e%=3600;var t=Math.floor(e/60);e%=60;var p=Math.floor(e);return(i=wpiePrettyTimeString(i))+":"+(t=wpiePrettyTimeString(t))+":"+(p=wpiePrettyTimeString(p))}function wpiePrettyTimeString(e){return(e<10?"0":"")+e}function wpieObjectifyForm(e,i){var t={};return jQuery.each(e,function(e,i){t[i.name]=i.value}),jQuery.each(i,function(e,i){t[e]=i}),t}function wpieImportData(){"processing"==wpiePluginSettings.importData.processStatus?(wpiePluginSettings.importData.processing=!0,jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_data&wpie_import_id="+wpiePluginSettings.wpieImportId,dataType:"json",async:!0,success:function(e){if("error"==e.status)return wpieSetErrorMsg(e.message),!1;if(void 0!==e.imported&&null!==e.imported){jQuery(".wpie_import_created").html(parseInt(e.created)),jQuery(".wpie_import_updated").html(parseInt(e.updated)),jQuery(".wpie_import_skipped").html(parseInt(e.skipped));var i=wpiePluginSettings.importData.activeFile,t=parseInt(100*parseInt(e.imported)/parseInt(wpiePluginSettings.importData[i].count));t>100&&(t=100),jQuery(".wpie_import_process_per").css("width",t+"%").html(t+"%"),jQuery(".wpie_log_container").append(e.import_log),wpiePluginSettings.importData[i].count>parseInt(e.imported)?wpieImportData():wpieCompleteImport()}},error:function(e,i){wpiePluginSettings.importData.processing=!1,wpieHandleAjaxError(e,i)}})):"pause"==wpiePluginSettings.importData.processStatus?(void 0!==wpiePluginSettings.importData.importInterval&&clearInterval(wpiePluginSettings.importData.importInterval),wpieUpdateProcessLoader("wpieProcessingNotice"),jQuery(".wpie_import_action_resume_btn").show(),jQuery(".wpie_import_action_pause_btn").hide(),wpiePluginSettings.importData.processing=!1):"stop"==wpiePluginSettings.importData.processStatus?(void 0!==wpiePluginSettings.importData.importInterval&&clearInterval(wpiePluginSettings.importData.importInterval),jQuery(".wpie_import_action_container").hide(),wpieUpdateProcessLoader("wpieProcessingNotice"),wpiePluginSettings.importData.processing=!1):"bg"==wpiePluginSettings.importData.processStatus&&(void 0!==wpiePluginSettings.importData.importInterval&&clearInterval(wpiePluginSettings.importData.importInterval),jQuery(".wpie_import_action_container").hide(),wpieUpdateProcessLoader("wpieProcessingNotice"),wpiePluginSettings.importData.processing=!1,wpieChangeStatus("bg"))}function wpieCompleteImport(){jQuery(".wpie_import_process_text_header").text(wpiePluginSettings.wpieLocalizeText.wpieImportCompleteText),jQuery(".wpie_import_process_text_notice").text(wpiePluginSettings.wpieLocalizeText.wpieImportCompleteNoticeText),void 0!==wpiePluginSettings.importData.importInterval&&clearInterval(wpiePluginSettings.importData.importInterval),jQuery(".wpie_import_action_container").hide(),jQuery(".wpie_import_processing_wrapper").hide(),jQuery(".wpie_import_process_complete_wrapper").show()}function wpieRefreshTemplateList(e){jQuery(".wpie_template_list").chosen("destroy");var i='<option value="">'+wpiePluginSettings.wpieLocalizeText.selectTemplateText+"</option>";jQuery.isEmptyObject(e)||jQuery.each(e,function(e,t){i+='<option value="'+t.id+'">'+t.name+"</option>"}),jQuery(".wpie_template_list").html(i).chosen()}function wpieImportGetTemplates(){var e=jQuery(".wpie_import_type_select").val();void 0===wpiePluginSettings.importData[e]&&(wpiePluginSettings.importData[e]=[]),void 0!==wpiePluginSettings.importData[e].templates?(wpieRefreshTemplateList(wpiePluginSettings.importData[e].templates),wpieUpdateProcessLoader("wpieGetTemplates")):jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_get_templates&wpie_import_type="+e,dataType:"json",async:!0,success:function(i){if("error"==i.status)return wpieSetErrorMsg(i.message),!1;wpieUpdateProcessLoader("wpieGetTemplates"),void 0!==i.templates&&(wpiePluginSettings.importData[e].templates=i.templates,wpieRefreshTemplateList(i.templates))},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieSaveTemplate(e){var i=jQuery(".wpie_template_name").val();if(""==i&&0===e)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.enterTemplateNameText),!1;wpieSetProcessLoader({wpieSaveTemplatesText:wpiePluginSettings.wpieLocalizeText.wpieSaveTemplatesText});var t=jQuery(".wpie_import_frm").serialize();jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"POST",data:"action=wpie_import_save_templates&template_id="+e+"&"+t,dataType:"json",async:!0,success:function(t){if("error"==t.status)return wpieSetErrorMsg(t.message),wpieUpdateProcessLoader("wpieSaveTemplatesText"),!1;0===e?jQuery(".wpie_template_list").append(new Option(i,t.template_id)).val("").trigger("chosen:updated"):void 0!==wpiePluginSettings.importData.templateData&&void 0!==wpiePluginSettings.importData.templateData[e]&&delete wpiePluginSettings.importData.templateData[e],wpieSetSuccessMsg(t.message),wpieUpdateProcessLoader("wpieSaveTemplatesText")},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieImportGetTemplateData(e){void 0===wpiePluginSettings.importData.templateData&&(wpiePluginSettings.importData.templateData=[]),void 0!==wpiePluginSettings.importData.templateData[e]?(wpieUpdateProcessLoader("wpieGetTemplatesText"),wpieSetTemplate(wpiePluginSettings.importData.templateData[e])):jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_get_template_data&wpie_template_id="+e,dataType:"json",async:!0,success:function(i){if("error"==i.status)return wpieSetErrorMsg(i.message),!1;wpieUpdateProcessLoader("wpieGetTemplatesText"),void 0!==i.template_data&&(wpiePluginSettings.importData.templateData[e]=i.template_data,wpieSetTemplate(i.template_data)),wpieUpdateProcessLoader("wpieChangeTemplates")},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieSetCFRec(e,i){if(!jQuery.isEmptyObject(e)){var t=0;jQuery.each(e,function(e,p){var a="";if(void 0!==p.name&&(a=p.name),"_thumbnail_id"===a)return!0;t>0&&wpieAddNewCF(i);var r=i.children("tbody").children(".wpie_data_row").last();r.children(".wpie_item_cf_name_wrapper").find(".wpie_item_cf_name").val(a);var n="";void 0!==p.value&&(n=p.value),r.children(".wpie_item_cf_value_wrapper").children(".wpie_cf_normal_data").find(".wpie_item_cf_value").val(n);var o="";if(void 0!==p.option&&(o=p.option),r.children(".wpie_item_cf_option_wrapper").find(".wpie_item_cf_option").val(o).trigger("chosen:updated").trigger("change"),"serialized"===o&&void 0!==p.values){wpieAddSerialyzeLayout(r.children(".wpie_item_cf_value_wrapper").children(".wpie_cf_serialized_data_btn"),!1);var s=r.children(".wpie_item_cf_value_wrapper").children(".wpie_cf_child_data").children(".wpie_cf_table");wpieSetCFRec(p.values,s)}t++})}}function wpieSetCF(e){if(jQuery(".wpie_cf_option_outer_wrapper .wpie_cf_option_wrapper:not(:first)").remove(),!jQuery.isEmptyObject(e))if(void 0!==e.wpie_item_cf&&null!==typeof e.wpie_item_cf){var i=jQuery(".wpie_cf_table");wpieSetCFRec(e.wpie_item_cf,i)}else if(void 0!==e.wpie_item_cf_name){var t=[];void 0!==e.wpie_item_cf_value&&(t=e.wpie_item_cf_value);var p=[];void 0!==e.wpie_item_cf_option&&(p=e.wpie_item_cf_option);var a=[];void 0!==e.wpie_item_cf_serialize_key&&(a=e.wpie_item_cf_serialize_key);var r=[];void 0!==e.wpie_item_cf_serialize_value&&(r=e.wpie_item_cf_serialize_value);var n={};if(jQuery.each(e.wpie_item_cf_name,function(e,i){var o=wpieRand(20);n[o]={},n[o].name=i;var s="";void 0!==t[e]&&(s=t[e]),n[o].value=s;var _="normal";if("undefined"!=p[e]&&"serialized"===p[e]&&(_=p[e]),n[o].option=_,"serialized"===_&&void 0!==a[e]){var l=[];n[o].values={},void 0!==r[e]&&(l=r[e]),jQuery.each(a[e],function(e,i){var t="";"undefined"!=l[e]&&(t=l[e]);var p=wpieRand(20);n[o].values[p]={},n[o].values[p].name=i,n[o].values[p].value=t,n[o].values[p].option="normal"})}}),!jQuery.isEmptyObject(n)){i=jQuery(".wpie_cf_table");wpieSetCFRec(n,i)}}}function wpieChangeStatus(e){wpieSetProcessLoader({wpieSetBGProcessText:wpiePluginSettings.wpieLocalizeText.wpieSetBGProcessText});var i=wpiePluginSettings.wpieImportId;jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_update_status&wpie_import_id="+i+"&status="+e,dataType:"json",async:!0,success:function(i){if("error"==i.status)return wpieSetErrorMsg(i.message),!1;wpieUpdateProcessLoader("wpieSetBGProcessText"),"bg"==e&&wpieSetSuccessMsg(wpiePluginSettings.wpieLocalizeText.wpieBgProcessingText)},error:function(e,i){wpieHandleAjaxError(e,i)}})}function wpieIsData(){return!0}function wpieSetTaxonomy(e){if(wpieResetTaxonomy(),!jQuery.isEmptyObject(e)&&void 0!==e.wpie_item_set_taxonomy){var i=[];void 0!==e.wpie_item_taxonomy&&(i=e.wpie_item_taxonomy);var t=[];void 0!==e.wpie_item_taxonomy_delim&&(t=e.wpie_item_taxonomy_delim);var p=[];void 0!==e.wpie_item_taxonomy_hierarchical_delim&&(p=e.wpie_item_taxonomy_hierarchical_delim);var a=[];void 0!==e.wpie_item_taxonomy_child_only&&(a=e.wpie_item_taxonomy_child_only),jQuery.each(e.wpie_item_set_taxonomy,function(e,r){if(1!=r)return!0;if(jQuery(".wpie_item_set_taxonomy_"+e).prop("checked",!0),void 0!==i[e]){var n=i[e];jQuery(".wpie_item_taxonomy_"+e).val(n)}void 0!==t[e]&&jQuery(".wpie_item_taxonomy_delim_"+e).val(t[e]),void 0!==p[e]&&jQuery(".wpie_item_taxonomy_hierarchical_delim_"+e).val(p[e]),void 0!==a[e]&&1==a[e]?jQuery(".wpie_item_taxonomy_child_only_"+e).prop("checked",!0):jQuery(".wpie_item_taxonomy_child_only_"+e).prop("checked",!1)})}}function wpieResetTaxonomy(){jQuery(".wpie_item_set_taxonomy").prop("checked",!1),jQuery(".wpie_item_taxonomy").val(""),jQuery(".wpie_item_taxonomy_delim").val(","),jQuery(".wpie_item_taxonomy_hierarchical_delim").val(">"),jQuery(".wpie_taxonomy_hierarchical_child_only").prop("checked",!1)}jQuery(document).ready(function(e){if(null==wpiePluginSettings&&(wpiePluginSettings=[]),void 0===wpiePluginSettings.wpieImportId&&(wpiePluginSettings.wpieImportId=0),void 0===wpiePluginSettings.importData&&(wpiePluginSettings.importData=[]),wpiePluginSettings.isModalHide=!0,jQuery.isFunction(jQuery.fn.chosen)&&jQuery(".wpie_content_data_select").length&&jQuery(".wpie_content_data_select").chosen(),jQuery("#wpie_upload_container").length&&wpie_set_local_file_uploader(),jQuery(".wpie_import_ref_id").length){var i=jQuery(".wpie_import_ref_id").val();if(""===i){var t=jQuery(".wpie_error_msg").attr("msg");""!==t&&wpieSetErrorMsg(t)}else{wpieProcessingReimport(jQuery(".wpie_import_id").val(),jQuery(".wpie_import_nonce").val(),i)}}wpieSetToolTip(),"1"!==wpiePluginSettings.isUploadDirWritable&&wpieSetStrictErrorMsg(wpiePluginSettings.wpieLocalizeText.uploadDirWritableError)}),jQuery(document).on("wpieValidUploadFile",function(e){var i=jQuery(".wpie_import_ref_id").val();wpiePluginSettings.getImportTemplate=!1,""!==i&&(wpiePluginSettings.getImportTemplate=!0)}),jQuery(document).on("wpieAfterChangeConfig",function(e){""!==jQuery(".wpie_import_ref_id").val()&&void 0!==wpiePluginSettings.getImportTemplate&&!0===wpiePluginSettings.getImportTemplate&&(wpiePluginSettings.getImportTemplate=!1,wpieSetProcessLoader({wpieChangeTemplates:wpiePluginSettings.wpieLocalizeText.wpieChangeTemplatesText,wpieGetTemplatesText:wpiePluginSettings.wpieLocalizeText.wpieGetTemplatesText}),wpieImportGetTemplateData(jQuery(".wpie_import_id").val()),jQuery(".wpie_import_step5_btn").trigger("click"))}),jQuery(document).on("click",".wpie_upload_menu",function(){if(!jQuery(this).hasClass("wpie_active")){jQuery(".wpie_upload_menu.wpie_active").removeClass("wpie_active"),jQuery(this).addClass("wpie_active"),jQuery(".wpie_upload_section_wrapper:visible").hide();var e=jQuery(this).attr("show_container");jQuery(".wpie_file_upload_method").val(e),jQuery("."+e).show()}}),jQuery(document).on("show.bs.modal",".modal",function(e){var i=1040+10*jQuery(".modal:visible").length;jQuery(this).css("z-index",i),setTimeout(function(){jQuery(".modal-backdrop").not(".modal-stack").css("z-index",i-1).addClass("modal-stack")},0)}),jQuery(document).on("change",".wpie_handle_items",function(){"new"==jQuery(this).val()?jQuery(".wpie_import_existing_item_section").hide():jQuery(".wpie_import_existing_item_section").show()}),jQuery(document).on("change",".wpie_import_type_select",function(){if(!wpieValidateImportExt())return!1;var e=jQuery(this).val();jQuery(".wpie_content_data").attr("class","wpie_content_data wpie_"+e),wpieSetProcessLoader({wpieGetTemplates:wpiePluginSettings.wpieLocalizeText.wpieGetTemplatesText,wpieGetFields:wpiePluginSettings.wpieLocalizeText.wpieGetFieldsText}),wpieImportGetTemplates(),"taxonomies"==e?jQuery(".wpie_taxonomies_types_wrapper").slideDown():jQuery(".wpie_taxonomies_types_wrapper").slideUp(),wpieGetImportFields(e)}),jQuery(document).on("change",".wpie_upload_file_list",function(){wpieSetProcessLoader({wpieValidateUpload:wpiePluginSettings.wpieLocalizeText.wpieParingUploadFileText,wpieGetConfig:wpiePluginSettings.wpieLocalizeText.wpieGetConfigText,wpieGetFields:wpiePluginSettings.wpieLocalizeText.wpieGetFieldsText,wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText}),wpiePluginSettings.importData.activeFile=jQuery(this).val(),wpieValidateUploadedFile(!0,",")}),jQuery(document).on("click",".wpie_layout_tag_wrapper",function(){if(!jQuery(this).hasClass("wpie_active")){wpieSetProcessLoader({wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText}),jQuery(".wpie_element_nav_element").val(1),jQuery(".wpie_layout_tag_wrapper.wpie_active").removeClass("wpie_active"),jQuery(this).addClass("wpie_active");var e=jQuery(this).find(".wpie_layout_tag_name").html(),i="/"+e;jQuery(".wpie_xpath").val(i),wpieGetFilteredRecords(0,1,i,e,!0)}}),jQuery(document).on("click",".wpie_data_element_nav_next",function(){parseInt(jQuery(".wpie_element_nav_element").val())<parseInt(jQuery(".wpie_data_element_action_nav_total").html())&&(wpieSetProcessLoader({wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText}),wpieGotoRecord(parseInt(jQuery(".wpie_element_nav_element").val())+1))}),jQuery(document).on("click",".wpie_data_element_nav_prev",function(){if(1==parseInt(jQuery(".wpie_element_nav_element").val()))return!1;wpieSetProcessLoader({wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText}),wpieGotoRecord(parseInt(jQuery(".wpie_element_nav_element").val())-1)}),jQuery(document).on("blur",".wpie_element_nav_element",function(){wpieSetProcessLoader({wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText});var e=wpiePluginSettings.importData.activeFile,i=wpiePluginSettings.importData[e].count,t=parseInt(jQuery(this).val());(i<t||t<1)&&(t=1),wpieGotoRecord(t)}),jQuery(document).on("click",".wpie_tag.wpie_opening",function(){return jQuery(this).find(".wpie_layout_tag_icon").length&&(jQuery(this).hasClass("wpie_collapsed")?jQuery(this).removeClass("wpie_collapsed"):jQuery(this).addClass("wpie_collapsed")),!1}),jQuery(document).on("click",".wpie_save_add_rule_btn",function(){wpieShowLoader(),wpieAddNewImportRule()&&(jQuery(".wpie_element_list").val("").trigger("chosen:updated"),jQuery(".wpie_element_rule").val("").trigger("chosen:updated"),jQuery(".wpie_element_value").val("")),wpieHideLoader()}),jQuery(document).on("change",".wpie_import_file_processing",function(){"chunk"==jQuery(this).val()?jQuery(".wpie_iteration_process_wrapper").slideDown():jQuery(".wpie_iteration_process_wrapper").slideUp()}),jQuery(document).on("change",".wpie_item_cf_option",function(){"serialized"==jQuery(this).val()?(jQuery(this).closest("tr").find(".wpie_cf_serialized_data_btn").show(),jQuery(this).closest("tr").find(".wpie_cf_normal_data").hide()):(jQuery(this).closest("tr").find(".wpie_cf_serialized_data_btn").hide(),jQuery(this).closest("tr").find(".wpie_cf_normal_data").show())}),jQuery(document).on("click",".wpie_cf_serialized_data_btn",function(){wpieAddSerialyzeLayout(jQuery(this),!0)}),jQuery(document).on("click",".wpie_cf_serialized_close_btn",function(){jQuery(".wpie_cf_serialized_data").hide()}),jQuery(document).on("click",".wpie_cf_add_btn",function(){wpieAddNewCF(jQuery(this).closest("table"))}),jQuery(document).on("click",".wpie_cf_close_btn",function(){jQuery(this).closest(".wpie_cf_child_data").hide()}),jQuery(document).on("click",".wpie_cf_serialized_add_btn",function(){wpieAddNewSerializeCF(jQuery(this).closest(".wpie_cf_serialized_wrapper"))}),jQuery(document).on("click",".wpie_remove_cf_btn",function(){jQuery(this).closest("tbody").children("tr").length<=1&&wpieAddNewCF(jQuery(this).closest("table"));jQuery(this).closest("tr").remove()}),jQuery(document).on("click",".wpie_trash_cf_serialized_btn_wrapper",function(){var e=jQuery(this).closest(".wpie_cf_serialized_wrapper");e.find(".wpie_cf_serialized_option_wrapper").length<=1&&wpieAddNewSerializeCF(e),jQuery(this).closest(".wpie_cf_serialized_option_wrapper").remove()}),jQuery(document).on("click",".wpie_rule_trash_btn",function(){jQuery(this).closest("tr").remove(),jQuery(".wpie_filter_data_rule").length>=1?jQuery(".wpie_filter_data_rule").last().find(".wpie_filter_data_rule_cond_data").html(""):jQuery(".wpie_apply_rule_wrapper").hide()}),jQuery(document).on("click",".wpie_apply_rule_btn",function(){wpieSetProcessLoader({wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText});var e=wpiePluginSettings.importData.activeFile,i=jQuery(".wpie_xpath").val(),t="[";t+=wpieXpathBuilder(jQuery(".wpie_filter_data_rule"),0),t+="]",wpiePluginSettings.importData[e].xpath=i.split("[")[0]+t,jQuery(".wpie_xpath").val(wpiePluginSettings.importData[e].xpath),wpieGetFilteredRecords(0,1,wpiePluginSettings.importData[e].xpath,wpiePluginSettings.importData[e].root,!0)}),jQuery(document).on("blur",".wpie_xpath",function(){var e=jQuery(this).val(),i=wpiePluginSettings.importData.activeFile;wpiePluginSettings.importData[i].xpath!=e&&(wpieSetProcessLoader({wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText}),wpiePluginSettings.importData[i].xpath=e,wpieGetFilteredRecords(0,1,wpiePluginSettings.importData[i].xpath,wpiePluginSettings.importData[i].root,!0))}),jQuery.fn.wpieInsertAtCaret=function(){if(!this.length)return this;var e,i=0,t=jQuery(".wpie_drag_element");t.length||(t=jQuery('<input type="text" class="wpie_drag_element" readonly="readonly" />')),t.appendTo(document.body).mousedown(function(e){if(!i){var p=e.pageX-t.offset().left,a=e.pageY-t.offset().top;p<4||a<4||t.width()-p<0||t.height()-a<0||(t.css("opacity",1),t.select(),i=!0,setTimeout(function(){i=!1},400))}}).mouseup(function(){t.css("opacity",0).css("width",e),t.blur()}),jQuery(document).mousemove(function(){0!=parseInt(t.css("opacity"))&&(setTimeout(function(){t.css("opacity",0)},50),setTimeout(function(){t.css("width",e)},500))}),this.each(function(){var i=jQuery(this),p="{"+i.attr("data_value")+"}";i.mouseover(function(a){t.val(p).offset({left:i.offset().left-2,top:i.offset().top-2}).width(e=i.width()+8).height(i.height())})}).eq(0).mouseover()},jQuery(document).on("click",".wpie_import_step_btn",function(){if(jQuery(this).hasClass("wpie_import_step3_btn")&&!1===wpieIsValidTime())return!1;jQuery(".wpie_import_step").hide(),jQuery("."+jQuery(this).attr("wpie_show")).show(),wpieScrollTop()}),jQuery(document).on("click",".wpie_import_step3_btn",function(){if(!wpieValidateProcess())return!1;var e=wpiePluginSettings.importData.activeFile;if(0==wpiePluginSettings.importData[e].count)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieNoRecordsFoundText),!1;jQuery(".wpie_import_step").hide(),jQuery("."+jQuery(this).attr("wpie_show")).show(),wpieScrollTop()}),jQuery(document).on("click",".wpie_import_step1_btn",function(){var e=!1;if(jQuery(".wpie_upload_section_wrapper:visible .wpie_upload_file_list:checked").length){var i=jQuery(".wpie_upload_section_wrapper:visible .wpie_upload_file_list:checked").val();wpiePluginSettings.importData.activeFile=i,void 0===wpiePluginSettings.importData[i]?e=!0:void 0===wpiePluginSettings.importData[i].fileName&&(e=!0)}else e=!0;if(e)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieChooseValidFileText),!1;jQuery(".wpie_import_step").hide(),jQuery("."+jQuery(this).attr("wpie_show")).show(),wpieScrollTop()}),jQuery(document).on("scroll",function(){if(jQuery(".wpie_field_mapping_data_wrapper").is(":visible")){var e=jQuery(".wpie_field_mapping_data_container").offset();if(jQuery(document).scrollTop()>parseInt(e.top-65)){var i=jQuery(".wpie_field_mapping_data_container").css("width");jQuery(".wpie_field_mapping_data_wrapper").css({width:i,top:"60px",position:"fixed"}),jQuery(".wpie_field_mapping_data_wrapper").find(".wpie_data_fields_container").css({"max-height":jQuery(window).height()-160+"px"})}else{i=jQuery(".wpie_field_mapping_data_container").css("width");jQuery(".wpie_field_mapping_data_wrapper").css({width:"",top:"",position:""}),jQuery(".wpie_field_mapping_data_wrapper").find(".wpie_data_fields_container").css({"max-height":""})}}}),jQuery(document).on("click",".wpie_import_btn",function(){if(!1===wpieIsData())return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieInvalidLicense),!1;wpieInitImport("import")}),jQuery(document).on("click",".wpie_import_action_pause_btn",function(){(jQuery(".wpie_import_process_text_header").text(wpiePluginSettings.wpieLocalizeText.wpieImportPausedText),jQuery(".wpie_import_process_text_notice").text(wpiePluginSettings.wpieLocalizeText.wpieImportPartiallyText),wpiePluginSettings.importData.processStatus="pause",1==wpiePluginSettings.importData.processing)?wpieSetProcessLoader({wpieProcessingNotice:wpiePluginSettings.wpieLocalizeText.wpieImportProcessingNoticeText}):(jQuery(".wpie_import_action_resume_btn").show(),jQuery(".wpie_import_action_pause_btn").hide())}),jQuery(document).on("click",".wpie_import_action_stop_btn",function(){(wpiePluginSettings.importData.processStatus="stop",jQuery(".wpie_import_process_text_header").text(wpiePluginSettings.wpieLocalizeText.wpieImportStoppedText),jQuery(".wpie_import_process_text_notice").text(wpiePluginSettings.wpieLocalizeText.wpieImportPartiallyText),1==wpiePluginSettings.importData.processing)?wpieSetProcessLoader({wpieProcessingNotice:wpiePluginSettings.wpieLocalizeText.wpieImportProcessingNoticeText}):jQuery(".wpie_import_action_container").hide()}),jQuery(document).on("click",".wpie_import_action_resume_btn",function(){wpiePluginSettings.importData.processStatus="processing",jQuery(".wpie_import_process_text_header").text(wpiePluginSettings.wpieLocalizeText.wpieImportProcessingText),jQuery(".wpie_import_process_text_notice").text(wpiePluginSettings.wpieLocalizeText.wpieImportProcessingNoticeText),wpiePluginSettings.importData.importInterval=setInterval(function(){jQuery(".wpie_import_time_elapsed").html(wpieElapsedTimeString(wpiePluginSettings.importData.importIntervalSec++))},1e3),jQuery(this).hide(),jQuery(".wpie_import_action_pause_btn").show(),wpieImportData()}),jQuery(document).on("click",".wpie_field_mapping_container_title",function(){jQuery(this).hasClass("wpie_active")?jQuery(this).removeClass("wpie_active"):jQuery(this).addClass("wpie_active"),jQuery(this).parent().find(".wpie_field_mapping_container_data").slideToggle()}),jQuery(document).on("click",".wpie_save_template_btn",function(){wpieSaveTemplate(0)}),jQuery(document).on("click",".wpie_update_template_btn",function(){var e=jQuery(".wpie_template_list").val();if(""==e)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieEmptyTemplate),!1;wpieSaveTemplate(e)}),jQuery(document).on("click",".wpie_update_item_all_action",function(){jQuery(".wpie_item_update_field").length==jQuery(".wpie_item_update_field:checked").length?jQuery(".wpie_item_update_field").prop("checked",!1):jQuery(".wpie_item_update_field").prop("checked",!0)}),jQuery(document).on("change",".wpie_template_list",function(){if(""!=jQuery(this).val()){var e={wpieChangeTemplates:wpiePluginSettings.wpieLocalizeText.wpieChangeTemplatesText,wpieGetTemplatesText:wpiePluginSettings.wpieLocalizeText.wpieGetTemplatesText};jQuery(".wpie_update_template_btn_wrapper").show(),wpieSetProcessLoader(e),wpieImportGetTemplateData(jQuery(this).val())}else jQuery(".wpie_update_template_btn_wrapper").hide()}),jQuery(document).on("click",".wpie_file_option_btn",function(){var e=jQuery(".wpie_csv_delimiter").val();if(""==e)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.enterCsvDelimiterText),!1;wpieSetProcessLoader({wpieValidateUpload:wpiePluginSettings.wpieLocalizeText.wpieParingUploadFileText,wpieGetFields:wpiePluginSettings.wpieLocalizeText.wpieGetFieldsText,wpieGetRecords:wpiePluginSettings.wpieLocalizeText.wpieGetRecordsText}),wpieValidateUploadedFile(!0,e)}),jQuery(document).on("change",".wpie_item_image_option",function(){"media_library"==jQuery(this).val()?jQuery(".wpie_image_media_option_data").slideUp():jQuery(".wpie_image_media_option_data").slideDown()}),jQuery(document).on("click",".wpie_import_step5_btn",function(){wpieShowLoader();var e=wpiePluginSettings.importData.activeFile;jQuery(".wpie_import_total_count").html(wpiePluginSettings.importData[e].count),jQuery(".wpie_import_filename").html(wpiePluginSettings.importData[e].fileName),jQuery(".wpie_import_filesize").html(wpiePluginSettings.importData[e].fileSize),jQuery(".wpie_import_per_iteration").html(jQuery(".wpie_records_per_request").val()),jQuery(".wpie_import_update_criteria").html(jQuery(".wpie_existing_item_search_logic:checked").val()),jQuery(".wpie_import_type.wpie_active").hasClass("wpie_update_item")?(jQuery(".wpie_import_update_item_summary_text").show(),jQuery(".wpie_import_new_item_summary_text").hide(),jQuery(".wpie_skip_new_items").is(":checked")?jQuery(".wpie_import_update_item_created_summary_text").hide():jQuery(".wpie_import_update_item_skip_summary_text").hide()):(jQuery(".wpie_import_update_item_summary_text").hide(),jQuery(".wpie_skip_existing_items").is(":checked")&&jQuery(".wpie_import_new_item_summary_text").show()),"all"==jQuery(".wpie_import_file_processing:checked").val()?(jQuery(".wpie_import_iteration_text").hide(),jQuery(".wpie_import_hidh_speed_text").show()):(jQuery(".wpie_import_iteration_text").show(),jQuery(".wpie_import_hidh_speed_text").hide(),jQuery(".wpie_import_split_file").is(":checked")||jQuery(".wpie_import_iteration_chunks_text").hide()),wpieHideLoader()}),jQuery(document).on("click",".wpie_existing_file_btn",function(){var e=jQuery(".wpie_upload_existing_file").val();if(""==e)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieChooseValidFileText),!1;wpieSetProcessLoader({wpieSetExistingFileText:wpiePluginSettings.wpieLocalizeText.wpieSetExistingFileText}),jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"GET",data:"action=wpie_import_set_existing_file&wpie_import_id="+wpiePluginSettings.wpieImportId+"&file_name="+e,dataType:"json",async:!0,success:function(i){if(wpieUpdateProcessLoader("wpieSetExistingFileText"),"error"==i.status)return wpieSetErrorMsg(i.message),!1;jQuery(".wpie_final_existing_file").val(e),wpieSetFileData(i)},error:function(e,i){wpieHandleAjaxError(e,i)}})}),jQuery(document).on("click",".wpie_pre_import_btn .wpie_import_bg_process_btn",function(){wpieInitImport("bg")}),jQuery(document).on("click",".wpie_import_processing_btn .wpie_import_bg_process_btn",function(){(wpiePluginSettings.importData.processStatus="bg",jQuery(".wpie_import_process_text_header").text(wpiePluginSettings.wpieLocalizeText.wpieImportBGText),jQuery(".wpie_import_process_text_notice").text(wpiePluginSettings.wpieLocalizeText.wpieImportBGNoticeText),1==wpiePluginSettings.importData.processing)?wpieSetProcessLoader({wpieProcessingNotice:wpiePluginSettings.wpieLocalizeText.wpieImportProcessingNoticeText}):(jQuery(".wpie_import_action_container").hide(),wpieChangeStatus("bg"))}),jQuery(document).on("click",".wpie_save_scheduled_btn",function(){wpieSetProcessLoader({wpieSetScheduleExport:wpiePluginSettings.wpieLocalizeText.wpieSetScheduleExportText});var e=wpiePluginSettings.importData.activeFile,i=1;jQuery(".wpie_import_type.wpie_active").hasClass("wpie_update_item")&&(i=0);var t=wpiePluginSettings.wpieImportId,p=wpiePluginSettings.importData[e].xpath,a=wpiePluginSettings.importData[e].root,r=jQuery(".wpie_import_frm").serialize();jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"POST",data:"action=wpie_save_import_scheduled&wpie_import_id="+t+"&bg=0&xpath="+p+"&root="+a+"&is_new_items="+i+"&"+r,dataType:"json",async:!0,success:function(e){return"error"==e.status?(wpieSetErrorMsg(e.message),!1):(wpieUpdateProcessLoader("wpieSetScheduleExport"),jQuery(".wpie_save_schedule_status_notify").modal({backdrop:"static",keyboard:!1,show:!0}),!1)},error:function(e,i){wpieHandleAjaxError(e,i)}})}),jQuery(document).on("click",".wpie_url_upload_btn",function(){var e=encodeURIComponent(jQuery(".wpie_file_upload_url").val());if(""==e)return wpieSetErrorMsg(wpiePluginSettings.wpieLocalizeText.wpieInvalidURLText),!1;wpieSetProcessLoader({wpieUploadFromURLText:wpiePluginSettings.wpieLocalizeText.wpieUploadFromURLText}),jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"POST",data:"action=wpie_import_upload_file_from_url&wpie_import_id="+wpiePluginSettings.wpieImportId+"&file_url="+e,dataType:"json",async:!0,success:function(i){if(wpieUpdateProcessLoader("wpieUploadFromURLText"),"error"==i.status)return wpieSetErrorMsg(i.message),!1;jQuery(".wpie_upload_final_file_url").val(e),wpieSetFileData(i)},error:function(e,i){wpieUpdateProcessLoader("wpieUploadFromURLText"),wpieHandleAjaxError(e,i)}})}),jQuery(document).on("change",".wpie_item_dropdown_as_specified",function(){"as_specified"==jQuery(this).val()?jQuery(".wpie_item_as_specified_wrapper").show():jQuery(".wpie_item_as_specified_wrapper").hide()}),jQuery(document).on("click",".wpie_ftp_upload_btn",function(){var e=jQuery(".wpie_ftp_hostname").val(),i=jQuery(".wpie_ftp_host_port").val(),t=jQuery(".wpie_ftp_host_username").val(),p=jQuery(".wpie_ftp_host_password").val(),a=jQuery(".wpie_ftp_host_path").val(),r="";if(""===e?r=wpiePluginSettings.wpieLocalizeText.wpieInvalidHostNameText:""==t?r=wpiePluginSettings.wpieLocalizeText.wpieInvalidHostUsernameText:""==p?r=wpiePluginSettings.wpieLocalizeText.wpieInvalidHostPasswordText:""==a&&(r=wpiePluginSettings.wpieLocalizeText.wpieInvalidHostPathText),""!==r)return wpieSetErrorMsg(r),!1;var n={host:e,post:i,username:t,password:p,path:a};jQuery(".wpie_ftp_details").val(JSON.stringify(n)),wpieSetProcessLoader({wpieUploadFromFTPText:wpiePluginSettings.wpieLocalizeText.wpieUploadFromFTPText}),jQuery.ajax({url:wpiePluginSettings.wpieAjaxURL,type:"POST",data:"action=wpie_import_upload_file_from_ftp&wpie_import_id="+wpiePluginSettings.wpieImportId+"&hostname="+e+"&host_port="+i+"&username="+t+"&password="+p+"&host_path="+a,dataType:"json",async:!0,success:function(e){if(wpieUpdateProcessLoader("wpieUploadFromFTPText"),"error"==e.status)return wpieSetErrorMsg(e.message),!1;wpieSetFileData(e)},error:function(e,i){wpieHandleAjaxError(e,i)}})}),jQuery(document).on("change",".wpie_item_attribute_source",function(){"as_specified"==jQuery(this).val()?jQuery(".wpie_attribute_search_existing_data").show():jQuery(".wpie_attribute_search_existing_data").hide()});